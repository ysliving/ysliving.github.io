<!DOCTYPE html>
<html lang="zh-CN">

<!-- Head tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer-when-downgrade">
  
  <meta name="baidu-site-verification" content="p7Pz3jlx4t" />
  <meta name="google-site-verification" content="X31OY0d2sKImNbS2x8-OpITWRK4nn7nZCcXe3_hA9ew" />
  <meta name="msvalidate.01" content="7E2AEE3378AC93764DEAB411177A21A1" />
  <meta name="360-site-verification" content="1d1e81a1a48a1ed2e3308d7cb8e548e7" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- if page has tags, then add tags to keyword -->
  
  
  <meta name="keywords" content="码农,Go语言,golang,Linux,Python,Python,Python3,Python教程,Python 3 教程">
  <!-- page.description has higher priority -->
  <meta name="description" content="一篇文章入门 Python/Python3，Python简明教程，Python入门教程，Python中文教程(Python 3 tutorial)。Python 是一个易于学习、功能强大的编程语言，它拥有高效高级的数据结构和一种简单有效的面向对象编程的编程方法。本文介绍了 Python 的安装、基本类型/内置类型(字符串str，整型，数组，字典 dict 等)、控制流(if, for循环, while 等)、复杂类型(类 class, 方法 method 等)，函数式编程，面向对象编程，错误处理(try except finally)，pip 引入第三方依赖，以及如何写单元测试(unit test)等。">
  <link rel="shortcut icon" href="/img/icon.png">
  <title>
    
    Python 简明教程 | 快速入门 | 码农印象
    
  </title>

  <link rel="canonical" href="https://ysliving.github.io/post/quick-python.html">
  
<link rel="stylesheet" href="/css/geektutu.css">

  <!-- global function -->
  <script>
    window.globalAddScript = function (url, onload, onerror) {
      var s = document.createElement('script');
      s.src = url;
      onload && (s.onload = onload);
      onerror && (s.onerror = onerror);
      document.body.appendChild(s);
    }
    window.globalAddCss = function (url) {
      var s = document.createElement('link');
      s.rel = 'stylesheet';
      s.href = url;
      document.body.appendChild(s);
    }
    window.getPosition = function (ele) {
      var x = 0, y = 0;
      while (ele) {
        x += (ele.offsetLeft - ele.scrollLeft + ele.clientLeft);
        y += (ele.offsetTop - ele.scrollTop + ele.clientTop);
        ele = ele.offsetParent;
      }
      return { x: x, y: y };
    }
    window.getDom = function (str) { return document.querySelector(str) }
  </script>
  <!-- google ad -->
  
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/feed.xml" title="码农印象" type="application/rss+xml">
</head>

<body>
    
<header class="gkt-header col-xs-12 padding-0">
    <div id="gkt-nav" class="gkt-header-container">
        <a href="/" class="gkt-header-title float-left">
            <img class="float-left" src="/img/icon.png" alt="">
            <span>码农印象</span>
        </a>
        <nav class="gkt-header-nav text-right">
            <ul>
                <li><a class="hidden-xs" href="/feed.xml">订阅</a></li>
                <li><a href="/series/">专题</a></li>
                <li><a href="/archives/">归档</a></li>
                <li><a href="/post/link.html">友链</a></li>
                <li><a href="/post/about.html">关于</a></li>
            </ul>
        </nav>
    </div>
    <div id="gkt-cate-nav" class="gkt-header-container hidden-xs">
        
        <nav class="gkt-header-nav float-left">
            <ul>
                
                
                <li class="gkt-cate-name float-left active">
                    <a class="float-left" href="/post/tensorflow-mnist-simplest.html">简明教程 ▾</a>
                    
                    <ul class="gkt-sub-cate">
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/tensorflow-mnist-simplest.html">TensorFlow 教程</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/pandas-dataframe-series.html">Pandas 数据处理</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/quick-golang.html">Go 简明教程</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/quick-rust.html">Rust 简明教程</a></li>
                        
                        <li class="gkt-sub-cate-name active"><a class="float-left"
                                href="/post/quick-python.html">Python 简明教程</a></li>
                        
                    </ul>
                    
                </li>
                
                <li class="gkt-cate-name float-left ">
                    <a class="float-left" href="/post/blog-experience-1.html">杂谈 ▾</a>
                    
                    <ul class="gkt-sub-cate">
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/blog-experience-1.html">建站经历</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/2020.html">年终总结</a></li>
                        
                    </ul>
                    
                </li>
                
                <li class="gkt-cate-name float-left ">
                    <a class="float-left" href="/post/gee.html">从零实现 ▾</a>
                    
                    <ul class="gkt-sub-cate">
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/gee.html">Web框架 - Gee</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/geecache.html">分布式缓存 - GeeCache</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/geeorm.html">ORM框架 - GeeORM</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/geerpc.html">RPC框架 - GeeRPC</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/7days-golang-q1.html">7days-golang Q &amp; A</a></li>
                        
                    </ul>
                    
                </li>
                
                <li class="gkt-cate-name float-left ">
                    <a class="float-left" href="/post/box-tools.html">百宝箱 ▾</a>
                    
                    <ul class="gkt-sub-cate">
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/box-tools.html">工具</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/cheat-sheet-sqlite.html">SQLite 速查表</a></li>
                        
                    </ul>
                    
                </li>
                
                <li class="gkt-cate-name float-left ">
                    <a class="float-left" href="/post/charpter-0/high-performance-go.html">高性能编程 ▾</a>
                    
                    <ul class="gkt-sub-cate">
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-0/high-performance-go.html">序言</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-1/hpg-benchmark.html">性能分析</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-2/hpg-string-concat.html">常用数据结构</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-3/hpg-mutex.html">并发编程</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-4/hpg-reduce-size.html">编译优化</a></li>
                        
                        <li class="gkt-sub-cate-name "><a class="float-left"
                                href="/post/charpter-a1/hpg-gotchas-array-slice.html">语言陷阱</a></li>
                        
                    </ul>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</header>
<div class="gkt-header-placeholder" style="height: 44px"></div>
<div class="gkt-header-placeholder hidden-xs" style="height: 44px"></div>
<script>
    (function () {
        window.addEventListener('scroll', function () {
            if (window.innerWidth < 768) {
                return;
            }
            var nav = document.querySelector('#gkt-nav');
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            scrollTop > 50 && (nav.classList.add('hide'));
            scrollTop <= 50 && (nav.classList.remove('hide'));
        });
        var cateNavs = document.querySelectorAll('#gkt-cate-nav>nav>ul>li');
        [].slice.call(cateNavs).forEach(function (item) {
            var sub = item.querySelector('.gkt-sub-cate');
            if (!sub) return;
            item.addEventListener('mouseenter', function (e) { sub.style.display = 'block'; }, false);
            item.addEventListener('mouseleave', function (e) { sub.style.display = 'none'; }, false);
        })
    })();
</script>
    <!-- Main Content -->
    <div class="main-container">
        <!-- Main Content -->
<main class="col-xs-12 padding-0 markdown-it">
    <!-- Post Container -->
    
    
    <!-- Post Content -->
<div class="float-left post-container box-shadow">
    <div class="u-arrow-wrapper hidden-xs">
        
        <a class="float-left" href="/post/geerpc-day7.html"><i class="u-arrow-left"></i></a>
        
        
        <a class="float-right" href="/post/7days-golang-q1.html"><i class="u-arrow-right"></i></a>
        
    </div>
    <article class="col-xs-12">
        <h1> Python 简明教程 </h1>
        
        
        <div class="hidden-lg hidden-md series_links">
            <p> <strong> Python 简明教程系列文章链接：</strong></p>
            <ul>
                
                <li>
                    <a href="/post/quick-python.html">Python 简明教程</a>
                    <span class="post-item-date">(Oct 17, 2020)</span>
                </li>
                
            </ul>
        </div>
        
        
        <div class="gkt-article-start"></div>
        <p><img src="quick-python/python.jpg" alt="Python 中文教程"></p>
<blockquote>
<p>Python is a programming language that lets you work more quickly and integrate your systems more effectively. – <a target="_blank" rel="noopener" href="https://www.python.org/">python.org</a></p>
</blockquote>
<h2 id="0-安装"><a href="#0-安装" class="headerlink" title="0 安装"></a>0 安装</h2><p>可以直接从官网 <a target="_blank" rel="noopener" href="https://www.python.org/downloads/">python.org/downloads</a> 下载安装，最新版本是 3.9.0。安装过程和普通的 Windows 软件一致。安装完成后，需将安装路径添加到环境变量中。</p>
<p>如果你使用的是 Ubuntu 等 Linux 发行版或 MacOS 系统，操作系统将自带 Python，无需安装。如果操作系统上只有 Python2，在 Debian 和 Ubuntu 上可通过如下方式安装 Python3：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update &amp;&amp; sudo apt-get install python3</span><br></pre></td></tr></table></figure>

<p>在 MacOS 上，可通过如下方式安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install python3</span><br></pre></td></tr></table></figure>

<p>若安装成功，命令行运行 <code>python -V</code> 或 <code>python3 -V</code>，你将看到：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -V</span><br><span class="line">Python 3.7.5</span><br></pre></td></tr></table></figure>

<h2 id="1-Hello-World"><a href="#1-Hello-World" class="headerlink" title="1 Hello World"></a>1 Hello World</h2><p>Python 有两种运行方式：交互式和源文件。在命令行中键入 python3 并回车，则进入了 Python 解释器的交互模式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python3</span><br><span class="line">Python 3.7.5 (default, Nov  7 2019, 10:50:52)</span><br><span class="line">[GCC 8.3.0] on linux</span><br><span class="line">Type <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> or <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; </span><br></pre></td></tr></table></figure>

<p>接下来，我们接着输入：<code>print(&quot;hello world&quot;)</code>，按下回车：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">hello world</span><br><span class="line">&gt;&gt;&gt; </span><br></pre></td></tr></table></figure>

<p>这样就完成了我们的第一个 Python 程序，向世界问好。<code>print()</code> 是 Python 中的一个内置函数，用来在标准输出中打印信息。</p>
<p>在交互模式下，每输入一行代码，按下回车，运行结果就会打印在屏幕上。因此，我们可以将 Python 当做一个简单的计算器，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; 1 + 2 * 100</span><br><span class="line">201</span><br><span class="line">&gt;&gt;&gt; 1 + 2 ** 3</span><br><span class="line">9</span><br></pre></td></tr></table></figure>

<p><code>**</code> 是 Python 中的指数运算符，这里表示 2 的 3 次方。</p>
<p>我们在桌面新建文件夹 test，在 test 文件夹中新建文件 <code>main.py</code>，写入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;1 + 2 =&quot;</span>, <span class="number">1</span> + <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>保存后，在命令行中切换到 test 文件夹，执行 <code>python main.py</code>，将会看到：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python3 main.py</span><br><span class="line">1 + 2 = 3</span><br></pre></td></tr></table></figure>

<p>一般我们使用 IDE，例如 <a target="_blank" rel="noopener" href="https://code.visualstudio.com/">VSCode</a> 或 <a target="_blank" rel="noopener" href="https://www.jetbrains.com/pycharm/download">PyCharm</a> 写 Python 程序。IDE 集成了代码高亮、提示、命令行等功能，能够极大地提升代码的学习和开发效率。</p>
<h2 id="2-基本语法"><a href="#2-基本语法" class="headerlink" title="2 基本语法"></a>2 基本语法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ok = <span class="literal">True</span> <span class="comment"># 布尔值，表示真假，True 或 False</span></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">3.56</span></span><br><span class="line">c = <span class="string">&quot;hello world&quot;</span></span><br><span class="line">d = a * b <span class="comment"># 求 a 和 b 的积</span></span><br><span class="line">print(<span class="string">&quot;c =&quot;</span>, c)</span><br><span class="line">print(<span class="string">&#x27;&#123;0&#125; + &#123;1&#125; = &#123;2&#125;&#x27;</span>.<span class="built_in">format</span>(a, b, d))</span><br></pre></td></tr></table></figure>

<p>运行这段程序：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 main.py</span><br><span class="line">c = hello world</span><br><span class="line">2 + 3.56 = 7.12</span><br></pre></td></tr></table></figure>

<ul>
<li>单行注释以符号 <code>#</code> 开头。</li>
<li>变量一般由数字、字母、下划线构成，但只能以字母或下划线开头。</li>
<li><code>ok = True</code>，表示将字面量，即布尔值 True 赋值给变量 ok。</li>
<li><code>a = 2</code>，表示将字面量，即整数 2 赋值给变量 a</li>
<li><code>b = 3.56</code>，表示将字面量，即浮点数 3.56 赋值给变量 b</li>
<li><code>c = &quot;hello world&quot;</code>，表示将字符串 hello world 赋值给变量 c。</li>
</ul>
<p>单行字符串一般使用双引号 <code>&quot;</code>，也可以使用单引号 <code>&#39;</code>，多行字符串通常使用三个单引号或三个双引号。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;I&#x27;m 极客兔兔&quot;</span></span><br><span class="line">b = <span class="string">&#x27;c = &quot;hello world&quot;&#x27;</span></span><br><span class="line">d = <span class="string">&quot;&quot;&quot;这是一个多行字符串；</span></span><br><span class="line"><span class="string">这是第二行；</span></span><br><span class="line"><span class="string">这是第三行。</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<p>执行结果为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python3 main.py                                                             </span><br><span class="line">I<span class="string">&#x27;m 极客兔兔</span></span><br><span class="line"><span class="string">c = &quot;hello world&quot;</span></span><br><span class="line"><span class="string">这是一个多行字符串，</span></span><br><span class="line"><span class="string">这是第二行</span></span><br><span class="line"><span class="string">这是第三行</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<p><code>format</code> 可以格式化字符串，<code>&#123;0&#125;</code> 表示用 format 的第一个参数的值替代，<code>&#123;1&#125;</code> 表示用第二个值替代，以此类推。</p>
<p>format 还有其他使用方式，省略序号或使用键值对：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name, age = <span class="string">&quot;小明&quot;</span>, <span class="number">13</span> <span class="comment"># 一行中可以声明多个变量</span></span><br><span class="line">print(<span class="string">&quot;&#123;&#125;今年 &#123;&#125; 岁&quot;</span>.<span class="built_in">format</span>(name, age)) <span class="comment"># 按顺序使用，&#123;&#125;可省略序号</span></span><br><span class="line">print(<span class="string">&quot;&#123;name&#125;明年 &#123;age&#125; 岁&quot;</span>.<span class="built_in">format</span>(name=name, age=age+<span class="number">1</span>)) <span class="comment"># 使用键值对</span></span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python3 main.py</span><br><span class="line">小明今年 13 岁</span><br><span class="line">小明明年 14 岁</span><br></pre></td></tr></table></figure>

<p>如果代码写的有问题，Python 执行时将会报错，例如这段：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">13</span></span><br><span class="line">print(<span class="string">&quot;今年 &#123; 岁\n明年 &#123;&#125; 岁&quot;</span>.<span class="built_in">format</span>(age, age+<span class="number">1</span>)) <span class="comment"># \n 表示换行打印</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python3 main.py</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line 2, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;今年 &#123; 岁\n明年 &#123;&#125; 岁&quot;</span>.format(age, age+1))</span><br><span class="line">ValueError: unexpected <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">in</span> field name</span><br></pre></td></tr></table></figure>

<p>报错时打印了发生错误的堆栈信息：</p>
<ul>
<li><code>File &quot;main.py&quot;, line 2</code> 表示错误发生在 <code>main.py</code> 的第 2 行。</li>
<li><code>ValueError: unexpected &#39;&#123;&#39; in field name</code> 表示错误原因是 <code>&#123;</code> 括号使用有误。在这里，我们没有成对使用大括号作为占位符，导致报错。</li>
</ul>
<h2 id="3-运算符与表达式"><a href="#3-运算符与表达式" class="headerlink" title="3 运算符与表达式"></a>3 运算符与表达式</h2><h3 id="3-1-运算符"><a href="#3-1-运算符" class="headerlink" title="3.1 运算符"></a>3.1 运算符</h3><p>常见的加减乘除运算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> + <span class="number">2</span> <span class="comment"># 加</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> - <span class="number">6</span> <span class="comment"># 减</span></span><br><span class="line">-<span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> * <span class="number">3</span> <span class="comment"># 乘</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">6</span> / <span class="number">4</span> <span class="comment"># 除</span></span><br><span class="line"><span class="number">1.5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">6</span> // <span class="number">4</span> <span class="comment"># 除取整</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">6</span> + <span class="number">2</span> * (<span class="number">1</span> + <span class="number">3</span>) <span class="comment"># 运算顺序和正常的数学运算一致，先乘除，后加减，括号优先</span></span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> ** <span class="number">4</span> <span class="comment"># 指数，2 的 4 次方</span></span><br><span class="line"><span class="number">16</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">6</span> % <span class="number">4</span> <span class="comment"># 取模/余数</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>大小比较运算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> &lt; <span class="number">18</span> <span class="comment"># 小于</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> &lt;= <span class="number">18</span> <span class="comment"># 小于等于</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1.2</span> &gt; <span class="number">3.4</span> <span class="comment"># 大于</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1.2</span> &gt;= <span class="number">3.4</span> <span class="comment"># 大于等于</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> == <span class="number">18</span> <span class="comment"># 等于</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> != <span class="number">18</span> <span class="comment"># 不等于</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>逻辑运算符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> &gt;= <span class="number">8</span> <span class="keyword">and</span> <span class="number">5</span> &gt; <span class="number">6</span> <span class="comment"># and 布尔与/且，全真为真，有假为假</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">12</span> &gt;= <span class="number">8</span> <span class="keyword">or</span> <span class="number">5</span> &gt; <span class="number">6</span> <span class="comment"># or 布尔或，全假为假，有真为真</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">not</span> <span class="number">5</span> &gt; <span class="number">6</span> <span class="comment"># not 布尔非</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>此外还支持 <code>&lt;&lt;</code> (左移)、<code>&gt;&gt;</code> (右移)、<code>&amp;</code> (按位与)、<code>|</code> (按位或)、<code>^</code> (按位异或)、<code>~</code> (按位取反) 等位运算符。</p>
<p>赋值运算符  <code>=</code>，将 <code>=</code> 右侧的值赋值给左侧，左侧需要一个变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span></span><br><span class="line">a = a * (<span class="number">3</span> + <span class="number">4</span>) <span class="comment"># 将 a * (3 + 4) 的值 14 赋值给 a。</span></span><br></pre></td></tr></table></figure>

<p>对一个变量进行计算，将计算的结果赋值给该变量，可以简写为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span></span><br><span class="line">a *= <span class="number">3</span> + <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-表达式"><a href="#3-2-表达式" class="headerlink" title="3.2 表达式"></a>3.2 表达式</h3><p>Python中，值、变量和运算符共同组成的整体称为表达式，通常我们所写出的程序语句包含若干个表达式。例如上述的 <code>3 + 4</code> 即构成了一个简单的表达式。值和变量也被称作为操作数，运算符也被称为操作符。</p>
<h2 id="4-控制流"><a href="#4-控制流" class="headerlink" title="4 控制流"></a>4 控制流</h2><p>Python 语句是自上而下执行的，如果在这个过程中，我们希望通过一些条件判断，执行不同的逻辑怎么办呢？可以通过控制流语句实现，Python 中一共有 <code>if</code>、<code>for</code>、<code>while</code> 三个控制流语句。</p>
<h3 id="4-1-if-语句"><a href="#4-1-if-语句" class="headerlink" title="4.1 if 语句"></a>4.1 if 语句</h3><p><code>if</code> 用于检查条件是否为真，如果为真则执行，通常与 <code>else</code>，<code>elif</code> (else if) 结合使用。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">13</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;adult&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> age &lt; <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;child&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>Python 使用缩进代表不同的代码块，一般缩进使用 4 个空格表示。你可以看到 <code>print()</code> 前有 4 个空格。</p>
<p>上述代码可以简化成：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">13</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;adult&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;child&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>如果我们有多个条件判断分支时，<code>elif</code> 就能派上用场了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">45</span></span><br><span class="line"><span class="keyword">if</span> age &lt; <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">&#x27;小孩&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> age &lt; <span class="number">60</span>:</span><br><span class="line">    print(<span class="string">&#x27;中年人&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;老人&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="4-2-for-语句"><a href="#4-2-for-语句" class="headerlink" title="4.2 for 语句"></a>4.2 for 语句</h3><p>有些代码块需要执行多次，这种情况我们可以使用 <code>for</code> 循环语句，例如打印数字 1 - 5：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>): <span class="comment"># 0, 1, 2, 3, 4 从0开始，不包含 5</span></span><br><span class="line">    print(i + <span class="number">1</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>执行结果为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 main.py</span><br><span class="line">1 2 3 4 5</span><br></pre></td></tr></table></figure>

<ul>
<li><code>print()</code> 函数默认以换行符结尾，如果我们希望替换成空格，只需要将参数 end 设置为空格即可。</li>
<li><code>range()</code> 也是一个内置函数，用于生成数字序列，常用于 for 循环语句中。若只传入一个参数 N，代表生成 <code>[0, N) </code>的整数序列，从 0 开始，不包含N。如果我们不想从 0 开始怎么办呢？<code>range()</code> 也支持传入多个参数，例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">5</span>): <span class="comment"># [2, 5)</span></span><br><span class="line">    print(<span class="string">&quot;&#123;0&#125; * &#123;0&#125; = &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(i, i ** <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 结果如下</span></span><br><span class="line"><span class="comment"># 2 * 2 = 4</span></span><br><span class="line"><span class="comment"># 3 * 3 = 9</span></span><br><span class="line"><span class="comment"># 4 * 4 = 16</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>): <span class="comment"># 第三个参数为步长 step，从1开始，每次加 2</span></span><br><span class="line">    print(i, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 1 3 5 7 9</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>, <span class="number">2</span>, -<span class="number">2</span>): <span class="comment"># 步长-2，从10开始，每次加-2</span></span><br><span class="line">    print(i, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 10 8 6 4</span></span><br></pre></td></tr></table></figure>

<p>那如果在 for 循环中，遇到某个条件想退出循环呢？通常 <code>for</code>  还与 <code>break</code> 和 <code>continue</code> 结合使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">if</span> i &lt;= <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">continue</span> <span class="comment"># i &lt;= 3，继续循环，不执行下面的语句</span></span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">10</span>:</span><br><span class="line">        <span class="keyword">break</span>    <span class="comment"># i &gt;= 10 时，终止循环</span></span><br><span class="line">    print(i, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 4 5 6 7 8 9</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>continue</code> 语句用来跳过当前循环语句块中的其余部分，然后继续执行循环的下一个迭代。</li>
<li><code>break</code> 语句用来终止循环。</li>
<li>因此，<code>i &lt;= 3</code> 时，跳过了 print 语句，<code>i &gt;= 10</code> 时循环被终止，那么这个程序将会打印出数字 4 5 6 7 8 9。</li>
</ul>
<h3 id="4-3-while-语句"><a href="#4-3-while-语句" class="headerlink" title="4.3 while 语句"></a>4.3 while 语句</h3><p>与 <code>for</code> 循环语句类似，<code>while</code> 通常也用于循环表达式中。while 后面跟一个条件，条件为真时，执行 while 代码块；条件为假时，终止循环。一般 while 可以替代 for 循环，刚才我们使用 for 打印了数字 1 - 5，接下来用 while 改写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">5</span>: <span class="comment"># 第1次迭代i==0，满足条件，第6次迭代时，i==5，不满足条件</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    print(i, end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment"># 1,2,3,4,5,</span></span><br></pre></td></tr></table></figure>

<p>同样的，<code>continue</code> 和 <code>break</code> 语句也能在 <code>while</code> 语句中使用。例如我们实现一个简单的功能，用户每输入一个数字，打印这个数字的平方，直到输入 0 时结束。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    num = <span class="built_in">input</span>(<span class="string">&#x27;请输入一个数字: &#x27;</span>)</span><br><span class="line">    num = <span class="built_in">int</span>(num)</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;结束&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    print(<span class="string">&quot;&#123;&#125;^2 = &#123;&#125;&quot;</span>.<span class="built_in">format</span>(num, num ** <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python3 main.py</span><br><span class="line">请输入一个数字: 12</span><br><span class="line">12^2 = 144</span><br><span class="line">请输入一个数字: 18</span><br><span class="line">18^2 = 324</span><br><span class="line">请输入一个数字: 0</span><br><span class="line">结束</span><br></pre></td></tr></table></figure>

<ul>
<li><code>while True</code> 代表进入无限循环，只有通过 <code>break</code> 语句才能结束。</li>
<li><code>input()</code> 是一个内置函数，用于接受用户的输入，返回一个字符串。input 可以传入一个字符串，作为输入的提示语句。</li>
<li><code>num = int(num)</code> 是将 num 转换为整型，因为字符串不能计算平方，只有数字才行。</li>
</ul>
<h2 id="5-函数"><a href="#5-函数" class="headerlink" title="5 函数"></a>5 函数</h2><p>在之前的例子中，我们已经使用了 <code>print</code>、<code>range</code>、<code>input</code> 等 Python 常用的内置函数，对函数已经不陌生了。那函数是什么呢？函数可以理解为一块可以复用的代码块，可以为这个代码块起一个名字（函数名），也可以定义传入的参数（形参），以及返回结果（返回值）。函数定义一般长这个样子：关键字 <code>def</code> 作为函数的标识符，紧接着是函数名，函数名的命名规范与变量一致，通常由数字、字母和下划线构成，以字母或下划线开头。函数名后面有一对小括号和一个冒号 <code>:</code>，里面可以定义参数列表，也可以没有参数。接下来便是一个语句块作为函数体。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 函数名(<span class="params">参数名<span class="number">1</span>, 参数名<span class="number">2</span>, ...</span>):</span></span><br><span class="line">    body 函数体，函数体同样通过缩进来体现</span><br></pre></td></tr></table></figure>

<p>那比如我们实现一个函数 <code>area</code>，用于计算长方形的面积，接受 2 个参数长 <code>length</code> 和宽 <code>width</code>，返回一个值，即面积。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">length, width</span>):</span></span><br><span class="line">    <span class="keyword">return</span> length * width</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;area1: &#x27;</span>, area(<span class="number">10</span>, <span class="number">8</span>)) <span class="comment"># area1:  80，第一次调用</span></span><br><span class="line">print(<span class="string">&#x27;area2: &#x27;</span>, area(<span class="number">6</span>, <span class="number">8</span>)) <span class="comment"># area2:  48，第二次调用</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>return</code> 是 Python 中的一个关键字，用于函数体中，即跳出这个函数，不再执行。</li>
<li><code>return</code> 可以跟一个或多个值作为返回值，也可以没有返回值。</li>
<li>没有返回值时，<code>return</code> 事实上等价于 <code>return None</code>，<code>None</code> 是一个关键字，表示空。</li>
<li>如果函数没有 <code>return</code> 语句，系统会自动在函数的结尾添加 <code>return None</code> 语句。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a // b, a % b <span class="comment"># 多个返回值，事实上是一个元组(tuple)类型，后面章节会介绍</span></span><br><span class="line"></span><br><span class="line">print(calc(<span class="number">8</span>, <span class="number">3</span>)) <span class="comment"># (2, 2)</span></span><br><span class="line"></span><br><span class="line">x, y = calc(<span class="number">8</span>, <span class="number">5</span>) <span class="comment"># 两个返回值分别赋值给变量 x, y</span></span><br><span class="line">print(x, y) <span class="comment"># 1, 3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">log</span>(<span class="params">mode</span>):</span></span><br><span class="line">    <span class="keyword">if</span> mode == <span class="string">&#x27;debug&#x27;</span>:</span><br><span class="line">        print(<span class="string">&#x27;debug mode&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    print(<span class="string">&#x27;release mode&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(log(<span class="string">&#x27;release&#x27;</span>)) </span><br><span class="line"><span class="comment"># release mode</span></span><br><span class="line"><span class="comment"># None</span></span><br></pre></td></tr></table></figure>

<h3 id="5-1-局部变量与全局变量"><a href="#5-1-局部变量与全局变量" class="headerlink" title="5.1 局部变量与全局变量"></a>5.1 局部变量与全局变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span> <span class="comment"># x 是全局变量，可在其他函数中使用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_global</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_local</span>():</span></span><br><span class="line">    x = <span class="number">100</span> <span class="comment"># x 是局部变量，不影响全局变量中的 x</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line">print_global() <span class="comment"># 10</span></span><br><span class="line">print_local() <span class="comment"># 100</span></span><br><span class="line">print_global() <span class="comment"># 10</span></span><br></pre></td></tr></table></figure>

<p>我们定义了全局变量 x，在 <code>print_local</code> 中定义了与全局变量同名的局部变量 x，并将 100 赋值给 x，在这里修改的是局部变量的值，局部变量只在这个函数内部有效，全局变量不会受到影响。因此，两次 <code>print_global</code> 的结果都是 10。</p>
<p>定义局部变量的好处在于，控制变量的作用域范围，减少各个函数之间的干扰。全局变量可以在多个函数之间共享，一般建议仅将只读的变量设置为全局变量，比如圆周率 <code>π</code> 的值。那如果我们想修改全局变量怎么办呢？可以使用 <code>global</code> 关键字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span> <span class="comment"># x 是全局变量，可在其他函数中使用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_global</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_local</span>():</span></span><br><span class="line">    <span class="keyword">global</span> x</span><br><span class="line">    x = <span class="number">100</span> </span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line">print_global() <span class="comment"># 10</span></span><br><span class="line">print_local() <span class="comment"># 100</span></span><br><span class="line">print_global() <span class="comment"># 100</span></span><br></pre></td></tr></table></figure>

<p>在 <code>print_local</code> 中，使用 <code>global x</code> 告诉 Python x 是一个全局变量，而非局部变量。因此 <code>x = 100</code> 将修改全局变量 x 的值。所以第二个 <code>print_global()</code> 将打印 100。</p>
<h3 id="5-2-可选参数与默认值"><a href="#5-2-可选参数与默认值" class="headerlink" title="5.2 可选参数与默认值"></a>5.2 可选参数与默认值</h3><p>如果有多个参数，那能不能给某些参数设置默认值，这样用户可以选择性地传入或不传入该参数的值呢？答案是可以的，Python 允许给参数设置默认值，在使用者看来，就像是实现了C++的函数重载一样。</p>
<blockquote>
<p>重载函数是函数的一种特殊情况，为方便使用，C++允许在同一范围中声明几个功能类似的同名函数，但是这些同名函数的形式参数（指参数的个数、类型或者顺序）必须不同，也就是说用同一个函数完成不同的功能，这就是重载函数。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet</span>(<span class="params">msg, times=<span class="number">1</span></span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(times):</span><br><span class="line">        print(msg)</span><br><span class="line"></span><br><span class="line">greet(<span class="string">&#x27;Hi, Jack&#x27;</span>)</span><br><span class="line">greet(<span class="string">&#x27;Hello, Mr Dai&#x27;</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Hi, Jack</span><br><span class="line">Hi, Tom</span><br><span class="line">Hi, Tom</span><br><span class="line">Hi, Tom</span><br></pre></td></tr></table></figure>

<ul>
<li><code>greet</code> 函数的功能是打印 msg，默认是1次，但可以通过参数 times 控制。</li>
<li>带默认值的参数只能位于参数列表的末尾，不能位于非默认值参数前面。例如 <code>def greet(times=1, msg)</code> 是不允许的。</li>
<li>默认值参数可以有 0 或多个。</li>
</ul>
<p>Python 中，参数的传递还可以更加地灵活，除了按顺序传入以外，还可以通过键值对的方式传入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">greet(<span class="string">&#x27;Hi, Jack&#x27;</span>, times=<span class="number">2</span>) <span class="comment"># 混合方式</span></span><br><span class="line">greet(msg=<span class="string">&#x27;Hi, Tom&#x27;</span>, times=<span class="number">3</span>)</span><br><span class="line">greet(times=<span class="number">3</span>, msg=<span class="string">&#x27;Hi, Tom&#x27;</span>) <span class="comment"># 均为键值对的情况下，顺序没有关系</span></span><br></pre></td></tr></table></figure>

<p>键值对传参特别适用于参数列表非常多，且大部分均有默认参数的情况。无需关注参数的顺序，而只需将需要设置的几个参数传入即可。</p>
<h3 id="5-3-可变参数"><a href="#5-3-可变参数" class="headerlink" title="5.3 可变参数"></a>5.3 可变参数</h3><p>Python 还支持可变参数。函数定义时如果参数的个数是不确定的，那么就适合使用可变参数来代替。可变参数有 2 种，元组式(tuple，元组可以认为是一个不可变的有序集合)和字典式(dict)。元组式可变参数用 <code>*参数名</code> 表示，传入的实际参数会构成一个元组，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实现一个求和函数，支持传入任意个数字</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_n</span>(<span class="params">*nums</span>):</span></span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">        s += num</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">print(sum_n(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment"># 6</span></span><br><span class="line">print(sum_n(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)) <span class="comment"># 15</span></span><br></pre></td></tr></table></figure>

<p>字典式(键值对式)可变参数用<code>**参数名表示</code>，传入的实际参数会构成一个字典(dict)，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_student</span>(<span class="params">**students</span>):</span></span><br><span class="line">    <span class="keyword">for</span> name, age <span class="keyword">in</span> students.items():</span><br><span class="line">        print(<span class="string">&#x27;&#123;&#125;今年 &#123;&#125; 岁&#x27;</span>.<span class="built_in">format</span>(name, age))</span><br><span class="line"></span><br><span class="line">print_student(小明=<span class="number">8</span>, 小红=<span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">小明今年 8 岁</span><br><span class="line">小红今年 7 岁</span><br></pre></td></tr></table></figure>

<blockquote>
<p>元组(tuple) 和 字典(dict) 都是 Python 内置的数据结构，我们在下一章节会讲到。</p>
</blockquote>
<h3 id="5-4-文档字符串-doc"><a href="#5-4-文档字符串-doc" class="headerlink" title="5.4 文档字符串 __doc__"></a>5.4 文档字符串 <code>__doc__</code></h3><p>给每一个函数写文档是编程的好习惯，在 Python 中，对每个函数来说，有一个内置的属性 <code>__doc__</code> 保存了函数的说明文档，Python 中称之为 <code>DocStrings</code>。那怎么定义这个属性呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_student</span>(<span class="params">**students</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;Prints name and age for every student.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    key is name, and value is age.&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> name, age <span class="keyword">in</span> students.items():</span><br><span class="line">        print(<span class="string">&#x27;&#123;&#125;今年 &#123;&#125; 岁&#x27;</span>.<span class="built_in">format</span>(name, age))</span><br><span class="line"></span><br><span class="line">print_student(小明=<span class="number">8</span>, 小红=<span class="number">7</span>)</span><br><span class="line">print(print_student.__doc__) <span class="comment"># 打印 __doc__ 的值</span></span><br><span class="line"><span class="built_in">help</span>(print_student)</span><br></pre></td></tr></table></figure>

<ul>
<li>函数体一开始使用三个单引号<code>&#39;&#39;&#39;</code>标志 DocStrings 的开始。</li>
<li>第一行描述函数的作用，首字母大写。第二行为空行，第三行是详细的描述，可以包括函数每一个参数的介绍等。</li>
</ul>
<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">小明今年 8 岁</span><br><span class="line">小红今年 7 岁</span><br><span class="line">Prints name and age <span class="keyword">for</span> every student.</span><br><span class="line"></span><br><span class="line">    key is name, and value is age.</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Help on <span class="keyword">function</span> print_student <span class="keyword">in</span> module __main__:</span><br><span class="line"></span><br><span class="line">print_student(**students)</span><br><span class="line">    Prints name and age <span class="keyword">for</span> every student.</span><br><span class="line">    </span><br><span class="line">    key is name, and value is age.</span><br></pre></td></tr></table></figure>

<ul>
<li><code>help()</code> 函数也是 Python 的内置函数，提供一种更优美的方式查看某个函数的 DocStrings，通常在交互模式下使用。</li>
</ul>
<h2 id="6-数据结构"><a href="#6-数据结构" class="headerlink" title="6 数据结构"></a>6 数据结构</h2><p>Python 内置了常用的几种数据结构：列表(list)、元组(tuple)、字典(dict) 和集合(set)，几乎所有程序都会用到这几种数据结构。</p>
<h3 id="6-1-字符串-string"><a href="#6-1-字符串-string" class="headerlink" title="6.1 字符串(string)"></a>6.1 字符串(string)</h3><p>字符串可以说是最常用的数据类型了。字符串可以使用 <code>&quot;</code>、<code>&#39;</code>、<code>&quot;&quot;&quot;</code>、<code>&#39;&#39;&#39;</code> 表示。三引号通常用于表示多行字符串。字符串是字符序列，在 Python 中，序列支持下标索引、for 循环、切片等系列操作，后面提到的列表(list)、元组(tuple)也都属于序列。字符串是不可变数据类型，不支持修改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;I&#x27;m geektutu&quot;</span></span><br><span class="line">print(<span class="built_in">len</span>(s)) <span class="comment"># 12</span></span><br><span class="line">print(s[<span class="number">0</span>], s[-<span class="number">1</span>]) <span class="comment"># I u</span></span><br></pre></td></tr></table></figure>

<p><code>[]</code> 操作符可以按照下标索引到元素的值，下标从 0 开始，支持负数，-1 表示最后一个元素，以此类推。<code>[]</code> 除了可以用于下标索引外，还可以用来切片，例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;I&#x27;m geektutu&quot;</span></span><br><span class="line">print(s[:-<span class="number">3</span>]) <span class="comment"># I&#x27;m geekt，等价于 s[0:-3]</span></span><br><span class="line">print(s[<span class="number">4</span>:]) <span class="comment"># geektutu，等价于 print(s[4:len(s)])</span></span><br><span class="line">print(s[<span class="number">4</span>::<span class="number">2</span>]) <span class="comment"># gett</span></span><br><span class="line">print(s[::-<span class="number">1</span>]) <span class="comment"># tutkeeg m&#x27;I</span></span><br></pre></td></tr></table></figure>

<p>切片能够快速截取序列中的一部分，使用方式可以表示为 <code>[start:end:step]</code>，与 range 类似，包含开始，不包含结束。</p>
<ul>
<li><code>start</code> 默认值为 0，如果为 0，可以省略不写。</li>
<li><code>end</code> 默认值为列表的长度，如果为列表长度，可以省略不写。</li>
<li><code>step</code> 默认值为 1，如果为1，可以省略不写。</li>
</ul>
<h3 id="6-2-列表-list"><a href="#6-2-列表-list" class="headerlink" title="6.2 列表(list)"></a>6.2 列表(list)</h3><p><code>list</code> 是一种表示有序项集合的数据结构。有序且允许重复，支持增删查改，是一种可变数据类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">persons = <span class="built_in">list</span>() <span class="comment"># 声明一个空列表</span></span><br><span class="line">persons = [] <span class="comment"># 声明一个空列表</span></span><br><span class="line">persons = [<span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;Sam&#x27;</span>] <span class="comment"># 声明一个非空列表</span></span><br><span class="line">persons.append(<span class="string">&#x27;KangKang&#x27;</span>) <span class="comment"># 添加一个元素</span></span><br><span class="line">print(persons[<span class="number">1</span>]) <span class="comment"># Jack 打印第1个元素，下标从 0 开始。</span></span><br><span class="line">persons.remove(<span class="string">&#x27;Jack&#x27;</span>) <span class="comment"># 删除 Jack，只删除第一次出现的位置</span></span><br><span class="line">print(persons)  <span class="comment"># [&#x27;Tom&#x27;, &#x27;Jack&#x27;, &#x27;Sam&#x27;, &#x27;KangKang&#x27;]</span></span><br><span class="line"><span class="keyword">del</span> persons[-<span class="number">2</span>] <span class="comment"># 删除倒数第二个元组 Sam</span></span><br><span class="line">print(persons) <span class="comment"># [&#x27;Tom&#x27;, &#x27;Jack&#x27;, &#x27;KangKang&#x27;]</span></span><br><span class="line"></span><br><span class="line">persons.sort() <span class="comment"># 排序</span></span><br><span class="line"><span class="comment"># 遍历列表</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> persons:</span><br><span class="line">    print(name, end=<span class="string">&#x27; &#x27;</span>) <span class="comment"># Jack KangKang Tom</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>append</code> 添加元素，<code>remove</code> 按值删除某个元素，<code>del</code> 按下标删除元素。</li>
<li><code>sort()</code> 用于给列表排序。</li>
</ul>
<p>列表和字符串一样，是一种序列，因此也支持切片。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]</span><br><span class="line">print(<span class="built_in">len</span>(numbers)) <span class="comment"># 长度 5</span></span><br><span class="line">print(numbers[:<span class="number">3</span>]) <span class="comment"># 2 4 6</span></span><br><span class="line">print(numbers[<span class="number">0</span>:<span class="number">3</span>]) <span class="comment"># 2 4 6</span></span><br><span class="line">print(numbers[<span class="number">1</span>:-<span class="number">1</span>]) <span class="comment"># 4 6 8</span></span><br><span class="line">print(numbers[<span class="number">1</span>:]) <span class="comment"># 4 6 8 10</span></span><br><span class="line">print(numbers[<span class="number">1</span>:<span class="number">5</span>:<span class="number">2</span>]) <span class="comment"># 4 8</span></span><br><span class="line">print(numbers[<span class="number">1</span>::<span class="number">2</span>]) <span class="comment"># 4 8</span></span><br></pre></td></tr></table></figure>

<p>列表的值可以是任意类型，而且一个列表中允许不同类型的值存在，当然也允许嵌套列表存在。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">1.3</span>, <span class="string">&quot;Student&quot;</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</span><br></pre></td></tr></table></figure>

<p>判断一个值是否在一个列表中，可以使用 <code>in</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Student&quot;</span> <span class="keyword">in</span> a) <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<p>列表与字符串有一个非常常用的处理组合 <code>split</code> 和 <code>join</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;1,5,2,4,3&quot;</span></span><br><span class="line">parts = s.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">print(parts) <span class="comment"># [&#x27;1&#x27;, &#x27;5&#x27;, &#x27;2&#x27;, &#x27;4&#x27;, &#x27;3&#x27;]</span></span><br><span class="line">parts.sort()</span><br><span class="line">print(<span class="string">&#x27;:&#x27;</span>.join(parts)) <span class="comment"># 1:2:3:4:5</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>split</code> 用于将字符串按照某个分隔符切割成列表。</li>
<li><code>join</code> 用于将字符串列表按照某个分隔符合并在一起。</li>
</ul>
<blockquote>
<p>关于列表的更多操作参考 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/tutorial/datastructures.html">list - Python官方文档</a></p>
</blockquote>
<h3 id="6-2-元组-tuple"><a href="#6-2-元组-tuple" class="headerlink" title="6.2 元组(tuple)"></a>6.2 元组(tuple)</h3><p>元组也是有序集合，用小括号表示。很多特性与列表(list) 一致，不同点在于元组是不可变数据类型，即不允许增删改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">students = (<span class="string">&#x27;Tom&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">print(<span class="built_in">len</span>(students))  <span class="comment"># 4</span></span><br><span class="line">print(students[<span class="number">1</span>:<span class="number">3</span>]) <span class="comment"># 切片：(18, &#x27;Jack&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>如果尝试修改元组，会出现如下报错：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">students[0] = <span class="string">&#x27;KangKang&#x27;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line 4, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    students[0] = <span class="string">&#x27;KangKang&#x27;</span></span><br><span class="line">TypeError: <span class="string">&#x27;tuple&#x27;</span> object does not support item assignment</span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于元组的更多操作参考 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/tutorial/datastructures.html#tuples-and-sequences">tuple - Python官方文档</a></p>
</blockquote>
<h3 id="6-4-字典-dict"><a href="#6-4-字典-dict" class="headerlink" title="6.4 字典(dict)"></a>6.4 字典(dict)</h3><p>字典由若干个键值对构成，能够快速地根据键(key)查找到对应的值(value)，在一个字典中，键是不能重复的。字典是可变数据类型，支持增删查改。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">students = &#123;&#125; <span class="comment"># 声明空字典</span></span><br><span class="line">students = <span class="built_in">dict</span>() <span class="comment"># 声明空字典</span></span><br><span class="line">students = &#123;</span><br><span class="line">    <span class="string">&#x27;Tom&#x27;</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="string">&#x27;Jack&#x27;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&#x27;Same&#x27;</span>: <span class="number">19</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">students[<span class="string">&#x27;KangKang&#x27;</span>] = <span class="number">17</span> <span class="comment"># 新增</span></span><br><span class="line">students[<span class="string">&#x27;Tom&#x27;</span>] = <span class="number">20</span> <span class="comment"># 修改</span></span><br><span class="line">print(students[<span class="string">&#x27;Tom&#x27;</span>]) <span class="comment"># 20, 通过 key 索引</span></span><br><span class="line"><span class="keyword">del</span> students[<span class="string">&#x27;Jack&#x27;</span>] <span class="comment"># 删除</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历</span></span><br><span class="line"><span class="keyword">for</span> name, age <span class="keyword">in</span> students.items():</span><br><span class="line">    print(name, age)</span><br><span class="line"><span class="comment"># Tom 20</span></span><br><span class="line"><span class="comment"># Same 19</span></span><br><span class="line"><span class="comment"># KangKang 17</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>items()</code> 可以同时获取键和值，除此之外，字典还支持仅获取所有键 <code>keys()</code>，所有值<code>values()</code>等方法，字典是无序的，这三个方法返回值的顺序是不能保证的。</p>
</li>
<li><p>判断字典中是否包含某个键，同样可以使用 <code>in</code>，例如 <code>if &#39;Tom&#39; in students</code>。</p>
</li>
<li><p>获取字典的键值对个数，可以使用 <code>len</code>，例如<code>len(students)</code>。</p>
</li>
</ul>
<blockquote>
<p>关于字典的更多操作参考 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/tutorial/datastructures.html#dictionaries">dict - Python官方文档</a></p>
</blockquote>
<h3 id="6-4-集合-set"><a href="#6-4-集合-set" class="headerlink" title="6.4 集合(set)"></a>6.4 集合(set)</h3><p>Python 中的集合与数学中的集合类似，特点是无序且不重复。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>() <span class="comment"># 定义空集合</span></span><br><span class="line">s1 = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 非空集合</span></span><br><span class="line">s1.add(<span class="number">2</span>) <span class="comment"># 添加元素，重复则不添加</span></span><br><span class="line">s1.add(<span class="number">10</span>)</span><br><span class="line">s1.remove(<span class="number">3</span>) <span class="comment"># 删除</span></span><br><span class="line">print(s1) <span class="comment"># &#123;10, 1, 2&#125;</span></span><br><span class="line"></span><br><span class="line">s2 = <span class="built_in">set</span>([<span class="number">5</span>, <span class="number">6</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">print(s1 | s2) <span class="comment"># 并集 &#123;1, 2, 5, 6, 10&#125;</span></span><br><span class="line">print(s1 &amp; s2) <span class="comment"># 交集 &#123;10&#125;</span></span><br><span class="line">print(s1 - s2) <span class="comment"># 差集 &#123;1, 2&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>set([1, 2, 2, 2, 3])</code> 将列表转换为集合，自动去重，同样也可以使用 <code>list()</code> 将集合转换为列表。</li>
</ul>
<blockquote>
<p>关于集合的更多操作参考 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/tutorial/datastructures.html#sets">数据结构 set - Python官方文档</a></p>
</blockquote>
<h2 id="7-输入输出"><a href="#7-输入输出" class="headerlink" title="7 输入输出"></a>7 输入输出</h2><p>之前的例子我们使用了标准输入输出函数 <code>input</code> 和 <code>output</code> 实现了简单的功能。Python 常用于数据挖掘分析，文本处理是最基本的能力，使用 Python 进行文件读写也非常简单。</p>
<p>下面是一个非常简单的例子：将字符串 s 写入文件 <code>1.txt</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;&#x27;&#x27;第一行</span></span><br><span class="line"><span class="string">第二行</span></span><br><span class="line"><span class="string">第三行&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f.write(s)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<ul>
<li><code>open</code> 是 Python 用于读取文件的内置函数，第一个参数是文件路径，第二个参数是打开模式，<code>w</code> 代表写模式， <code>r</code>代表只读模式。<code>w</code> 模式打开文件后，文件会被清空，如果需要追加写，则需要以<code>w+</code>模式打开文件。</li>
<li>如果打开文件成功，<code>open</code>会返回一个文件句柄，我们可以使用这个句柄对文件进行操作。</li>
<li>操作完毕后，需要将文件关闭。</li>
</ul>
<p>Python 还提供了另一种更安全、简单的方式 <code>with as</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;&#x27;&#x27;第一行</span></span><br><span class="line"><span class="string">第二行</span></span><br><span class="line"><span class="string">第三行&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(s)</span><br></pre></td></tr></table></figure>

<p><code>with</code> 语句会在 <code>with</code> 内部的代码块执行完毕后，执行资源回收的操作，对于文件来说即关闭文件。</p>
<p>读取文件，并统计字数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.read()</span><br><span class="line">    print(<span class="built_in">len</span>(s)) <span class="comment"># 11</span></span><br></pre></td></tr></table></figure>

<p>我们也可以使用 <code>readlines()</code> 读取文件的所有行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = f.readlines()</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> s:</span><br><span class="line">        print(line, end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>还有一种更高效的方式，直接遍历文件句柄 <code>f</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        print(line, end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="8-异常"><a href="#8-异常" class="headerlink" title="8 异常"></a>8 异常</h2><p>尽管我们想要将代码写得尽善尽美，但是出现异常还是难免的。如果我们不对异常做任何的处理，程序会立即退出。Python 提供了 <code>try except finally</code> 机制，给开发者提供了一个处理异常的机会。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    print(f.read())</span><br><span class="line">print(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>如果我们执行上述程序，会出现如下错误：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line 2, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    with open(<span class="string">&#x27;2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) as f:</span><br><span class="line">FileNotFoundError: [Errno 2] No such file or directory: <span class="string">&#x27;2.txt&#x27;</span></span><br></pre></td></tr></table></figure>

<p>程序在第二行就退出了，错误原因是 <code>2.txt</code> 不存在。那我们如何捕获到这个错误并处理呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        print(f.read())</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>程序正常执行结束：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Errno 2] No such file or directory: <span class="string">&#x27;2.txt&#x27;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>try</code> 语句块中包含可能发生异常的代码，如果发生异常，将跳转到 <code>except</code> 语句块执行。</li>
<li>无论是否发生异常，<code>finally</code> 中的代码都会得到执行，<code>finally</code> 是可选的。</li>
</ul>
<p>我们也可以在 <code>except</code> 中处理完毕之后，继续将异常抛出，留给调用方处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        print(f.read())</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    <span class="keyword">raise</span> e</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    print(<span class="string">&#x27;done&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Errno 2] No such file or directory: <span class="string">&#x27;2.txt&#x27;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line 7, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    raise e</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line 3, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    with open(<span class="string">&#x27;2.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) as f:</span><br><span class="line">FileNotFoundError: [Errno 2] No such file or directory: <span class="string">&#x27;2.txt&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="9-模块"><a href="#9-模块" class="headerlink" title="9 模块"></a>9 模块</h2><h3 id="9-1-使用标准库模块"><a href="#9-1-使用标准库模块" class="headerlink" title="9.1 使用标准库模块"></a>9.1 使用标准库模块</h3><p>Python 标准库内置了大量的模块，提供了非常丰富的功能。比如数学库 <code>math</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">print(math.__name__) <span class="comment"># 模块名 math</span></span><br><span class="line">print(math.ceil(<span class="number">4.3</span>)) <span class="comment"># 向上取整 5</span></span><br><span class="line">print(math.floor(<span class="number">4.8</span>)) <span class="comment"># 向下取整 4</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>import</code> 导入标准库 <code>math</code>，并调用了 <code>math</code> 的 <code>ceil</code> 和 <code>floor</code> 函数。</li>
<li>每一个模块有一个内置属性 <code>__name__</code>，表示模块的名称，如果开发者正在独立运行该模块，则模块名称将是 <code>__main__</code>。</li>
</ul>
<p>例如，执行 <code>main.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line">print(__name__)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  	print(<span class="string">&#x27;正在独立运行该模块&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>将会输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__main__</span><br><span class="line">正在独立运行该模块</span><br></pre></td></tr></table></figure>

<p>如果我们导入的模块名有冲突，可以使用 <code>as</code> 为导入的模块起一个别名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math <span class="keyword">as</span> math2</span><br><span class="line"></span><br><span class="line">print(math2.__name__) <span class="comment"># 模块名 math</span></span><br><span class="line">print(math2.ceil(<span class="number">4.3</span>)) <span class="comment"># 向上取整 5</span></span><br><span class="line">print(math2.floor(<span class="number">4.8</span>)) <span class="comment"># 向下取整 4</span></span><br></pre></td></tr></table></figure>

<p>有时候，导入的模块名路径很深，可以使用 <code>from xxx import xxx</code>来简化导入的路径：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">print(os.path.join(<span class="string">&#x27;/tmp&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>))</span><br><span class="line"><span class="comment"># 可以替换为</span></span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line">print(path.join(<span class="string">&#x27;/tmp&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="9-2-使用自己实现的模块"><a href="#9-2-使用自己实现的模块" class="headerlink" title="9.2 使用自己实现的模块"></a>9.2 使用自己实现的模块</h3><p>新建一个文件 <code>calc.py</code>，在里面实现如下的函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">length, width</span>):</span></span><br><span class="line">    <span class="keyword">return</span> length * width</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;this is calc module&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">assert</span>(area(<span class="number">3</span>, <span class="number">4</span>) == <span class="number">12</span>)</span><br><span class="line">    print(<span class="string">&#x27;test done&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>执行 <code>python calc.py</code>，将会输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this is calc module</span><br><span class="line"><span class="built_in">test</span> <span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>在 <code>main.py</code> 中我们可以导入模块 <code>calc</code> 并使用，在 Python 中一个 <code>.py</code> 文件就可以被视为一个模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> calc</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    print(calc.__name__)</span><br><span class="line">    print(calc.area(<span class="number">5</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<p>执行 <code>python main.py</code>，将会输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this is calc module</span><br><span class="line">calc</span><br><span class="line">50</span><br></pre></td></tr></table></figure>

<p>当模块被导入时会执行该模块的代码，因此也打印了 <code>this is calc module</code>，但没有打印 <code>test done</code>。</p>
<p>当 <code>calc.py</code> 作为一个模块导入时，属性 <code>__name__</code> 与文件名相同，即等于 <code>calc</code>，因此没有进入到 <code>if</code> 分支中，而被独立执行时，<code>__name__</code> 的值是 <code>__main__</code>，因此进入到了 <code>if</code> 分支，打印了 <code>test done</code>。</p>
<p>因此，我们可以利用这个特性，在模块被独立执行时运行一些代码，比如简单的测试逻辑，但不影响被导入时的执行逻辑。</p>
<h3 id="9-3-使用第三方模块"><a href="#9-3-使用第三方模块" class="headerlink" title="9.3 使用第三方模块"></a>9.3 使用第三方模块</h3><p>Python 拥有非常丰富的第三方模块，比如著名的爬虫框架 <code>scrapy</code>，数学基础库 <code>numpy</code>、数据处理利器 <code>pandas</code> 等。如果我们想使用第三方模块，只需要使用 <code>pip</code> 命令安装即可。</p>
<p>例如安装 numpy：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install numpy</span><br></pre></td></tr></table></figure>

<p>如果你的机器上同时安装了 Python2 和 Python3，给特定的 Python 版本安装可以使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install numpy</span><br></pre></td></tr></table></figure>

<p>如果国内下载网速过慢，可以通过 <code>-i</code> 选项指定下载源：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install numpy -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<p>安装完成后，就可以像使用标准库一样使用 <code>numpy</code> 了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line">b = np.array([[<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>], [<span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="built_in">print</span> (a - b) <span class="comment"># 两个矩阵相减</span></span><br><span class="line"><span class="comment"># [[ 0 -3 -5]</span></span><br><span class="line"><span class="comment">#  [ 2  0  0]]</span></span><br></pre></td></tr></table></figure>

<h2 id="10-面向对象编程"><a href="#10-面向对象编程" class="headerlink" title="10 面向对象编程"></a>10 面向对象编程</h2><p>Python 是一门既支持过程式编程，又支持面向对象编程的一门语言。</p>
<blockquote>
<p>面向对象是相对于面向过程来讲的，面向对象方法，把相关的数据和方法组织为一个整体来看待，从更高的层次来进行系统建模，更贴近事物的自然运行模式。</p>
</blockquote>
<p>面向对象编程的三大特性：</p>
<ul>
<li>封装：隐藏对象的属性和实现细节，仅对外提供公共访问方式。</li>
<li>继承： 子类从父类继承方法，使得子类具有父类相同的行为。</li>
<li>多态：同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。</li>
</ul>
<h3 id="10-1-类与对象"><a href="#10-1-类与对象" class="headerlink" title="10.1 类与对象"></a>10.1 类与对象</h3><p>Python 中使用关键字 <code>class</code> 声明一个类，一般继承基类 <code>object</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;你好，我是&#123;&#125;，今年&#123;&#125;岁&#x27;</span>.<span class="built_in">format</span>(self.name, self.age))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    jack = Student(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">    jack.hello()</span><br></pre></td></tr></table></figure>

<ul>
<li>类内部声明的方法默认是实例方法，第一个参数是 <code>self</code>，代表实例本身，调用时省略。</li>
<li><code>__init__</code> 是一个类的构造方法，第一个参数是 <code>self</code>，后面的参数根据需要声明，使用时使用 <code>类名(参数)</code> 可创建出一个属于该类的一个实例对象。<code>name</code> 和 <code>age</code> 都属于实例变量，实例变量属于该实例，不与其他实例共享。</li>
<li>其他方法的声明与普通的函数实现类似，唯一不同点在于实例方法可以通过参数 <code>self</code> 获取实例的属性或调用实例的其他方法。</li>
</ul>
<h3 id="10-2-类方法与类变量"><a href="#10-2-类方法与类变量" class="headerlink" title="10.2 类方法与类变量"></a>10.2 类方法与类变量</h3><p>实例方法和实例变量是针对对象实例而言的，与实例方法和实例变量相对应的是类方法和类变量，属于该类的所有实例都可以共享，可以通过<code>类.方法</code> 或 <code>实例.方法</code> 的方式使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    school = <span class="string">&#x27;东方小学&#x27;</span> <span class="comment"># 类变量</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">        self.name = name <span class="comment"># 实例变量</span></span><br><span class="line">        self.age = age   <span class="comment"># 实例变量</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;你好，我是&#123;&#125;，今年&#123;&#125;岁&#x27;</span>.<span class="built_in">format</span>(self.name, self.age))</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_school</span>(<span class="params">cls</span>):</span> <span class="comment"># 类方法</span></span><br><span class="line">        print(cls.school)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    jack = Student(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">    tom = Student(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">    jack.print_school()</span><br><span class="line">    tom.print_school()</span><br><span class="line"></span><br><span class="line">    Student.school = <span class="string">&#x27;东明小学&#x27;</span> <span class="comment"># 修改类变量</span></span><br><span class="line">    jack.print_school() <span class="comment"># 东明小学</span></span><br><span class="line">    tom.print_school()  <span class="comment"># 东明小学</span></span><br></pre></td></tr></table></figure>

<ul>
<li>实例变量在构造函数 <code>__init__</code> 内部声明，类变量在外部声明。</li>
<li>类内部声明的方法默认为实例方法，使用 <code>@classmethod</code> 声明类方法，第一个参数<code>cls</code> 代表类自己。</li>
</ul>
<h3 id="10-3-静态方法"><a href="#10-3-静态方法" class="headerlink" title="10.3 静态方法"></a>10.3 静态方法</h3><p>还有一类方法，既不会访问实例变量和方法，也不会访问类变量和方法，仅仅是一个辅助函数，比如因为某个实例方法实现过长，想把其中的一部分代码抽取出来独立成一个方法，提高代码可读性。而这个辅助函数仅对这个类有用，对其他类没有用。这种情况下，我们通常会将其声明为静态方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span></span><br><span class="line">        self.name = name <span class="comment"># 实例变量</span></span><br><span class="line">        self.age = age   <span class="comment"># 实例变量</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;你好，我是&#123;&#125;，今年&#123;&#125;岁&#x27;</span>.<span class="built_in">format</span>(self.name, self.age))</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">help_func</span>():</span></span><br><span class="line">        print(<span class="string">&#x27;我是一个静态方法&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    jack = Student(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">    Student.help_func()</span><br><span class="line">    jack.help_func()</span><br></pre></td></tr></table></figure>

<ul>
<li>静态方法使用 <code>@staticmethod</code> 声明，与普通的全局函数没有任何区别，可以通过<code>类.方法</code> 或 <code>实例.方法</code> 的方式使用。与实例方法和类型方法相比，没有 <code>self</code> 或<code>cls</code> 参数。</li>
</ul>
<h3 id="10-4-继承"><a href="#10-4-继承" class="headerlink" title="10.4 继承"></a>10.4 继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, length, width</span>):</span></span><br><span class="line">        self.length = length</span><br><span class="line">        self.width = width</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.length * self.width</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>(<span class="params">Rectangle</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, length</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Square, self).__init__(length, length)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = Square(<span class="number">4</span>)</span><br><span class="line">    print(s.area())</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Square</code> 继承了 <code>Rectangle</code>，因此拥有了 <code>Rectangle</code> 的所有属性和方法。</li>
<li><code>Square</code> 可以根据需要覆盖父类的方法，在这里 <code>Square</code> 覆盖了父类的构造函数，参数列表从原来的 2 个变为了 1个。</li>
<li>子类可以通过 <code>super(子类名, self).方法</code> 的方式调用父类的方法。</li>
</ul>
<h2 id="11-单元测试"><a href="#11-单元测试" class="headerlink" title="11 单元测试"></a>11 单元测试</h2><p>为每一个模块编写单元测试是非常好的习惯，Python 也内置了一个单元测试库 <code>unittest</code>。</p>
<p>新建一个文件 <code>calc.py</code>，实现 area 和 volume 两个函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">length, width</span>):</span></span><br><span class="line">    <span class="keyword">if</span> length &lt; <span class="number">0</span> <span class="keyword">or</span> width &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> length * width</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">volume</span>(<span class="params">length, width, height</span>):</span></span><br><span class="line">    <span class="keyword">if</span> length &lt; <span class="number">0</span> <span class="keyword">or</span> width &lt; <span class="number">0</span> <span class="keyword">or</span> height &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> length * width * height</span><br></pre></td></tr></table></figure>

<p>新建文件 <code>calc_test.py</code> 添加测试用例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> calc</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestCalc</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_area</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertEqual(calc.area(<span class="number">10</span>, -<span class="number">1</span>), <span class="number">0</span>)</span><br><span class="line">        self.assertEqual(calc.area(<span class="number">10</span>, <span class="number">8</span>), <span class="number">80</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_volume</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertEqual(calc.volume(<span class="number">2</span>, -<span class="number">1</span>, <span class="number">4</span>), <span class="number">0</span>)</span><br><span class="line">        self.assertEqual(calc.volume(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), <span class="number">24</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<ul>
<li>添加测试用例的过程非常简单，定义一个类，继承 <code>unittest.TestCase</code>，然后定义一个或多个 <code>test_</code> 开头的方法即可。每一个 <code>test_</code> 开头的方法视为一个用例，这是 unittest 测试框架的约定。</li>
<li>测试用例中，可以使用 <code>assertEqual</code>、<code>assertTrue</code> 等方式检查预期输出。</li>
<li><code>unittest.main()</code> 将加载该模块中定义的所有用例并执行。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python3 calc_test.py </span><br><span class="line">..</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">Ran 2 tests <span class="keyword">in</span> 0.000s</span><br><span class="line"></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p>使用如下方式可以指定测试某个模块、某个测试类，甚至是只运行某个测试用例:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -m unittest test_module1 test_module2</span><br><span class="line">python -m unittest test_module.TestClass</span><br><span class="line">python -m unittest test_module.TestClass.test_method</span><br></pre></td></tr></table></figure>

<p><code>python3 calc_test.py</code> 等价于 <code>python3 -m unittest calc_test</code>。如果只想执行 <code>test_volume</code> 方法，可以这么调用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m unittest calc_test.TestCalc.test_volume</span><br></pre></td></tr></table></figure>


<h3 id="11-1-setUp-与-tearDown"><a href="#11-1-setUp-与-tearDown" class="headerlink" title="11.1 setUp 与 tearDown"></a>11.1 setUp 与 tearDown</h3><p>有时候，每个用例执行前后需要一些相同的准备动作和收尾动作，比如打开文件和关闭文件。如果每个用例里都调用一次，就会异常繁琐。与其他测试框架类似，unittest 提供了 <code>setUp</code> 和 <code>tearDown</code> 功能，用于设置每个用例执行前后的一些指令。unittest 还提供了 <code>setUpClass</code> 和 <code>tearDownClass</code> 两个方法，用于设置某个测试类所有用例执行前后的一些指令。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestCalc</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUpClass</span>(<span class="params">cls</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;所有用例执行前&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDownClass</span>(<span class="params">cls</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;所有用例执行后&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;单个用例执行前&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;单个用例执行后&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_1</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_2</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<p>执行结果如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -m unittest calc_test</span><br><span class="line">所有用例执行前</span><br><span class="line">单个用例执行前</span><br><span class="line">单个用例执行后</span><br><span class="line">.单个用例执行前</span><br><span class="line">单个用例执行后</span><br><span class="line">.所有用例执行后</span><br><span class="line"></span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">Ran 2 tests <span class="keyword">in</span> 0.000s</span><br><span class="line"></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于单元测试的更多用法，可以参考 <a target="_blank" rel="noopener" href="https://docs.python.org/zh-cn/3/library/unittest.html#module-unittest">unittest - Python 官方文档</a></p>
</blockquote>
<h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><p>这篇文章托管在 <a target="_blank" rel="noopener" href="https://github.com/geektutu/blog/tree/master/posts/quick-start/python">github</a>，如果有错别字或其他修改建议，可以直接提 PR，感谢您的阅读和贡献。</p>

        
<script src="/js/qrious.min.js"></script>


        <hr style="margin-top: 2rem;">
        <div>
            
            <p>
                <span>专题: </span>
                
                <a href="/series/#Python 简明教程">
                    <code key="Python 简明教程" class="post-label">Python 简明教程</code>
                </a>
                
            </p>
            
            <p>
                <span>本文发表于 2020-10-17，最后修改于 2021-09-06</span>
            </p>
            <!-- 文章末尾的提示 start -->
            
            <p>
                本站永久域名「 <a
                        href="/post/quick-python.html">ysliving.github.io</a>
                    」，也可通过搜索「 码农印象 」找到我
            </p>
            <p>
                免责声明：
            </p>
            <p>
                部分资料来源于网络，版权属其原著者持有，只供学习交流之用，非商务用途。如有侵犯您的权益，请告知【公众号：码农印象】删除。互动交流时请遵守理性、宽容、换位思考的原则
            </p>

            
            
                
            <!-- 文章末尾的提示 end -->
        </div>
        <hr />
        <p name="pagination" style="font-size: 1.2em">
    
    <a class="float-left" href="/post/geerpc-day7.html">上一篇 « 动手写RPC框架 - GeeRPC第七天 服务发现与注册中心(registry)</a>
    
    
    <a class="float-right" href="/post/7days-golang-q1.html">下一篇 » Go 接口型函数的使用场景</a>
    
</p>
    </article>
    <!-- 赞赏 -->
    <!--打赏-->

<style>
    #reward .reward-btn-wrapper {
        width: 100px;
        padding-top: 35px;
        cursor: pointer;
        margin: 0 auto;
    }

    #reward .reward-btn {
        padding: 2px 15px;
        color: #fff;
        background-color: #ea6f5a;
        border-radius: 20px;
    }

    #reward .reward-code {
        position: absolute;
        top: -220px;
        left: 50%;
        display: none;
        width: 360px;
        height: 240px;
        margin-left: -180px;
        padding: 15px 20px;
        border: 1px solid #e6e6e6;
        background: #fff;
        box-shadow: 0 1px 1px 1px #efefef;
    }

    #reward .reward-code:after,
    #reward .reward-code:before {
        position: absolute;
        content: '';
        border: 10px solid transparent
    }

    #reward .reward-code:after {
        bottom: -19px;
        left: 50%;
        margin-left: -10px;
        border-top-color: #fff
    }

    #reward .reward-code:before {
        bottom: -20px;
        left: 50%;
        margin-left: -10px;
        border-top-color: #e6e6e6
    }

    #reward .qr-code {
        width: 50%;
        float: left;
        padding: 5px;
    }

    #reward .qr-code p {
        margin-top: -6px;
    }

    #reward img {
        transform: none;
        -webkit-transform: none;
        margin-left: 0;
    }

    #reward img[alt='i'] {
        width: 20px;
        height: 20px;
        z-index: 2;
        position: absolute;
        margin: 65px 0 0 65px;
    }

    #reward img[alt="ali"] {
        width: 100%;
        box-sizing: border-box;
        border: 5px solid #0f9be0;
    }

    #reward img[alt="wechat"] {
        width: 100%;
        box-sizing: border-box;
        border: 5px solid #3db034;
    }

    #reward .reward-tip {
        font-size: 1.2em;
        margin-bottom: 0;
        color: #ea6f5a;
    }
</style>
<div id="reward" class="col-xs-12">
    <div class="reward-btn-wrapper">
        <div class="reward-btn text-center">赞赏支持</div>
    </div>
    <div class="reward-code text-center">
        <p class="text-center reward-tip"><strong>请我吃胡萝卜 =^_^= </strong></p>
        <div class="qr-code">
            <img src="/img/icon.png" alt="i">
            <img id="reward-ali" src="" alt="ali">
            <p><small>支付宝</small></p>
        </div>
        <div class="qr-code">
            <img src="/img/icon.png" alt="i">
            <img id="reward-wechat" src="" alt="wechat">
            <p><small>微信</small></p>
        </div>
    </div>
</div>
<script>
    (function (window, document) {
        var aliQr = new QRious({ value: 'https://qr.alipay.com/fkx0477419lj74fnk8gzt1b' });
        var wechatQr = new QRious({ value: 'wxp://f2f0lLb6JMc7Ie5Mjz1X3OibGhRiidjoCRyZ' });
        document.querySelector('#reward-ali').src = aliQr.toDataURL();
        document.querySelector('#reward-wechat').src = wechatQr.toDataURL();

        var rewardBtn = document.querySelector('#reward .reward-btn-wrapper');
        var qrCode = document.querySelector('#reward .reward-code')
        var activeFunc = function (e) {
            qrCode.style.display = 'block';
        }
        var hideFunc = function (e) {
            qrCode.style.display = 'none';
        }

        rewardBtn.addEventListener('mouseenter', activeFunc, false)
        rewardBtn.addEventListener('mouseover', activeFunc, false)
        rewardBtn.addEventListener('mouseleave', hideFunc, false)
        qrCode.addEventListener('mouseenter', activeFunc, false)
        qrCode.addEventListener('mouseover', activeFunc, false)
        qrCode.addEventListener('mouseleave', hideFunc, false)
    })(window, document);
</script>

    
<div class="col-xs-12 text-center" style="margin-top: 30px;">
    
    <a style="display:inline-block;" target="_blank" rel="noopener" href="https://github.com/ysliving" title="Github"><img style="padding:5px;width:30px;margin-left:0;transform:none;-webkit-transform:none;" src="/img/related_links/github.png" /></a>
    
    <a style="display:inline-block;" href="https://ysliving.github.io/feed.xml" title="RSS"><img style="padding:5px;width:30px;margin-left:0;transform:none;-webkit-transform:none;" src="/img/related_links/rss.jpg" /></a>
    
    <a style="display:inline-block;" target="_blank" rel="noopener" href="https://www.zhihu.com" title="知乎"><img style="padding:5px;width:30px;margin-left:0;transform:none;-webkit-transform:none;" src="/img/related_links/zhihu.png" /></a>
    
    <a style="display:inline-block;" target="_blank" rel="noopener" href="https://weibo.com" title="微博"><img style="padding:5px;width:30px;margin-left:0;transform:none;-webkit-transform:none;" src="/img/related_links/weibo.jpg" /></a>
    
    <a style="display:inline-block;" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41035588" title="CSDN"><img style="padding:5px;width:30px;margin-left:0;transform:none;-webkit-transform:none;" src="/img/related_links/csdn.jpg" /></a>
    
</div>

    <!-- 推荐阅读三篇文章 -->
    <div class="col-xs-12">
        <h3>推荐阅读</h3>
        
        <div class="post-preview">
    <div class="post-img" style="background-image: url('/post/gee-day4/group.jpg')"></div>
    <div class="post-info">
        <div class="post-info-center">
            <div class="hidden-xs">
                
                
                <span>/</span>
                
                <a class="text-gray" href="/tags/#Go"
                    title="Go">Go</a>
                <span>/</span>
                
                
            </div>
            <a href="/post/gee-day4.html" class="title">
                Go语言动手写Web框架 - Gee第四天 分组控制Group
            </a>
            <p class="text-gray">
                <small>
                    <span>发表于2019-09-01，</span>
                    <span class="hidden-xs">全文4501字，</span>
                    <span>阅读约16分钟</span>
                </small>
            </p>
        </div>
    </div>
</div>
        
        <div class="post-preview">
    <div class="post-img" style="background-image: url('/post/quick-go2/go2.jpg')"></div>
    <div class="post-info">
        <div class="post-info-center">
            <div class="hidden-xs">
                
                
                <span>/</span>
                
                <a class="text-gray" href="/tags/#Go"
                    title="Go">Go</a>
                <span>/</span>
                
                
            </div>
            <a href="/post/quick-go2.html" class="title">
                Go2 新特性简明教程
            </a>
            <p class="text-gray">
                <small>
                    <span>发表于2019-08-15，</span>
                    <span class="hidden-xs">全文4860字，</span>
                    <span>阅读约17分钟</span>
                </small>
            </p>
        </div>
    </div>
</div>
        
        <div class="post-preview">
    <div class="post-img" style="background-image: url('/post/gee/gee.jpg')"></div>
    <div class="post-info">
        <div class="post-info-center">
            <div class="hidden-xs">
                
                
                <span>/</span>
                
                <a class="text-gray" href="/tags/#Go"
                    title="Go">Go</a>
                <span>/</span>
                
                
            </div>
            <a href="/post/gee.html" class="title">
                7天用Go从零实现Web框架Gee教程
            </a>
            <p class="text-gray">
                <small>
                    <span>发表于2019-08-11，</span>
                    <span class="hidden-xs">全文3387字，</span>
                    <span>阅读约12分钟</span>
                </small>
            </p>
        </div>
    </div>
</div>
        
    </div>
    <div class="col-xs-12">
        <!-- 标签列表 -->
        <!-- Featured Tags -->
<style>
    #featured-tag .post-tag-item {
        font-size: 12px;
        line-height: 30px;
        display: inline-block;
        height: 30px;
        margin: 5px 0px;
        padding: 0 7px;
        color: #333;
        border-radius: 15px;
        background: #f6f6f6;
    }

    #featured-tag .post-tag-item:hover {
        color: #337ab7;
    }
</style>
<div id="featured-tag">
    
    <a class="post-tag-item" href="/tags/#关于我" title="关于我"
        rel="9">#关于我 (9) </a>
    
    <a class="post-tag-item" href="/tags/#Go" title="Go"
        rel="43">#Go (43) </a>
    
    <a class="post-tag-item" href="/tags/#百宝箱" title="百宝箱"
        rel="2">#百宝箱 (2) </a>
    
    <a class="post-tag-item" href="/tags/#Cheat Sheet" title="Cheat Sheet"
        rel="1">#Cheat Sheet (1) </a>
    
    <a class="post-tag-item" href="/tags/#友链" title="友链"
        rel="1">#友链 (1) </a>
    
    <a class="post-tag-item" href="/tags/#Pandas" title="Pandas"
        rel="3">#Pandas (3) </a>
    
    <a class="post-tag-item" href="/tags/#机器学习" title="机器学习"
        rel="6">#机器学习 (6) </a>
    
    <a class="post-tag-item" href="/tags/#TensorFlow" title="TensorFlow"
        rel="9">#TensorFlow (9) </a>
    
    <a class="post-tag-item" href="/tags/#mnist" title="mnist"
        rel="5">#mnist (5) </a>
    
    <a class="post-tag-item" href="/tags/#Python" title="Python"
        rel="10">#Python (10) </a>
    
    <a class="post-tag-item" href="/tags/#强化学习" title="强化学习"
        rel="3">#强化学习 (3) </a>
    
    <a class="post-tag-item" href="/tags/#OpenAI gym" title="OpenAI gym"
        rel="4">#OpenAI gym (4) </a>
    
    <a class="post-tag-item" href="/tags/#DQN" title="DQN"
        rel="1">#DQN (1) </a>
    
    <a class="post-tag-item" href="/tags/#Q-Learning" title="Q-Learning"
        rel="1">#Q-Learning (1) </a>
    
    <a class="post-tag-item" href="/tags/#CNN" title="CNN"
        rel="1">#CNN (1) </a>
    
    <a class="post-tag-item" href="/tags/#Rust" title="Rust"
        rel="1">#Rust (1) </a>
    
    <a class="post-tag-item" href="/tags/#Go语言高性能编程" title="Go语言高性能编程"
        rel="20">#Go语言高性能编程 (20) </a>
    
</div>
    </div>
    <!-- 评论 -->
    
    <div class="col-xs-12">
        
<div class="col-xs-12 padding-0">
    <div id="gitalk-container">
        <div class="gt-container text-center" style="margin-top: 50px;">
            <button class="gt-btn gt-btn-public"><span class="gt-btn-text">去 Github 评论</span></button>
        </div>
    </div>
    <div id="gitalk-related"></div>
</div>

<link rel="stylesheet" href="/css/gitalk.css">


<script src="/js/gitalk.min.js"></script>

<script>
    window.addEventListener('load', function () {
        function renderCommentUrl(data) {
            var url = (data[window.location.pathname] || {}).url
            url && getDom('#gitalk-container button').addEventListener('click', function (e) { window.open(url)})
            url || (getDom('#gitalk-container').style.display = 'none')
        }
        const gitalk = new Gitalk({
            clientID: 'e2124f560cfd0eb39dbd',
            clientSecret: '4be2c247d3945f99e8db63224555838f4a729d57',
            accessToken: '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',
            repo: 'gittalk',
            owner: 'ysliving',
            admin: ['ysliving'],
            id: window.location.pathname,
            distractionFreeMode: false
        });
        fetch("https://api.github.com/user").then(function(resp){
            gitalk.render('gitalk-container');
        }).catch(function(e){
            fetch('/tool/issues.json').then(function (r) { return r.json() }).then(renderCommentUrl).catch(function (e) { })
        })
        getDom('#gitalk-container').addEventListener('click', function (e) {
            e && e.stopPropagation && e.stopPropagation();
        });
    })
</script>
<script>
    window.addEventListener('load', function () {
        function render(comments) {
            var template = '<a href="${comment.url}?utm_source=gitalk" class="dis-item-url"><h3 class="dis-item-title">${comment.title}</h3>' +
                '<p class="dis-item-des">${comment.count} 评论 ● ${comment.date}</p>' +
                '<div class="dis-item-content"><img class="dis-item-img" src="${comment.icon}" alt="icon"><p><b><span class="dis-item-user">${comment.user}</span></b>&nbsp;——&nbsp;${comment.body}</p></div>' +
                '</a>'

            var wrapper = getDom('#gitalk-related');
            comments = shuffle(comments);
            comments.slice(0, 4).forEach(function (c) {
                var div = document.createElement('div');
                div.classList.add('dis-item');
                div.innerHTML = template.replace("${comment.url}", c.url)
                    .replace("${comment.title}", c.title)
                    .replace("${comment.count}", c.count)
                    .replace("${comment.date}", c.date)
                    .replace("${comment.icon}", c.icon)
                    .replace("${comment.user}", c.user)
                    .replace("${comment.body}", c.body)
                wrapper.appendChild(div)
            })
            var p = document.createElement('p')
            p.innerHTML = '<a target="_blank" rel="noopener" href="https://geektutu.com/post/blog-experience-7.html">Gitalk Plus</a>';
            p.classList.add('dis-divide');
            wrapper.appendChild(p);
            wrapper.classList.add('dis-wrapper')
        }
        function shuffle(a) {
            for (var i = a.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }
        fetch('/tool/comments.json').then(function (r) { return r.json() }).then(render).catch(function (e) { })
    })
</script>

    </div>
    
</div>
<aside class="float-left gkt-sidebar hidden-xs hidden-sm">
    <div style="clear: both"></div>
    <div class="gkt-sidebar-wrapper">
        <section class="box-shadow"><style>
    .gkt-summary {
        border: 1px solid #DDDDDD;
        border-radius: 3px;
        padding: 5px;
        width: 100%;
    }


    .gkt-summary nav {
        overflow: hidden;
    }

    .gkt-summary nav a {
        display: inline-block;
        text-align: center;
        color: #333;
        font-size: 12px;
    }

    .gkt-summary nav span {
        display: block;
    }

    .gkt-summary nav .middle {
        border-left: 1px solid #eaecef;
        border-right: 1px solid #eaecef;
    }

    .gkt-summary .number {
        font-weight: bold;
    }

    .gkt-summary .link-list {
        margin-top: 5px;
        margin-bottom: -5px;
        padding-top: 7px;
        border-top: 1px dashed #999;
        display: flex;
    }

    .gkt-summary .link-list a {
        flex: 1;
    }

    .gkt-summary .link-list img {
        width: 25px;
        height: 25px;
    }
</style>

<div class="gkt-summary">
    <nav>
        <a href="/" class="col-xs-4">
            <span class="number">90</span><span>文章</span>
        </a>
        <a href="/series" class="col-xs-4 middle">
            <span class="number">20</span><span>专题</span>
        </a>
        <a href="/tags" class="col-xs-4">
            <span class="number">17</span><span>标签</span>
        </a>
    </nav>

    
    <div class="link-list">
        
        <a target="_blank" rel="noopener" href="https://github.com/ysliving"><img src="/img/related_links/github.png" /></a>
        
        <a href="https://ysliving.github.io/feed.xml"><img src="/img/related_links/rss.jpg" /></a>
        
        <a target="_blank" rel="noopener" href="https://www.zhihu.com"><img src="/img/related_links/zhihu.png" /></a>
        
        <a target="_blank" rel="noopener" href="https://weibo.com"><img src="/img/related_links/weibo.jpg" /></a>
        
        <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41035588"><img src="/img/related_links/csdn.jpg" /></a>
        
    </div>
    
</div></section>
        
        
        <section class="gkt-sidebar-content box-shadow">
            <strong>Python 简明教程</strong>
            <ul>
                
                <li>
                    <a href="/post/quick-python.html"
                        class="gkt-sidebar-active">Python 简明教程</a>
                    
                    <!-- Table of Contents -->
<div id="sidebar-toc">
  <!-- TOC  -->
  
  
  <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#0-%E5%AE%89%E8%A3%85"><span class="toc-nav-text">0 安装</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#1-Hello-World"><span class="toc-nav-text">1 Hello World</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-nav-text">2 基本语法</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#3-%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-nav-text">3 运算符与表达式</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#4-%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-nav-text">4 控制流</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#5-%E5%87%BD%E6%95%B0"><span class="toc-nav-text">5 函数</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#6-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-nav-text">6 数据结构</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#7-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-nav-text">7 输入输出</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#8-%E5%BC%82%E5%B8%B8"><span class="toc-nav-text">8 异常</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#9-%E6%A8%A1%E5%9D%97"><span class="toc-nav-text">9 模块</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#10-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-nav-text">10 面向对象编程</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#11-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-nav-text">11 单元测试</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E9%99%84"><span class="toc-nav-text">附</span></a></li></ol>
  
</div>

<script>
  (function () {
    var h2 = document.querySelectorAll('article h2');
    var h3 = document.querySelectorAll('article h3');
    var linkList = document.querySelectorAll('#sidebar-toc a');

    function findLinkElement(name) {
      for (var i = 0; i < linkList.length; i++) {
        var items = linkList[i].href.split('#');
        if (items && items[items.length - 1] === encodeURIComponent(name)) {
          return i;
        }
      }
      return -1;
    }

    function activeLink(titleList) {
      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
      for (var i = titleList.length - 1; i >= 0; i--) {
        if (scrollTop - titleList[i].offsetTop > 0) {
          var index = findLinkElement(titleList[i].id);
          index != -1 && linkList[index].classList.add('gkt-sidebar-active');
          break;
        }
      }
    }

    window.addEventListener("scroll", function (e) {
      [].slice.call(linkList).forEach(function (link) {
        link.classList.remove('gkt-sidebar-active');
      })
      activeLink(h2);
    })
  })();
</script>
                    
                </li>
                
            </ul>
        </section>
        
        
        <section class="gkt-sidebar-content box-shadow">
            <strong>最近的文章</strong>
            <ul>
                
                <li>
                    <a href="/post/charpter-3/hpg-sync-cond.html">Go sync.Cond</a>
                </li>
                
                <li>
                    <a href="/post/charpter-4/hpg-dead-code-elimination.html">Go 死码消除与调试(debug)模式</a>
                </li>
                
                <li>
                    <a href="/post/charpter-3/hpg-sync-once.html">Go sync.Once</a>
                </li>
                
            </ul>
        </section>
        
        <section class="box-shadow text-center">
            
<style>
    .gkt-rec-links,
    .gkt-rec-links div {
        width: 250px;
        margin: 0 auto;
    }

    .gkt-rec-links a>img {
        width: 100%;
        margin-left: 0;
        transform: none;
        -webkit-transform: none;
    }
</style>
<div class="gkt-rec-links"></div>

<script>
    (function () {
        function randomInt(low, high) { return Math.floor(Math.random() * (high - low) + low) };
        var count = '0', links = JSON.parse('["<div><a href=https://ysliving.github.io><img src=https://cdn.jsdelivr.net/gh/ysliving/ImageHost/living/20210909033130.png alt=rec></a></div>"]'), childs = '';
        count == 0 && (count = links.length);
        var start = randomInt(0, links.length);
        for (var i = 0; i < count; i++) { childs += links[(i + start) % links.length] };
        document.querySelector('.gkt-rec-links').innerHTML = childs;
    })()
</script>

        </section>
        
    </div>
</aside>

<script>
    (function () {
        function resizeUArrow() {
            var s = getDom('.u-arrow-wrapper').style
            var pc = getDom('.post-container')
            s.left = getPosition(pc).x + 'px';
            s.width = pc.clientWidth + 'px';
        }
        resizeUArrow()
        window.addEventListener('resize', resizeUArrow);
    })();
</script>

    

<script>
    (function () {
        var ele = getDom('.gkt-sidebar-content')
        if(!ele) return;
        var wrapper = getDom('.gkt-sidebar-wrapper')
        var last = 0
        ele.style.maxHeight = ((window.innerHeight || 798) - 200) + 'px'
        var f = function (e) {
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            var isDown = scrollTop > last;
            var pos = getPosition(ele).y - scrollTop;
            var downLimit = 50;
            var upLimit = -100;
            // uarrow.style.marginTop = scrollTop + 'px';
            isDown && pos <= downLimit && wrapper.classList.add("gkt-sidebar-fixed");
            !isDown && pos > upLimit && wrapper.classList.remove("gkt-sidebar-fixed");
            last = scrollTop
        }
        f()
        window.addEventListener("scroll", f)
    })();
</script>

</main>
    </div>
    <style>
    img#go-top {
        position: fixed;
        bottom: 100px;
        width: 50px;
        cursor: pointer;
        z-index: 9999;
    }
</style>
<img id="go-top" src="/icon/top.png" class="hidden-xs" style="display: none" />
<script>
    (function () {
        var goTop = document.getElementById('go-top');
        var mainContainer = document.querySelector('.main-container');
        
        goTop.addEventListener('click', function () {
            window.scroll(0, 0);
        }, false);
        window.addEventListener('scroll', function () {
            var right = document.body.offsetWidth - mainContainer.getBoundingClientRect().right;
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            goTop.style.right = right + 10 + 'px'
            scrollTop > 700 && (goTop.style.display = "block");
            scrollTop <= 700 && (goTop.style.display = "none");
        });
    })();
</script>
    <style>
    #geektutu-click-img-container {
        position: fixed;
        left: 0;
        top: 0;
        text-align: center;
        width: 100%;
        display: none;
        z-index: 9999;
    }

    #geektutu-click-img-container img {
        object-fit: contain;
        background: #eaecef;
        padding: 15px;
        border-radius: 10px;
        height: auto;
        width: auto;
        vertical-align: middle;
    }
</style>


<div id="geektutu-click-img-container">
    <img src="" alt="Big Image">
</div>

<script>
    (function () {
        var container = document.querySelector('#geektutu-click-img-container')
        var targetImg = container.querySelector('img')
        var imgs = document.querySelectorAll('article img');
        targetImg.addEventListener('click', function (e) {
            container.style.display = 'none';
            e && e.stopPropagation && e.stopPropagation();
        }, false);

        for (var i = 0; i < imgs.length; ++i) {
            var img = imgs[i];
            img.addEventListener('click', (function (src, rate) {
                return function (e) {
                    e && e.stopPropagation && e.stopPropagation();
                    if (window.innerWidth < 980) {
                        return
                    }
                    targetImg.style.height = targetImg.style.width = 'auto';
                    if (window.innerWidth / window.innerHeight > rate) {
                        targetImg.style.height = (window.innerHeight - 20) + 'px';
                    } else {
                        targetImg.style.width = (window.innerWidth - 20) + 'px';
                    }
                    container.style.height = window.innerHeight + 'px'
                    container.style.lineHeight = window.innerHeight + 'px'
                    container.style.display = 'block';
                    targetImg.src = src;
                };
            }(img.src, img.width / img.height)), false)
        }
    })();
</script>
    <!-- Footer -->
    <!-- Footer -->
<style>
    footer {
        width: 100%;
        line-height: 1.5;
        padding: 20px;
    }

    footer a {
        color: #333;
        text-decoration: none;
    }

    .footer-hexo img {
        height: 20px;
        margin-bottom: -5px;
    }

    .footer-hexo a {
        color: #337ab7;
    }
</style>
<footer class="text-center col-xs-12">
    <p>
        <small>Copyright © 2020-2021丨<a href="https://ysliving.github.io/"> 码农印象 </a>丨</small>
        <small>
	<img src="https://cdn.jsdelivr.net/gh/ysliving/ImageHost/living/20210909054027.png" style="width:18px;height:18px;margin-bottom:-2px" alt="ICP">
    <a href="http://www.beian.miit.gov.cn/" target="_blank">沪ICP备1******8号-X</a>
        </small>丨
        <small>
	<!-- 网站运行时间 -->
<img src="https://cdn.jsdelivr.net/gh/ysliving/ImageHost/living/20210909063232.png" style="width:18px;height:18px;margin-bottom:-2px" alt="time">
    <span id="timeDate">正在载入...</span><span id="times"><span><i class="fa fa-spinner fa-spin"> </i></span></span>
    <script>
    var now = new Date(); 
    function createtime() {
      var grt= new Date("08/09/2020 17:38:00");//建站时间2018-08-10
      now.setTime(now.getTime()+250); 
      days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
      hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
      if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
      mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
      seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
      snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
      document.getElementById("timeDate").innerHTML = "本站已运行 "
      document.getElementById("times").innerHTML = dnum +" 天 " + hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
      /*document.getElementById("times").style.color="#0056FF";*/
      }
      setInterval("createtime()",250);
    </script>
        </small>丨 <!--<a href="/sitemap.xml" target="_blank">站点地图</a>丨-->
    <small><a href="https://tongji.baidu.com/web/34906877/overview/index?siteId=17196652" target="_blank">百度统计</a>丨
	<script>var _hmt = _hmt || [];(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?e5184b820429b441f40b68941facf7ef";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
	})();
	</script>
    <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1280300550'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1280300550%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script><br>
  </small>

 <div class="github-badge">
      <a style="color: #fff" rel="license" href="https://hexo.io/" target="_blank" title="由 Hexo 强力驱动">
      <span class="badge-subject">Powered</span><span class="badge-value bg-blue">Hexo</span></a>
    </div>
    </p>

    <p class="footer-hexo">
        <!-- 但若直接使用或修改主题，请务必保留这段声明 -->
        <small>2020-2021
	Powered by <a target="_blank" href="https://hexo.io">Hexo</a> | Theme
            <a target="_blank" href="https://github.com/geektutu/hexo-theme-geektutu">Geektutu</a>
            <a target="_blank" rel="noopener" href="https://github.com/geektutu/hexo-theme-geektutu">
                <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIACIAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAQQFBwIDBgj/2gAIAQEAAAAA9KrHSgAYL5/z6zZGuJd12uugbhq3uKtmuRtix20IS7lTLAfAAAn/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAECEAAAAAAB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAxAAAAAAAf/EADEQAAICAQIEBQEGBwAAAAAAAAECAwQFAAYREhORBxQhUlQxQVFic5KxJDJCYYGC0f/aAAgBAQABPwCFHnjWUzuvN6hV4cANSRLGjO9yRVUcSzMoA7jVXJYe5N0a2dhmk9kc0bN2GvLN8mbuNeWb5M3ca8s3yZu415Y/Jm7jXlm+TN3H/NeVPyZu40vOk3TZywK8wJ+v3EHVM/wsI/Dq2lrxN3Nnca16eti8chSAIoMbzByhMwP14kHVfwIiSaF5c96J6kwwCOTnHsYk8uvCrdmQy1TI4rJuz3cZLyGR/wCd4+YoOf8AEpUjXitubLYPG4paFsUxcuiGe7yc5gTW3LW44szXmobsi3Dhmic2+Z4+vCVH9CpraPiQ+QvbgTJrPFBWd5YpWrmNIIEXiRO32Pqt4p7cnfHk18lFBdmEVW1LVdIZGOrniTt6plrWKaO69yCykDRxwF+LMAewB0Txtr+Sf31VI8tEPw62fZt7N3Humtbpzz13ucX6CGSWMSuzpLyD1eNgeUka3PuvHbaxq3biTMHfkiSNCS78CwU+3Xg7Vu3MhuTcU6cq3Zemn3Eh2dv8Lzcut+29x1atKbHYqLJUhLwyNMwiZ3j9yDWOxUOV3tgb+3No5LDx1pi9+aeIwRlNY6bc+Jv+IFGrhLxtXJZ7VKcw81diiAAEn0JOrkWZyNfbEr0tz27UGQgkuGzXdIIvyowq99bRxk9ffO/L81SZBPZgEEroQroIxxMZOgeNsfkn99QypHGqO4Vl9CDrN4LDZkwyzyyQ2IgRHZrzGCZVP1XnQglT9oOtw4LC7iqV6uRkZoYpxKFSQpzFRw4EjVRMfSrQ1qqwxQxKFjjTgFUD7BoWYR6iVe+mtxt9Zwf9teaj4AdccPu5tedX5A/VrzUR+sy/q1CwksF19VEfDj/cnQRW+qg66cfsXtrpx+xe2unH7F7a6cfsXtrpx+xe2unH7F7a6cfsXtoxx+xe2gAAOA1//8QAFBEBAAAAAAAAAAAAAAAAAAAAMP/aAAgBAgEBPwB//8QAFBEBAAAAAAAAAAAAAAAAAAAAMP/aAAgBAwEBPwB//9k="
                    alt="Github Star">
            </a>
        </small>
    </p>
    
    <p>
        <small>
            <span id="busuanzi_container_site_pv">👁<span id="busuanzi_value_site_pv"></span></span> &nbsp;
            <span id="busuanzi_container_page_pv">📚<span id="busuanzi_value_page_pv"></span></span>
        </small>
    </p>
    
    

</footer>


<script>
    window.addEventListener('load', function () {
        globalAddScript('//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js');
    })
</script>

<!-- Baidu Tongji -->

<script>
    window.addEventListener('load', function () {
        var _hmt = _hmt || [];
        globalAddScript('//hm.baidu.com/hm.js?1a0ec38c52c08db815b0046c2783b1aa')
    })
</script>



<!-- baidu auto push for seo -->
<script>
    window.addEventListener('load', function () {
        var src = 'http://push.zhanzhang.baidu.com/push.js'
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        globalAddScript(src);
    })
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-142641425-1');

    window.addEventListener('load', function () {
        globalAddScript('https://www.googletagmanager.com/gtag/js?id=UA-142641425-1');
    });
</script>


    <script>
        // 非本站网址，新开tab页签
        (function () {
            var stopBubble = function (e) {
                e && e.stopPropagation && e.stopPropagation();
            }
            var links = document.querySelectorAll('a');
            [].slice.call(links).forEach(function (item) {
                if (item.href && item.href.indexOf(window.location.host) === -1) {
                    item.target = '_blank'
                }
                // 阻止冒泡，不触发彩蛋。
                item.addEventListener('click', stopBubble, false);
            });
            var article = document.querySelector('article');
            article && article.addEventListener('click', stopBubble, false)
        })();
    </script>
    
<script>
    (function (window, document, undefined) {
        var hearts = [];
        var keywords = ["点个赞","四季发财","留个言","八方聚财",  "赞赏一下","十全十美",  "码农印象", "ysliving.github.io"];
        function randomInt(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }
        window.addEventListener('click', createWord)

        function createWord(e) {
            var d = document.createElement("span");
            d.style.position = 'fixed';
            d.style.zIndex = 9999;
            d.style.color = 'rgb(' + [randomInt(255), randomInt(255), randomInt(255)].join(',') + ')';
            d.innerHTML = keywords[randomInt(keywords.length)];
            d.onselectstart = function () { return false; }

            hearts.push({ el: d, x: e.clientX - 5, y: e.clientY - 5, alpha: 1, scale: 1 });
            document.body.appendChild(d);
        }
        (function gameloop() {
            for (var i = 0; i < hearts.length; i++) {
                heart = hearts[i];
                if (heart.alpha <= 0) {
                    document.body.removeChild(heart.el);
                    hearts.splice(i, 1);
                    continue;
                }
                heart.y -= heart.alpha < 0.5 ? 2 : 1;
                heart.scale += 0.002;
                heart.alpha -= 0.013;
                heart.el.style.transform = 'scale(' + heart.scale + ')';
                heart.el.style.left = heart.x + 'px';
                heart.el.style.top = heart.y + 'px';
            }
            setTimeout(gameloop, 10)
        })();
    })(window, document);
</script>

</body>

</html>