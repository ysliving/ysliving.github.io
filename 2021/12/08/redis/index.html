<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="code-0WEqylqKMo" />
  <meta name="google-site-verification" content="K3ZtAzN_QG0hds9kOoA0pitJFIkbH8Fl-Kl_R3z41FI" />
  <title>Redis 2021最新 超详解 教程（狂神笔记+个人总结+代码+截图） | 码农印象</title>
  <meta name="keywords" content=" Redis , 教程 ">
  <meta name="description" content="Redis 2021最新 超详解 教程（狂神笔记+个人总结+代码+截图） | 码农印象">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="为 layui 扩展的 下拉多选select在线demo： http:&#x2F;&#x2F;yelog.org&#x2F;layui-select-multiple&#x2F; 这个在线 demo就是本项目的 index.html。 可将项目 clone 到本地查看效果。 效果图 参数   属性名 属性值 备注    multiple 无 开启多选   lay-search 无 开启搜索   lay-case 无 大小写敏感   la">
<meta property="og:type" content="website">
<meta property="og:title" content="码农印象">
<meta property="og:url" content="https://ysluckly.github.io/README.html">
<meta property="og:site_name" content="码农印象">
<meta property="og:description" content="为 layui 扩展的 下拉多选select在线demo： http:&#x2F;&#x2F;yelog.org&#x2F;layui-select-multiple&#x2F; 这个在线 demo就是本项目的 index.html。 可将项目 clone 到本地查看效果。 效果图 参数   属性名 属性值 备注    multiple 无 开启多选   lay-search 无 开启搜索   lay-case 无 大小写敏感   la">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://oncj6b2vl.bkt.clouddn.com/Frg6VGOCjKJ8fdTYkekfsi-Ax9p2.png">
<meta property="article:published_time" content="2022-02-20T04:41:43.082Z">
<meta property="article:modified_time" content="2022-02-19T09:27:58.478Z">
<meta property="article:author" content="码农印象">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://oncj6b2vl.bkt.clouddn.com/Frg6VGOCjKJ8fdTYkekfsi-Ax9p2.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="码农印象" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>码农印象</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/ysluckly"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="juejin"
               href="https://juejin.cn/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-juejin"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="csdn"
               href="https://blog.csdn.net/qq_41035588"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-csdn"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="weibo"
               href="http://weibo.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="jianshu"
               href="https://www.jianshu.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-jianshu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:ysluckly.520@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="oschina"
               href="https://my.oschina.net"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-oschina"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>



    <a class="more-menus">更多菜单</a>


<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(130)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="读书">
                        <i class="fold iconfont icon-right"></i>
                        
                        读书
                        <small>(5)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="读书<--->书单">
                                        
                                        书单
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="读书<--->阅读笔记">
                                        
                                        阅读笔记
                                        
                                            <small>(3
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="后端">
                        <i class="fold iconfont icon-right"></i>
                        
                        后端
                        <small>(31)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="后端<--->Go">
                                        
                                        Go
                                        
                                            <small>(12
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->Java">
                                        
                                        Java
                                        
                                            <small>(6
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->Python3">
                                        
                                        Python3
                                        
                                            <small>(10
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->Redis">
                                        
                                        Redis
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->其他">
                                        
                                        其他
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->网络编程">
                                        
                                        网络编程
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="数据库">
                        <i class="fold iconfont icon-right"></i>
                        
                        数据库
                        <small>(9)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="数据库<--->MySQL">
                                        
                                        MySQL
                                        
                                            <small>(3
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="数据库<--->PostgreSQL">
                                        
                                        PostgreSQL
                                        
                                            <small>(5
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="运维">
                        <i class="fold iconfont icon-right"></i>
                        
                        运维
                        <small>(26)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="运维<--->linux">
                                        
                                        linux
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="工具">
                        <i class="fold iconfont icon-right"></i>
                        
                        工具
                        <small>(45)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="工具<--->git">
                                        
                                        git
                                        
                                            <small>(8
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="工具<--->hexo">
                                        
                                        hexo
                                        
                                            <small>(29
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="工具<--->markdown">
                                        
                                        markdown
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="工具<--->软件记录">
                                        
                                        软件记录
                                        
                                            <small>(5
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="大前端">
                        
                        大前端
                        <small>(14)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
                <a class="dynamic-menu site_url"
                   
                   href="/2022/02/02/gamesh/">休闲小游戏</a>
        
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">关于</a>
        
        <a style="width: 50%"
                
                                           class="friends">友链</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="130">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
            <li><a target="_blank" href="https://wujun234.com/">吴俊笔记</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>3-hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AngularJs</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CDN</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>centos</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Cloudflare</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>deepin</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker仓库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>dubbo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>efficiency</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>emacs</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>encoding</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>encryption</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>firewall</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>fragment_cache</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>freemarker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ftp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>game</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Gin</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GitHub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Go WebAssembly</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>GO2</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang test</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang testing</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>gopherjs</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Go数据库</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Go语言</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Go语言教程中文版</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Go语言程序设计</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IntellijIDEA</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>javaee</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>javascript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jQuery</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>js</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jsDelivr</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jsp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jstl</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>keybord</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux命令</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mac</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Markdown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mathjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>memory mapping</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mmap</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mock框架</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mybatis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mysql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL总结</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL面试</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nexus</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>node</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PicGo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pjax</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>postgres</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>PostgreSQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Protobuf</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Protocol Buffers</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python3</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>reading</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Redis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>regex</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RPC</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>samba</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SEO</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>shell</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SkyWalking</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>spring</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloud</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>springmvc</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>sql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>sqlx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>stub</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tale</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tcp/ip</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>TLS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>translation</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Ubuntu</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>unit tests</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vim</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>VMware</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>wasm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>windows</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>zookeeper</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>上下文</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>个税</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>五险一金</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>信道</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>单元测试</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图床</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>并发编程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>搜索引擎</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>教程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>核心原理</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>泛型</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>活着</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>浏览器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>磁盘分区</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>编辑器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>证书</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>读写锁实现</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>超时退出</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>运维</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>鉴权</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 工具 hexo "
           href="/2017/03/13/3-hexo-logs/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo开发日志-持续更新">3-hexo开发日志-持续更新</span>
            <span class="post-date" title="2017-03-13 15:44:57">2017/03/13</span>
        </a>
        
        <a id="top" class="全部文章 工具 hexo "
           href="/2017/03/23/3-hexo-instruction/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo使用说明">3-hexo使用说明</span>
            <span class="post-date" title="2017-03-23 15:13:47">2017/03/23</span>
        </a>
        
        <a  class="全部文章 数据库 MySQL "
           href="/2022/03/03/mysql/"
           data-tag="MySQL面试"
           data-author="" >
            <span class="post-title" title="MySQL数据库面试题">MySQL数据库面试题</span>
            <span class="post-date" title="2022-03-03 15:29:32">2022/03/03</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/02/16/go/"
           data-tag="Go语言,单元测试,mock框架,stub"
           data-author="" >
            <span class="post-title" title="Go Mock (gomock)简明教程">Go Mock (gomock)简明教程</span>
            <span class="post-date" title="2022-02-16 21:59:10">2022/02/16</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/02/16/go/"
           data-tag="Go语言,Go语言程序设计,Go语言教程中文版"
           data-author="" >
            <span class="post-title" title="Go 语言简明教程">Go 语言简明教程</span>
            <span class="post-date" title="2022-02-16 21:59:10">2022/02/16</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/02/11/go/"
           data-tag="golang,mmap,memory mapping,windows"
           data-author="" >
            <span class="post-title" title="Go Mmap 文件内存映射简明教程">Go Mmap 文件内存映射简明教程</span>
            <span class="post-date" title="2022-02-11 21:59:10">2022/02/11</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/2022/02/02/gamesh/"
           data-tag="game"
           data-author="" >
            <span class="post-title" title="休闲娱乐-小游戏">休闲娱乐-小游戏</span>
            <span class="post-date" title="2022-02-02 01:00:10">2022/02/02</span>
        </a>
        
        <a  class="全部文章 数据库 MySQL "
           href="/2022/01/31/mysql/"
           data-tag="MySQL总结"
           data-author="" >
            <span class="post-title" title="MySQL 有这一篇就够（呕心狂敲37k字，只为博君一点赞！！！）">MySQL 有这一篇就够（呕心狂敲37k字，只为博君一点赞！！！）</span>
            <span class="post-date" title="2022-01-31 15:29:32">2022/01/31</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/01/17/go/"
           data-tag="Go WebAssembly,wasm,gopherjs"
           data-author="" >
            <span class="post-title" title="Go WebAssembly (Wasm) 简明教程">Go WebAssembly (Wasm) 简明教程</span>
            <span class="post-date" title="2022-01-17 21:59:10">2022/01/17</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/01/16/go/"
           data-tag="Protocol Buffers,Protobuf,Golang,RPC"
           data-author="" >
            <span class="post-title" title="Go Protobuf 简明教程">Go Protobuf 简明教程</span>
            <span class="post-date" title="2022-01-16 21:59:10">2022/01/16</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/01/16/go/"
           data-tag="Golang,RPC,TLS,证书,鉴权"
           data-author="" >
            <span class="post-title" title="Go RPC &amp; TLS 鉴权简明教程">Go RPC &amp; TLS 鉴权简明教程</span>
            <span class="post-date" title="2022-01-16 21:59:10">2022/01/16</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2022/01/16/go/"
           data-tag="golang test,unit tests,golang testing"
           data-author="" >
            <span class="post-title" title="Go Test 单元测试简明教程">Go Test 单元测试简明教程</span>
            <span class="post-date" title="2022-01-16 21:59:10">2022/01/16</span>
        </a>
        
        <a  class="全部文章 数据库 MySQL "
           href="/2021/12/31/mysql/"
           data-tag="mysql"
           data-author="" >
            <span class="post-title" title="MySQL 基础教程">MySQL 基础教程</span>
            <span class="post-date" title="2021-12-31 22:00:42">2021/12/31</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2021/12/26/go/"
           data-tag="Gin"
           data-author="" >
            <span class="post-title" title="Go Gin 简明教程">Go Gin 简明教程</span>
            <span class="post-date" title="2021-12-26 21:59:10">2021/12/26</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2021/12/25/go/"
           data-tag="并发编程,上下文,信道,超时退出,golang"
           data-author="" >
            <span class="post-title" title="Go Context 并发编程简明教程">Go Context 并发编程简明教程</span>
            <span class="post-date" title="2021-12-25 21:59:10">2021/12/25</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2021/12/24/go/"
           data-tag="Go语言,GO2,泛型"
           data-author="" >
            <span class="post-title" title="Go2 新特性简明教程">Go2 新特性简明教程</span>
            <span class="post-date" title="2021-12-24 21:59:10">2021/12/24</span>
        </a>
        
        <a  class="全部文章 后端 网络编程 "
           href="/2021/12/17/tcp/ip/"
           data-tag="tcp/ip"
           data-author="" >
            <span class="post-title" title="TCP/IP 基础教程">TCP/IP 基础教程</span>
            <span class="post-date" title="2021-12-17 22:00:42">2021/12/17</span>
        </a>
        
        <a  class="全部文章 后端 Redis "
           href="/2021/12/08/redis/"
           data-tag="Redis,教程"
           data-author="" >
            <span class="post-title" title="Redis 2021最新 超详解 教程（狂神笔记+个人总结+代码+截图）">Redis 2021最新 超详解 教程（狂神笔记+个人总结+代码+截图）</span>
            <span class="post-date" title="2021-12-08 10:44:30">2021/12/08</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2021/11/24/go/"
           data-tag="读写锁实现,核心原理"
           data-author="" >
            <span class="post-title" title="图解Go读写锁实现与核心原理分析">图解Go读写锁实现与核心原理分析</span>
            <span class="post-date" title="2021-11-24 23:59:10">2021/11/24</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/11/24/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python 简明教程">Python 简明教程</span>
            <span class="post-date" title="2021-11-24 23:59:10">2021/11/24</span>
        </a>
        
        <a  class="全部文章 后端 Go "
           href="/2021/11/24/go/"
           data-tag="sqlx,Go数据库"
           data-author="" >
            <span class="post-title" title="Go sqlx操作mysql教程">Go sqlx操作mysql教程</span>
            <span class="post-date" title="2021-11-24 21:59:10">2021/11/24</span>
        </a>
        
        <a  class="全部文章 运维 linux "
           href="/2021/10/24/linux/"
           data-tag="VMware,Ubuntu"
           data-author="" >
            <span class="post-title" title="VMware Pro 14 安装 Ubuntu 18.04 详细教程">VMware Pro 14 安装 Ubuntu 18.04 详细教程</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 markdown "
           href="/2021/10/24/tools/"
           data-tag="Markdown,编辑器"
           data-author="" >
            <span class="post-title" title="主流 Markdown 编辑器推荐">主流 Markdown 编辑器推荐</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2021/10/24/hexo/"
           data-tag="jsDelivr,CDN"
           data-author="" >
            <span class="post-title" title="免费CDN：jsDelivr + Github">免费CDN：jsDelivr + Github</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2021/10/24/hexo/"
           data-tag="Cloudflare"
           data-author="" >
            <span class="post-title" title="利用Cloudflare为基于GitHub Pages的Hexo博客添加HTTPS支持">利用Cloudflare为基于GitHub Pages的Hexo博客添加HTTPS支持</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2021/10/24/hexo/"
           data-tag="jsDelivr,CDN,图床,PicGo"
           data-author="" >
            <span class="post-title" title="Github+jsDelivr+PicGo 打造稳定快速、高效免费图床">Github+jsDelivr+PicGo 打造稳定快速、高效免费图床</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2021/10/24/hexo/"
           data-tag="搜索引擎,SEO"
           data-author="" >
            <span class="post-title" title="Hexo 博客提交百度、谷歌搜索引擎收录">Hexo 博客提交百度、谷歌搜索引擎收录</span>
            <span class="post-date" title="2021-10-24 10:10:45">2021/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2021/10/08/hexo-add-baidu/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="Hexo博客向百度提交链接">Hexo博客向百度提交链接</span>
            <span class="post-date" title="2021-10-08 10:44:30">2021/10/08</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/09/26/spring-cloud-skywalking/"
           data-tag="java,SpringCloud,SkyWalking"
           data-author="" >
            <span class="post-title" title="SpringCloud系列之接入SkyWalking进行链路追踪和日志收集">SpringCloud系列之接入SkyWalking进行链路追踪和日志收集</span>
            <span class="post-date" title="2021-09-26 18:08:00">2021/09/26</span>
        </a>
        
        <a  class="全部文章 运维 linux "
           href="/2021/05/17/linux/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="Linux 基础教程">Linux 基础教程</span>
            <span class="post-date" title="2021-05-17 22:00:42">2021/05/17</span>
        </a>
        
        <a  class="全部文章 读书 "
           href="/2021/05/02/undefined/"
           data-tag="五险一金,个税"
           data-author="" >
            <span class="post-title" title="五险一金&amp;个税小常识">五险一金&amp;个税小常识</span>
            <span class="post-date" title="2021-05-02 17:46:16">2021/05/02</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/24/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C09">Python3 基础学习笔记 C09</span>
            <span class="post-date" title="2021-01-24 23:59:10">2021/01/24</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/23/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C08">Python3 基础学习笔记 C08</span>
            <span class="post-date" title="2021-01-23 23:59:10">2021/01/23</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/22/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C07">Python3 基础学习笔记 C07</span>
            <span class="post-date" title="2021-01-22 23:59:10">2021/01/22</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/20/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C05">Python3 基础学习笔记 C05</span>
            <span class="post-date" title="2021-01-20 23:59:10">2021/01/20</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/20/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C06">Python3 基础学习笔记 C06</span>
            <span class="post-date" title="2021-01-20 23:59:10">2021/01/20</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/19/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C04">Python3 基础学习笔记 C04</span>
            <span class="post-date" title="2021-01-19 23:59:10">2021/01/19</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/18/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C03">Python3 基础学习笔记 C03</span>
            <span class="post-date" title="2021-01-18 23:59:10">2021/01/18</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/16/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C02">Python3 基础学习笔记 C02</span>
            <span class="post-date" title="2021-01-16 23:59:10">2021/01/16</span>
        </a>
        
        <a  class="全部文章 后端 Python3 "
           href="/2021/01/15/python3/"
           data-tag="Python3"
           data-author="" >
            <span class="post-title" title="Python3 基础学习笔记 C01">Python3 基础学习笔记 C01</span>
            <span class="post-date" title="2021-01-15 23:59:10">2021/01/15</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2020/12/28/3-hexo-add-icon/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo添加自定义图标">3-hexo添加自定义图标</span>
            <span class="post-date" title="2020-12-28 22:00:00">2020/12/28</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2020/10/20/know-javascript-promise/"
           data-tag="javascript"
           data-author="" >
            <span class="post-title" title="一文看懂JavaScript中的Promise">一文看懂JavaScript中的Promise</span>
            <span class="post-date" title="2020-10-20 19:43:44">2020/10/20</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2020/09/01/Docker-summary/"
           data-tag="docker,linux"
           data-author="" >
            <span class="post-title" title="Docker 技术整理">Docker 技术整理</span>
            <span class="post-date" title="2020-09-01 22:11:00">2020/09/01</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2020/05/23/3-hexo-comment/"
           data-tag="3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo评论设置">3-hexo评论设置</span>
            <span class="post-date" title="2020-05-23 22:26:23">2020/05/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2019/11/12/3-hexo-support-mermaid/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持mermaid图表">3-hexo支持mermaid图表</span>
            <span class="post-date" title="2019-11-12 09:55:37">2019/11/12</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2019/10/08/3-hexo-add-music/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo 添加音乐插件">3-hexo 添加音乐插件</span>
            <span class="post-date" title="2019-10-08 10:44:30">2019/10/08</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2019/09/24/3-hexo-jsfiddle/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo支持jsfiddle渲染">3-hexo支持jsfiddle渲染</span>
            <span class="post-date" title="2019-09-24 09:59:37">2019/09/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2019/09/24/3-hexo-toc/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo文章内toc生成">3-hexo文章内toc生成</span>
            <span class="post-date" title="2019-09-24 09:48:20">2019/09/24</span>
        </a>
        
        <a  class="全部文章 读书 阅读笔记 "
           href="/2019/06/09/misfortune-intellectual/"
           data-tag="reading"
           data-author="" >
            <span class="post-title" title="[记]《知识分子的不幸》-王小波">[记]《知识分子的不幸》-王小波</span>
            <span class="post-date" title="2019-06-09 21:31:09">2019/06/09</span>
        </a>
        
        <a  class="全部文章 读书 阅读笔记 "
           href="/2019/05/02/to-live/"
           data-tag="reading,活着"
           data-author="" >
            <span class="post-title" title="人们在一本叫《活着》的书中纷纷死去">人们在一本叫《活着》的书中纷纷死去</span>
            <span class="post-date" title="2019-05-02 17:46:16">2019/05/02</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2018/09/08/shell-command/"
           data-tag="linux,shell"
           data-author="" >
            <span class="post-title" title="shell速查表">shell速查表</span>
            <span class="post-date" title="2018-09-08 11:48:24">2018/09/08</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2018/02/08/nginx-config/"
           data-tag="nginx"
           data-author="" >
            <span class="post-title" title="nginx配置记录">nginx配置记录</span>
            <span class="post-date" title="2018-02-08 09:19:09">2018/02/08</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/2017/12/13/Mac-BetterTouchTool/"
           data-tag="mac,efficiency"
           data-author="" >
            <span class="post-title" title="Mac神器-BTT(BetterTouchTool)不完全教程">Mac神器-BTT(BetterTouchTool)不完全教程</span>
            <span class="post-date" title="2017-12-13 17:04:25">2017/12/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2017/11/27/java-grammatical-sugar/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="[转]谈谈Java中的语法糖">[转]谈谈Java中的语法糖</span>
            <span class="post-date" title="2017-11-27 22:51:45">2017/11/27</span>
        </a>
        
        <a  class="全部文章 数据库 PostgreSQL "
           href="/2017/11/09/PostgreSQL%E4%BA%8B%E7%89%A9%E5%8F%8A%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/"
           data-tag="PostgreSQL"
           data-author="" >
            <span class="post-title" title="PostgreSQL事务及隔离级别">PostgreSQL事务及隔离级别</span>
            <span class="post-date" title="2017-11-09 00:07:33">2017/11/09</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/10/20/undefined/"
           data-tag="vim,keybord,emacs,linux"
           data-author="" >
            <span class="post-title" title="linux下修改按键ESC&lt;=&gt;CAPSLOCK和Control=&gt;ALT_R">linux下修改按键ESC&lt;=&gt;CAPSLOCK和Control=&gt;ALT_R</span>
            <span class="post-date" title="2017-10-20 17:38:49">2017/10/20</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/25/ascii-ansi-unicode-utf-8/"
           data-tag="encoding"
           data-author="" >
            <span class="post-title" title="[转]字符编解码的故事（ASCII，ANSI，Unicode，Utf-8区别）">[转]字符编解码的故事（ASCII，ANSI，Unicode，Utf-8区别）</span>
            <span class="post-date" title="2017-09-25 19:15:00">2017/09/25</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2017/09/25/%E6%90%AD%E5%BB%BAdubbo+zookeeper%E5%B9%B3%E5%8F%B0/"
           data-tag="dubbo,zookeeper"
           data-author="" >
            <span class="post-title" title="搭建dubbo+zookeeper平台">搭建dubbo+zookeeper平台</span>
            <span class="post-date" title="2017-09-25 16:29:07">2017/09/25</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/25/docker-errors/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker报错集锦">docker报错集锦</span>
            <span class="post-date" title="2017-09-25 10:03:50">2017/09/25</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/09/21/hexo-fragment_cache/"
           data-tag="hexo,fragment_cache"
           data-author="" >
            <span class="post-title" title="Hexo加速渲染速度之fragment_cache">Hexo加速渲染速度之fragment_cache</span>
            <span class="post-date" title="2017-09-21 19:34:37">2017/09/21</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/09/21/bf-cache/"
           data-tag="浏览器,js"
           data-author="" >
            <span class="post-title" title="[转]浏览器前进/后退缓存（BF Cache）">[转]浏览器前进/后退缓存（BF Cache）</span>
            <span class="post-date" title="2017-09-21 15:35:24">2017/09/21</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/09/21/iphone-bf-no-run-js/"
           data-tag="js"
           data-author="" >
            <span class="post-title" title="解决iphone下后退不执行js的问题">解决iphone下后退不执行js的问题</span>
            <span class="post-date" title="2017-09-21 15:25:32">2017/09/21</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/19/CentOS7%E4%BD%BF%E7%94%A8Firewalld/"
           data-tag="firewall"
           data-author="" >
            <span class="post-title" title="CentOS7使用Firewalld">CentOS7使用Firewalld</span>
            <span class="post-date" title="2017-09-19 09:53:53">2017/09/19</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/18/docker-save-export/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker备份恢复之save与export">docker备份恢复之save与export</span>
            <span class="post-date" title="2017-09-18 22:38:52">2017/09/18</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/11/sudo%E5%91%BD%E4%BB%A4%E5%85%8D%E5%AF%86%E7%A0%81%E8%AE%BE%E7%BD%AE/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="sudo命令免密码设置">sudo命令免密码设置</span>
            <span class="post-date" title="2017-09-11 09:30:55">2017/09/11</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/09/06/build-Maven-Nexus/"
           data-tag="java,maven,nexus"
           data-author="" >
            <span class="post-title" title="搭建Maven私服-Nexus">搭建Maven私服-Nexus</span>
            <span class="post-date" title="2017-09-06 23:01:31">2017/09/06</span>
        </a>
        
        <a  class="全部文章 数据库 "
           href="/2017/08/04/mybatis-Mapper/"
           data-tag="mybatis"
           data-author="" >
            <span class="post-title" title="Mybatis常用Mapper语句">Mybatis常用Mapper语句</span>
            <span class="post-date" title="2017-08-04 15:54:47">2017/08/04</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/07/05/MathJax-pjax/"
           data-tag="mathjax,pjax"
           data-author="" >
            <span class="post-title" title="MathJax适配Pjax">MathJax适配Pjax</span>
            <span class="post-date" title="2017-07-05 19:24:10">2017/07/05</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/07/05/3-hexo-mathjax/"
           data-tag="mathjax"
           data-author="" >
            <span class="post-title" title="3-hexo配置MathJax数学公式渲染">3-hexo配置MathJax数学公式渲染</span>
            <span class="post-date" title="2017-07-05 15:09:42">2017/07/05</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/07/03/CentOS7-anonymous-Samba/"
           data-tag="samba"
           data-author="" >
            <span class="post-title" title="CentOS7安装配置匿名访问Samba">CentOS7安装配置匿名访问Samba</span>
            <span class="post-date" title="2017-07-03 19:40:14">2017/07/03</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/06/26/gitment/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="完美替代多说-gitment">完美替代多说-gitment</span>
            <span class="post-date" title="2017-06-26 12:08:13">2017/06/26</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/06/01/vim-paste/"
           data-tag="vim"
           data-author="" >
            <span class="post-title" title="解决粘贴到vim缩进错乱问题">解决粘贴到vim缩进错乱问题</span>
            <span class="post-date" title="2017-06-01 19:45:24">2017/06/01</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/06/01/entering-docker/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="进入docker容器命令制作">进入docker容器命令制作</span>
            <span class="post-date" title="2017-06-01 17:25:11">2017/06/01</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/2017/05/24/tale-build-experience/"
           data-tag="tale"
           data-author="" >
            <span class="post-title" title="tale博客搭建及体验">tale博客搭建及体验</span>
            <span class="post-date" title="2017-05-24 11:29:30">2017/05/24</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/23/docker-data-manager/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker数据管理">docker数据管理</span>
            <span class="post-date" title="2017-05-23 21:43:06">2017/05/23</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/23/docker-container/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker容器">docker容器</span>
            <span class="post-date" title="2017-05-23 21:29:38">2017/05/23</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/23/docker-registry/"
           data-tag="docker,docker仓库"
           data-author="" >
            <span class="post-title" title="docker仓库">docker仓库</span>
            <span class="post-date" title="2017-05-23 21:15:52">2017/05/23</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/23/CentOS-DNS-GW-IP/"
           data-tag="运维,centos"
           data-author="" >
            <span class="post-title" title="CentOS修改DNS/GW/IP">CentOS修改DNS/GW/IP</span>
            <span class="post-date" title="2017-05-23 09:53:52">2017/05/23</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/22/Dockerfile/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="Dockerfile指令详解">Dockerfile指令详解</span>
            <span class="post-date" title="2017-05-22 19:11:42">2017/05/22</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/19/docker-image/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker镜像">docker镜像</span>
            <span class="post-date" title="2017-05-19 16:47:33">2017/05/19</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/19/docker-first/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker初体验">docker初体验</span>
            <span class="post-date" title="2017-05-19 16:32:23">2017/05/19</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/05/17/linux%E6%97%A0%E6%8D%9F%E8%B0%83%E6%95%B4%E5%88%86%E5%8C%BA%E5%A4%A7%E5%B0%8F/"
           data-tag="运维,磁盘分区"
           data-author="" >
            <span class="post-title" title="linux无损调整分区大小">linux无损调整分区大小</span>
            <span class="post-date" title="2017-05-17 22:00:42">2017/05/17</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2017/05/16/git-log/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git统计操作">Git统计操作</span>
            <span class="post-date" title="2017-05-16 09:26:11">2017/05/16</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/04/25/%E8%A7%A3%E5%86%B3linux%E4%B8%8Bzip%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E4%B9%B1%E7%A0%81/"
           data-tag="linux命令"
           data-author="" >
            <span class="post-title" title="解决linux下zip文件解压乱码">解决linux下zip文件解压乱码</span>
            <span class="post-date" title="2017-04-25 09:10:40">2017/04/25</span>
        </a>
        
        <a  class="全部文章 后端 其他 "
           href="/2017/04/22/encryption-algorithm/"
           data-tag="encryption"
           data-author="" >
            <span class="post-title" title="加密算法简介">加密算法简介</span>
            <span class="post-date" title="2017-04-22 09:30:41">2017/04/22</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/04/21/jsp-use-record/"
           data-tag="jsp,jstl"
           data-author="" >
            <span class="post-title" title="JSP操作记录">JSP操作记录</span>
            <span class="post-date" title="2017-04-21 11:22:12">2017/04/21</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2017/04/15/SpringMVC-implementation-process/"
           data-tag="java,spring,springmvc"
           data-author="" >
            <span class="post-title" title="[转]SpringMVC执行流程及源码解析">[转]SpringMVC执行流程及源码解析</span>
            <span class="post-date" title="2017-04-15 10:22:05">2017/04/15</span>
        </a>
        
        <a  class="全部文章 数据库 PostgreSQL "
           href="/2017/04/14/postgres-sql-use/"
           data-tag="postgres,sql"
           data-author="" >
            <span class="post-title" title="PostgreSQL常用SQL操作">PostgreSQL常用SQL操作</span>
            <span class="post-date" title="2017-04-14 16:37:24">2017/04/14</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/2017/03/30/deepin-linux/"
           data-tag="运维,deepin"
           data-author="" >
            <span class="post-title" title="deepin系统使用记录">deepin系统使用记录</span>
            <span class="post-date" title="2017-03-30 18:58:50">2017/03/30</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/27/hexo-error-collection/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="hexo报错合集">hexo报错合集</span>
            <span class="post-date" title="2017-03-27 19:40:42">2017/03/27</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/24/3-hexo-shortcuts/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo快捷键说明">3-hexo快捷键说明</span>
            <span class="post-date" title="2017-03-24 16:45:31">2017/03/24</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/2017/03/23/the-third-comment/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="关于第三方评论系统">关于第三方评论系统</span>
            <span class="post-date" title="2017-03-23 11:59:50">2017/03/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/17/windows-hexo/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="windows环境下使用hexo搭建blog平台">windows环境下使用hexo搭建blog平台</span>
            <span class="post-date" title="2017-03-17 14:02:55">2017/03/17</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/16/npm/"
           data-tag="node"
           data-author="" >
            <span class="post-title" title="npm使用介绍">npm使用介绍</span>
            <span class="post-date" title="2017-03-16 20:09:48">2017/03/16</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/14/Hexo-RSS-Sitemap/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="为Hexo添加RSS和Sitemap">为Hexo添加RSS和Sitemap</span>
            <span class="post-date" title="2017-03-14 09:44:29">2017/03/14</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/13/3-hexo-homepage/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo配置首页">3-hexo配置首页</span>
            <span class="post-date" title="2017-03-13 09:56:07">2017/03/13</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/09/busuanzi-pjax/"
           data-tag="jQuery,hexo"
           data-author="" >
            <span class="post-title" title="不蒜子适配pjax">不蒜子适配pjax</span>
            <span class="post-date" title="2017-03-09 20:15:51">2017/03/09</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/09/duoshuo-pjax/"
           data-tag="jQuery,hexo"
           data-author="" >
            <span class="post-title" title="多说适配pjax">多说适配pjax</span>
            <span class="post-date" title="2017-03-09 19:50:45">2017/03/09</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/09/hexo-wordcount/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo加入字数统计WordCount">Hexo加入字数统计WordCount</span>
            <span class="post-date" title="2017-03-09 16:57:10">2017/03/09</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/08/font-develop-rule/"
           data-tag="translation"
           data-author="" >
            <span class="post-title" title="前端页面开发规范">前端页面开发规范</span>
            <span class="post-date" title="2017-03-08 08:58:21">2017/03/08</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/08/understanding-the-critical-rendering-path/"
           data-tag="translation"
           data-author="" >
            <span class="post-title" title="[译]理解浏览器关键渲染路径">[译]理解浏览器关键渲染路径</span>
            <span class="post-date" title="2017-03-08 08:58:21">2017/03/08</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/03/07/3-hexo/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="Hexo主题3-hexo">Hexo主题3-hexo</span>
            <span class="post-date" title="2017-03-07 11:15:50">2017/03/07</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/03/06/Vim-command/"
           data-tag="vim"
           data-author="" >
            <span class="post-title" title="Vim命令速查表">Vim命令速查表</span>
            <span class="post-date" title="2017-03-06 11:23:36">2017/03/06</span>
        </a>
        
        <a  class="全部文章 运维 "
           href="/2017/03/06/linux-ftp/"
           data-tag="ftp"
           data-author="" >
            <span class="post-title" title="如何在linux中搭建ftp服务">如何在linux中搭建ftp服务</span>
            <span class="post-date" title="2017-03-06 08:47:48">2017/03/06</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/03/04/AngularJs/"
           data-tag="AngularJs"
           data-author="" >
            <span class="post-title" title="AngularJs快速入门">AngularJs快速入门</span>
            <span class="post-date" title="2017-03-04 08:40:58">2017/03/04</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/02/28/3-hexo-multiple-author/"
           data-tag="hexo,3-hexo"
           data-author="" >
            <span class="post-title" title="3-hexo多作者模式">3-hexo多作者模式</span>
            <span class="post-date" title="2017-02-28 10:55:31">2017/02/28</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/02/25/hexo-create-404-page/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo创建404页面">Hexo创建404页面</span>
            <span class="post-date" title="2017-02-25 15:18:39">2017/02/25</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2017/02/24/hexo-top-sort/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="Hexo置顶及排序问题">Hexo置顶及排序问题</span>
            <span class="post-date" title="2017-02-24 15:50:38">2017/02/24</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2017/02/21/the-introduction-of-memory-leak-what-why-and-how/"
           data-tag="java,translation"
           data-author="" >
            <span class="post-title" title="[译]Java内存泄露介绍">[译]Java内存泄露介绍</span>
            <span class="post-date" title="2017-02-21 15:05:39">2017/02/21</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2017/02/08/pjax/"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="pjax用法">pjax用法</span>
            <span class="post-date" title="2017-02-08 20:18:54">2017/02/08</span>
        </a>
        
        <a  class="全部文章 读书 书单 "
           href="/2017/01/31/reading-list/"
           data-tag="reading"
           data-author="" >
            <span class="post-title" title="reading-list">reading-list</span>
            <span class="post-date" title="2017-01-31 15:29:32">2017/01/31</span>
        </a>
        
        <a  class="全部文章 读书 阅读笔记 "
           href="/2017/01/03/Fortress-Besieged/"
           data-tag="reading"
           data-author="" >
            <span class="post-title" title="人生若只如初见-《围城》">人生若只如初见-《围城》</span>
            <span class="post-date" title="2017-01-03 11:27:04">2017/01/03</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/12/24/git-reset/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之reset揭秘">Git之reset揭秘</span>
            <span class="post-date" title="2016-12-24 11:19:24">2016/12/24</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/12/23/git-master/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git操作之高手过招">Git操作之高手过招</span>
            <span class="post-date" title="2016-12-23 10:59:01">2016/12/23</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/12/21/git-ssh-https-verify-configuration/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git之SSH与HTTPS免密码配置">Git之SSH与HTTPS免密码配置</span>
            <span class="post-date" title="2016-12-21 15:31:55">2016/12/21</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2016/11/23/jQuery-checkbox-radio-select/"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="jQuery之checkbox|radio|select操作">jQuery之checkbox|radio|select操作</span>
            <span class="post-date" title="2016-11-23 16:19:34">2016/11/23</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2016/11/22/jQuery-selector/"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="jQuery选择器与节点操作">jQuery选择器与节点操作</span>
            <span class="post-date" title="2016-11-22 17:11:48">2016/11/22</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/2016/11/05/idea-shortcuts/"
           data-tag="IntellijIDEA"
           data-author="" >
            <span class="post-title" title="idea常用快捷键">idea常用快捷键</span>
            <span class="post-date" title="2016-11-05 15:22:48">2016/11/05</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2016/10/24/web-xml/"
           data-tag="java,javaee"
           data-author="" >
            <span class="post-title" title="web.xml详解">web.xml详解</span>
            <span class="post-date" title="2016-10-24 10:10:45">2016/10/24</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2016/10/23/hexo-git-server-blog/"
           data-tag="hexo,Git"
           data-author="" >
            <span class="post-title" title="Hexo+Git服务器搭建blog">Hexo+Git服务器搭建blog</span>
            <span class="post-date" title="2016-10-23 09:24:03">2016/10/23</span>
        </a>
        
        <a  class="全部文章 工具 hexo "
           href="/2016/10/22/hexo-gitHub-pages-create-own-blog/"
           data-tag="hexo,Git,GitHub"
           data-author="" >
            <span class="post-title" title="Hexo+GitHub Pages搭建属于自己的blog">Hexo+GitHub Pages搭建属于自己的blog</span>
            <span class="post-date" title="2016-10-22 21:24:05">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/10/22/set-up-git-server-on-vps/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="搭建Git服务器">搭建Git服务器</span>
            <span class="post-date" title="2016-10-22 20:08:04">2016/10/22</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/10/13/contributing-to-open-source-on-github/"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="如何给GitHub上的项目贡献代码">如何给GitHub上的项目贡献代码</span>
            <span class="post-date" title="2016-10-13 15:44:07">2016/10/13</span>
        </a>
        
        <a  class="全部文章 数据库 PostgreSQL "
           href="/2016/10/12/PostgreSQL-2/"
           data-tag="PostgreSQL"
           data-author="" >
            <span class="post-title" title="PostgreSQL常用操作">PostgreSQL常用操作</span>
            <span class="post-date" title="2016-10-12 20:27:07">2016/10/12</span>
        </a>
        
        <a  class="全部文章 数据库 PostgreSQL "
           href="/2016/10/12/PostgreSQL-1/"
           data-tag="PostgreSQL"
           data-author="" >
            <span class="post-title" title="PostgreSQL初体验">PostgreSQL初体验</span>
            <span class="post-date" title="2016-10-12 19:49:40">2016/10/12</span>
        </a>
        
        <a  class="全部文章 数据库 PostgreSQL "
           href="/2016/10/12/PostgreSQL-3/"
           data-tag="PostgreSQL"
           data-author="" >
            <span class="post-title" title="PostgreSQL的介绍与安装">PostgreSQL的介绍与安装</span>
            <span class="post-date" title="2016-10-12 15:44:16">2016/10/12</span>
        </a>
        
        <a  class="全部文章 大前端 "
           href="/2016/10/05/FreeMarker/"
           data-tag="java,freemarker"
           data-author="" >
            <span class="post-title" title="FreeMarker语法详解">FreeMarker语法详解</span>
            <span class="post-date" title="2016-10-05 11:58:50">2016/10/05</span>
        </a>
        
        <a  class="全部文章 工具 软件记录 "
           href="/2016/10/04/regular-expression/"
           data-tag="regex"
           data-author="" >
            <span class="post-title" title="正则表达式详解">正则表达式详解</span>
            <span class="post-date" title="2016-10-04 09:41:40">2016/10/04</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/10/02/git-command/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Git常用命令">Git常用命令</span>
            <span class="post-date" title="2016-10-02 17:15:39">2016/10/02</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2016/09/30/computer-mutiple-github-account/"
           data-tag="Git,GitHub"
           data-author="" >
            <span class="post-title" title="一个客户端设置多个github账号">一个客户端设置多个github账号</span>
            <span class="post-date" title="2016-09-30 16:42:48">2016/09/30</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-back-end/1645801399466" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Redis 2021最新 超详解 教程（狂神笔记+个人总结+代码+截图）</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="后端">后端</a> > 
            
            <a  data-rel="后端&lt;---&gt;Redis">Redis</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">Redis</a>
            
            <a class="color3">教程</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2022-02-25 23:04:20'>2021-12-08 10:44</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"><span class="toc-text">文章目录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-NoSQL-%E7%AE%80%E4%BB%8B"><span class="toc-text">一.NoSQL 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%BC%94%E5%8C%96"><span class="toc-text">1.数据库演化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8NoSQL"><span class="toc-text">2.为什么使用NoSQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-NoSQL%E7%89%B9%E7%82%B9"><span class="toc-text">3.NoSQL特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-NoSQL%E5%88%86%E7%B1%BB"><span class="toc-text">4.NoSQL分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%94%B5%E5%95%86%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8"><span class="toc-text">5.电商的数据存储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">商品的基本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E7%9A%84%E6%8F%8F%E8%BF%B0%E3%80%81%E8%AF%84%E8%AE%BA%EF%BC%88%E6%96%87%E5%AD%97%E8%BE%83%E5%A4%9A%EF%BC%89"><span class="toc-text">商品的描述、评论（文字较多）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E7%89%87"><span class="toc-text">图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%88%E6%90%9C%E7%B4%A2%EF%BC%89"><span class="toc-text">商品关键字（搜索）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E7%83%AD%E9%97%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">商品热门信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%95%86%E5%93%81%E7%9A%84%E4%BA%A4%E6%98%93%EF%BC%8C%E5%A4%96%E9%83%A8%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3"><span class="toc-text">商品的交易，外部支付接口</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Redis-%E7%AE%80%E4%BB%8B"><span class="toc-text">二、Redis 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AE%80%E4%BB%8B"><span class="toc-text">1.简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81Redis"><span class="toc-text">2.为什么需要Redis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Redis%E5%B8%AE%E6%88%91%E4%BB%AC%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88"><span class="toc-text">3.Redis帮我们解决什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AD%A6%E4%B9%A0%E9%80%94%E5%BE%84"><span class="toc-text">4.学习途径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%B8%8B%E8%BD%BD"><span class="toc-text">5.下载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81Redis-%E5%AE%89%E8%A3%85"><span class="toc-text">三、Redis 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-windows%E7%8E%AF%E5%A2%83"><span class="toc-text">1.windows环境</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="toc-text">启动服务端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-text">启动客户端</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Linux%E5%AE%89%E8%A3%85"><span class="toc-text">2.Linux安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-text">下载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-text">环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8"><span class="toc-text">启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%AD"><span class="toc-text">关闭</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%B5%8B%E8%AF%95%E6%80%A7%E8%83%BD"><span class="toc-text">3.测试性能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%BB%93%E6%9E%9C"><span class="toc-text">分析结果</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Redis-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">四、Redis 基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4"><span class="toc-text">基础指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis%E5%8D%95%E7%BA%BF%E7%A8%8B"><span class="toc-text">Redis单线程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%94%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.五大数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis-Key"><span class="toc-text">Redis-Key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#String-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">String(字符串)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%EF%BC%88%E5%88%97%E8%A1%A8%EF%BC%89"><span class="toc-text">List（列表）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-text">Set（集合）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hash%EF%BC%88HashMap%E9%9B%86%E5%90%88%E3%80%81%E6%95%A3%E5%88%97%E8%A1%A8%E3%80%81%E9%93%BE%E8%A1%A8%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-text">Hash（HashMap集合、散列表、链表数组）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Zset%EF%BC%88%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-text">Zset（有序集合）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%B8%89%E7%A7%8D%E7%89%B9%E6%AE%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.三种特殊数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#geospatial"><span class="toc-text">geospatial</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hyperloglogs"><span class="toc-text">Hyperloglogs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bitmaps"><span class="toc-text">Bitmaps</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Redis-%E4%BA%8B%E5%8A%A1"><span class="toc-text">3.Redis 事务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Redis%E5%AE%9E%E7%8E%B0%E4%B9%90%E8%A7%82%E9%94%81"><span class="toc-text">4.Redis实现乐观锁</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81Java-%E6%93%8D%E4%BD%9C-Redis"><span class="toc-text">五、Java 操作 Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Jedis-%E5%AE%98%E6%96%B9%E5%8E%9F%E7%94%9FAPI"><span class="toc-text">1.Jedis 官方原生API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E3%80%81%E4%BE%9D%E8%B5%96"><span class="toc-text">项目、依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E3%80%81%E6%B5%8B%E8%AF%95"><span class="toc-text">连接、测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8API"><span class="toc-text">常用API</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Key%E6%93%8D%E4%BD%9C"><span class="toc-text">Key操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#String%E7%B1%BB%E5%9E%8B"><span class="toc-text">String类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#List%E9%9B%86%E5%90%88"><span class="toc-text">List集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Set%E9%9B%86%E5%90%88"><span class="toc-text">Set集合</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hash"><span class="toc-text">Hash</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Jedis-%E4%BA%8B%E5%8A%A1"><span class="toc-text">Jedis 事务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-SpringBoot-%E6%95%B4%E5%90%88-Redis"><span class="toc-text">2.SpringBoot 整合 Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87"><span class="toc-text">项目准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis%E6%B5%8B%E8%AF%95"><span class="toc-text">Redis测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E9%97%AE%E9%A2%98"><span class="toc-text">序列化问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%B7%B1%E5%86%99%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">自己写工具类</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81Redis-%E9%AB%98%E7%BA%A7"><span class="toc-text">六、Redis 高级</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-redis-conf-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1.redis.conf 配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Redis-%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">2.Redis 持久化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RDB%EF%BC%88Redis-DataBase%EF%BC%89"><span class="toc-text">RDB（Redis DataBase）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AOF%EF%BC%88Append-Only-File%EF%BC%89"><span class="toc-text">AOF（Append Only File）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis-%E6%8C%81%E4%B9%85%E5%8C%96%E6%80%BB%E7%BB%93"><span class="toc-text">Redis 持久化总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Redis-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85"><span class="toc-text">3.Redis 发布订阅</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-text">4.Redis 主从复制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-text">配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8-1"><span class="toc-text">启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E4%BB%8E%E9%93%BE%E8%B7%AF"><span class="toc-text">主从链路</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">5.哨兵模式（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-2"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B"><span class="toc-text">模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-1"><span class="toc-text">配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-text">测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Redis-%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F%E3%80%81%E5%87%BB%E7%A9%BF%E3%80%81%E9%9B%AA%E5%B4%A9%EF%BC%88%E9%9D%A2%E8%AF%95%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">6.Redis 缓存穿透、击穿、雪崩（面试重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F"><span class="toc-text">缓存穿透</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-3"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">布隆过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E7%A9%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">缓存空对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF"><span class="toc-text">缓存击穿</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-4"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%83%AD%E7%82%B9%E6%95%B0%E6%8D%AE%E6%B0%B8%E4%B8%8D%E8%BF%87%E6%9C%9F"><span class="toc-text">设置热点数据永不过期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-text">加互斥锁</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9"><span class="toc-text">缓存雪崩</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-5"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis%E9%AB%98%E5%8F%AF%E7%94%A8"><span class="toc-text">Redis高可用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%90%E6%B5%81%E9%99%8D%E7%BA%A7"><span class="toc-text">限流降级</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%A2%84%E7%83%AD"><span class="toc-text">数据预热</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><ul>
<li>  <a href="about:blank#NoSQL__1">一.NoSQL 简介</a></li>
<li><ul>
<li><a href="about:blank#1_3">1.数据库演化</a><ul>
<li>  <a href="about:blank#2NoSQL_21">2.为什么使用NoSQL</a></li>
<li>  <a href="about:blank#3NoSQL_28">3.NoSQL特点</a></li>
<li>  <a href="about:blank#4NoSQL_49">4.NoSQL分类</a></li>
<li>  <a href="about:blank#5_59">5.电商的数据存储</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#_60">商品的基本信息</a><ul>
<li>  <a href="about:blank#_64">商品的描述、评论（文字较多）</a></li>
<li>  <a href="about:blank#_67">图片</a></li>
<li>  <a href="about:blank#_78">商品关键字（搜索）</a></li>
<li>  <a href="about:blank#_83">商品热门信息</a></li>
<li>  <a href="about:blank#_86">商品的交易，外部支付接口</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Redis__91">二、Redis 简介</a></li>
<li><ul>
<li><a href="about:blank#1_93">1.简介</a><ul>
<li>  <a href="about:blank#2Redis_101">2.为什么需要Redis</a></li>
<li>  <a href="about:blank#3Redis_107">3.Redis帮我们解决什么</a></li>
<li>  <a href="about:blank#4_119">4.学习途径</a></li>
<li>  <a href="about:blank#5_126">5.下载</a></li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Redis__129">三、Redis 安装</a></li>
<li><ul>
<li><a href="about:blank#1windows_130">1.windows环境</a><ul>
<li><ul>
<li><ul>
<li><a href="about:blank#_139">启动服务端</a><ul>
<li>  <a href="about:blank#_144">启动客户端</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#2Linux_158">2.Linux安装</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#_160">下载</a><ul>
<li>  <a href="about:blank#_175">环境</a></li>
<li>  <a href="about:blank#_186">安装</a></li>
<li>  <a href="about:blank#_198">配置文件</a></li>
<li>  <a href="about:blank#_208">启动</a></li>
<li>  <a href="about:blank#_241">关闭</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#3_249">3.测试性能</a></li>
<li><ul>
<li><ul>
<li>  <a href="about:blank#_265">分析结果</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Redis__272">四、Redis 基础知识</a></li>
<li><ul>
<li><ul>
<li><ul>
<li><a href="about:blank#_275">基础指令</a><pre><code>*   [Redis单线程](about:blank#Redis_290)</code></pre>
</li>
</ul>
</li>
<li>  <a href="about:blank#1_295">1.五大数据类型</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#RedisKey_299">Redis-Key</a><ul>
<li>  <a href="about:blank#String_328">String(字符串)</a></li>
<li>  <a href="about:blank#List_392">List（列表）</a></li>
<li>  <a href="about:blank#Set_471">Set（集合）</a></li>
<li>  <a href="about:blank#HashHashMap_533">Hash（HashMap集合、散列表、链表数组）</a></li>
<li>  <a href="about:blank#Zset_601">Zset（有序集合）</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#2_643">2.三种特殊数据类型</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#geospatial_644">geospatial</a><ul>
<li>  <a href="about:blank#Hyperloglogs_701">Hyperloglogs</a></li>
<li>  <a href="about:blank#Bitmaps_728">Bitmaps</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#3Redis__747">3.Redis 事务</a></li>
<li>  <a href="about:blank#4Redis_785">4.Redis实现乐观锁</a></li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Java__Redis_811">五、Java 操作 Redis</a></li>
<li><ul>
<li><a href="about:blank#1Jedis_API_812">1.Jedis 官方原生API</a><ul>
<li><ul>
<li><ul>
<li><a href="about:blank#_813">概念</a><ul>
<li>  <a href="about:blank#_816">项目、依赖</a></li>
<li>  <a href="about:blank#_832">连接、测试</a></li>
<li>  <a href="about:blank#API_852">常用API</a></li>
<li><ul>
<li><a href="about:blank#Key_855">Key操作</a><ul>
<li>  <a href="about:blank#String_881">String类型</a></li>
<li>  <a href="about:blank#List_923">List集合</a></li>
<li>  <a href="about:blank#Set_960">Set集合</a></li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Hash_999">Hash</a></li>
<li>  <a href="about:blank#Jedis__1033">Jedis 事务</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#2SpringBoot__Redis_1072">2.SpringBoot 整合 Redis</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#_1075">项目准备</a><ul>
<li>  <a href="about:blank#Redis_1096">Redis测试</a></li>
<li>  <a href="about:blank#_1103">序列化问题</a></li>
<li>  <a href="about:blank#_1172">自己写工具类</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#Redis__1395">六、Redis 高级</a></li>
<li><ul>
<li><a href="about:blank#1redisconf__1396">1.redis.conf 配置文件</a><ul>
<li>  <a href="about:blank#2Redis__1546">2.Redis 持久化</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#RDBRedis_DataBase_1547">RDB（Redis DataBase）</a><ul>
<li>  <a href="about:blank#AOFAppend_Only_File_1586">AOF（Append Only File）</a></li>
<li>  <a href="about:blank#Redis__1652">Redis 持久化总结</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#3Redis__1672">3.Redis 发布订阅</a></li>
<li>  <a href="about:blank#4Redis__1699">4.Redis 主从复制</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#_1701">概念</a><ul>
<li>  <a href="about:blank#_1717">配置</a></li>
<li>  <a href="about:blank#_1749">启动</a></li>
<li>  <a href="about:blank#_1789">主从链路</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#5_1803">5.哨兵模式（重点）</a></li>
<li><ul>
<li><ul>
<li><a href="about:blank#_1804">概念</a><ul>
<li>  <a href="about:blank#_1811">模型</a></li>
<li>  <a href="about:blank#_1818">配置</a></li>
<li>  <a href="about:blank#_1838">测试</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#6Redis__1864">6.Redis 缓存穿透、击穿、雪崩（面试重点）</a></li>
<li><ul>
<li><a href="about:blank#_1865">缓存穿透</a><ul>
<li><ul>
<li><a href="about:blank#_1866">概念</a><ul>
<li>  <a href="about:blank#_1874">布隆过滤器</a></li>
<li>  <a href="about:blank#_1879">缓存空对象</a></li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#_1886">缓存击穿</a></li>
<li><ul>
<li><a href="about:blank#_1887">概念</a><ul>
<li>  <a href="about:blank#_1894">设置热点数据永不过期</a></li>
<li>  <a href="about:blank#_1896">加互斥锁</a></li>
</ul>
</li>
</ul>
</li>
<li>  <a href="about:blank#_1899">缓存雪崩</a></li>
<li><ul>
<li><a href="about:blank#_1900">概念</a><ul>
<li>  <a href="about:blank#Redis_1907">Redis高可用</a></li>
<li>  <a href="about:blank#_1911">限流降级</a></li>
<li>  <a href="about:blank#_1914">数据预热</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="一-NoSQL-简介"><a href="#一-NoSQL-简介" class="headerlink" title="一.NoSQL 简介"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>一.NoSQL 简介</h1><h2 id="1-数据库演化"><a href="#1-数据库演化" class="headerlink" title="1.数据库演化"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.数据库演化</h2><p>早期网站访问量不大，单个数据够用，多数为静态网页，服务器没有太大压力，网站瓶颈主要在</p>
<ul>
<li>  数据量过大，一台机器放不下</li>
<li>  数据索引（B+Tree）内存也放不下</li>
<li>  访问量读写混合，一个服务器承受不了</li>
</ul>
<p>为了解决以上问题，开始使用 Memcached（缓存）+MySQL+垂直拆分（读写分离）</p>
<ul>
<li>  开始没有MyCat中间件，为了确保多个数据库服务器数据同步，所以数据库采用了读写分离的方式</li>
<li>  网站的主要消耗在读操作，所以经常使用的数据使用缓存来保证查询效率</li>
</ul>
<p>进一步优化结构，采用 分库分表+水平拆分+MySQL集群</p>
<ul>
<li>  核心问题在解决数据库的 读、写</li>
</ul>
<p>数据量进一步增长，需要保存较大的文件，如博客、图片等，MySQL开始力不从心，效率低下，到了近期技术需要进一步提升，由转恩的数据库来处理。比如，一个几亿条数据的表，需要加一个列，很难想象。</p>
<h2 id="2-为什么使用NoSQL"><a href="#2-为什么使用NoSQL" class="headerlink" title="2.为什么使用NoSQL"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.为什么使用NoSQL</h2><p>用户个人信息、社交网络、地理位置、用户自己产生的数据、用户日志等数据量巨大，这些类型数据存储不需要固定的格式，也就是行列，不需要操作就可以横向扩展，</p>
<p>需要新型的专门数据库出里，随之出现了NoSQL</p>
<p>NoSQL=Not Only SQL</p>
<h2 id="3-NoSQL特点"><a href="#3-NoSQL特点" class="headerlink" title="3.NoSQL特点"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>3.NoSQL特点</h2><ul>
<li>  方便扩展，数据之间没有关系，方便扩展</li>
<li>  大数据量高性能，读写速度快，是细粒度缓存</li>
<li>  数据类型多样，不需要事先设计数据库，随取随用，数据量庞大的表很不好设计</li>
</ul>
<p>传统的关系型数据库RDBMS</p>
<ul>
<li>  结构化组织</li>
<li>  语言SQL</li>
<li>  数据和关系都存在单独的表中</li>
<li>  操作，数据定义语言</li>
<li>  严格的一致性</li>
<li>  基础的事务</li>
</ul>
<p>NoSQL</p>
<ul>
<li>  存储不仅仅是数据</li>
<li>  没有固定的查询语言</li>
<li>  键值对存储，列存储，文档存储，图形数据库（社交关系）</li>
<li>  最终一致性（最终一致即可）</li>
<li>  CAP定理和BASE</li>
<li>  高性能，高可用，高可扩展</li>
</ul>
<h2 id="4-NoSQL分类"><a href="#4-NoSQL分类" class="headerlink" title="4.NoSQL分类"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>4.NoSQL分类</h2><ul>
<li>  泛指非关系型数据库，为了和关系型数据库做区分，Redis就是一款NoSQL</li>
<li>主流分为四大类：<br>  1.Key-Value型：Redis Tair memecache<br>  2.文档型：ElasticSearch Solr MongoDB（非关系型数据库中最像关系型数据库的）<br>  3.面向列：Hbase Cassandra<br>  4.图形化：Neo4j，不是存图片，而是存关系图形化的</li>
</ul>
<p>简单的理解：关系型数据库以外的都是非关系型数据库，因为它不采用表结构</p>
<h2 id="5-电商的数据存储"><a href="#5-电商的数据存储" class="headerlink" title="5.电商的数据存储"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>5.电商的数据存储</h2><h4 id="商品的基本信息"><a href="#商品的基本信息" class="headerlink" title="商品的基本信息"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>商品的基本信息</h4><p>名称、价格、商家等信息，<br>采用关系型数据库，MySQL、Oracle</p>
<h4 id="商品的描述、评论（文字较多）"><a href="#商品的描述、评论（文字较多）" class="headerlink" title="商品的描述、评论（文字较多）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>商品的描述、评论（文字较多）</h4><p>文档型数据库，如MongoDB</p>
<h4 id="图片"><a href="#图片" class="headerlink" title="图片"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>图片</h4><p>分布式文件系统，FastDFS</p>
<p>淘宝自研技术，TFS</p>
<p>Google：GFS</p>
<p>Hadoop：HDFS</p>
<p>阿里云：OSS</p>
<h4 id="商品关键字（搜索）"><a href="#商品关键字（搜索）" class="headerlink" title="商品关键字（搜索）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>商品关键字（搜索）</h4><p>早期搜索引擎：solr elasticsearch</p>
<p>淘宝使用：ISearch</p>
<h4 id="商品热门信息"><a href="#商品热门信息" class="headerlink" title="商品热门信息"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>商品热门信息</h4><p>内存数据库：Redis，Tair，Memache</p>
<h4 id="商品的交易，外部支付接口"><a href="#商品的交易，外部支付接口" class="headerlink" title="商品的交易，外部支付接口"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>商品的交易，外部支付接口</h4><p>第三方应用如银行</p>
<h1 id="二、Redis-简介"><a href="#二、Redis-简介" class="headerlink" title="二、Redis 简介"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>二、Redis 简介</h1><h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.简介</h2><ul>
<li>  Redis全称Remote Dictionary Server，即远程字典服务，由C语言编写，所以不需要安装Java环境，是一款基于K-V的NoSQL，使用起来就像map一样，免费，开源，也叫结构化数据库</li>
<li>  一个意大利人需要开发一款LLOOGG统计页面，因为MySQL性能不好，所以自己研发一款非关系型数据库，并命名为Redis</li>
<li>  基于内存存储数据，读写速度快，性能达到110000次/s读数据，81000次/s写数据，但是内存存储不持久，所以Redis提供了持久化机制</li>
<li>  Redis还提供了主从、哨兵以及集群的搭建方式，可以更方便的横向扩展以及垂直扩展</li>
<li>  新浪有全世界最大的Redis集群，数据量大的服务器基本都需要Redis，他是后台开发人员的必备技能之一</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210224221406169.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="2-为什么需要Redis"><a href="#2-为什么需要Redis" class="headerlink" title="2.为什么需要Redis"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.为什么需要Redis</h2><ul>
<li>  由于用户量增大，请求数量增大，数据压力过大，服务器集群能承受住，数据库无法承受</li>
<li>  多台服务器之间存在数据不同步，比如，上次登录的服务器有session，这次登录的服务器没有session</li>
<li>  多台服务器之间的锁已经不具备互斥性，各论各的</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210224222336861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="3-Redis帮我们解决什么"><a href="#3-Redis帮我们解决什么" class="headerlink" title="3.Redis帮我们解决什么"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>3.Redis帮我们解决什么</h2><ul>
<li>  针对热点数据添加缓存，存到Redis中，Redis基于内存存储、读取数据，读写效率非常高</li>
<li>  将之前存储在session中的共享数据统一存放Redis中</li>
<li>  Redis基于接收用户请求的是单线程的</li>
<li>  可以实现持久化</li>
<li>  可以发布订阅，实现消息队列功能</li>
<li>  可以地图信息分析</li>
<li>  支持计时器、计数器，比如支持浏览量</li>
<li>  提供多种语言API</li>
</ul>
<p>特性：多样的数据类型、持久化、集群、事务</p>
<h2 id="4-学习途径"><a href="#4-学习途径" class="headerlink" title="4.学习途径"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>4.学习途径</h2><p>官网：<a target="_blank" rel="noopener" href="https://redis.io/">https://redis.io/</a></p>
<p>中文网：<a target="_blank" rel="noopener" href="http://www.redis.cn/">http://www.redis.cn/</a>、</p>
<p>论坛</p>
<h2 id="5-下载"><a href="#5-下载" class="headerlink" title="5.下载"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>5.下载</h2><p>windows版本在Github上下载，很久没有更新，Redis官方推荐使用Linux版本</p>
<h1 id="三、Redis-安装"><a href="#三、Redis-安装" class="headerlink" title="三、Redis 安装"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>三、Redis 安装</h1><h2 id="1-windows环境"><a href="#1-windows环境" class="headerlink" title="1.windows环境"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.windows环境</h2><p>github下载，放在指定的目录下，直接解压文件，Redis很小，只有几兆</p>
<p><img src="https://img-blog.csdnimg.cn/20210225021457461.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li>  redis-server.exe：启动服务端</li>
<li>  redis-cli.exe：启动客户端</li>
<li>  redis-check-aof.pdb：检查持久化文件是否正确</li>
<li>  redis-benchmark.exe：测试性能</li>
</ul>
<h4 id="启动服务端"><a href="#启动服务端" class="headerlink" title="启动服务端"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>启动服务端</h4><p>双击redis-server，启动服务端，Redis默认端口号6379，</p>
<p>如果启动服务端发现闪退，可能是重复启动导致的，进入任务管理器关闭旧的即可<br><img src="https://img-blog.csdnimg.cn/20210225021828299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="启动客户端"><a href="#启动客户端" class="headerlink" title="启动客户端"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>启动客户端</h4><p>双击redis-cli，默认连接6379端口，使用ping测试是否连接正常</p>
<p><img src="https://img-blog.csdnimg.cn/20210225022256890.png" alt="在这里插入图片描述"><br>测试存储，设置一个k-v，并获取值，如，</p>
<p><code>set name jack</code> <code>get name</code><br><img src="https://img-blog.csdnimg.cn/20210225022505432.png" alt="在这里插入图片描述"></p>
<p>window下使用很简单，但是Redis推荐我们使用Linux环境使用！官方已经不维护了，只是微软在维护而已<br><img src="https://img-blog.csdnimg.cn/20210225023024858.png" alt="在这里插入图片描述"><br>windows环境下也可以使用RedisDesktopManager来作为客户端界面，<br><img src="https://img-blog.csdnimg.cn/20210225023751945.png" alt="在这里插入图片描述"></p>
<h2 id="2-Linux安装"><a href="#2-Linux安装" class="headerlink" title="2.Linux安装"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.Linux安装</h2><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>下载</h4><p>官网下载：<a target="_blank" rel="noopener" href="https://redis.io/download">https://redis.io/download</a></p>
<p><img src="https://img-blog.csdnimg.cn/20210225020646116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>使用VMware启动Linux，MobaXterm连接Linux<br><img src="https://img-blog.csdnimg.cn/20210227194417362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>将Redis压缩包上传到Linux中，进入到上传目录，<br><img src="https://img-blog.csdnimg.cn/20210227201454642.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>解压Redis压缩包，将程序移动到opt目录下（推荐放在此处），</p>
<pre><code>tar -zxvf redis-6.2.0.tar.gz
mv redis-6.2.0 /opt
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210227202246352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="环境"><a href="#环境" class="headerlink" title="环境"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>环境</h4><p>Redis运行需要C++环境，安装C++，查看C++版本状态</p>
<pre><code>yum install gcc-c++
gcc-v
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210227202800303.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210227202959592.png" alt="在这里插入图片描述"></p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>安装</h4><p>进入Redis解压缩的目录，执行<code>make</code>命令，开始安装Redis（需要一段时间），<code>make insall</code>确认一下</p>
<pre><code>cd redis-6.2.0/
make
make install
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210227203941294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>Redis默认安装目录在/usr/local/bin中，这里的目录就相当于windows中解压缩后进入的目录<br><img src="https://img-blog.csdnimg.cn/20210227204408472.png" alt="在这里插入图片描述"></p>
<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>配置文件</h4><p>在当前目录下新建一个配置文件目录，将Redis解压文件中的redis.con配置文件复制到其中</p>
<p>以后使用这个复制的配置文件启动Redis</p>
<pre><code>mkdir rconfig
cp /opt/redis-6.2.0/redis.conf rconfig/
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210227205540270.png" alt="在这里插入图片描述"></p>
<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>启动</h4><p>Redis默认不是后台启动，将其修改为后台启动，编辑配置文件，</p>
<p>vim命令不好使的，需要在线安装vim，自行百度搜方法</p>
<pre><code>vim redis.conf
</code></pre>
<p>i开始插入编辑，这里修改为yes表示可以后台启动，esc退出编辑，:wq退出配置文件<br><img src="https://img-blog.csdnimg.cn/20210227210644962.png" alt="在这里插入图片描述"><br>回到bin目录，通过配置文件启动Redis服务端</p>
<pre><code>redis-server rconfig/redis.conf
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228005744640.png" alt="在这里插入图片描述"><br>启动客户端，连接服务</p>
<pre><code>redis-cli -p 6379
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021022800583916.png" alt="在这里插入图片描述"><br>测试连接，测试存储<br><img src="https://img-blog.csdnimg.cn/2021022801001890.png" alt="在这里插入图片描述"><br>查看Redis进程命令</p>
<pre><code>ps -ef|grep redis
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228010402722.png" alt="在这里插入图片描述"></p>
<h4 id="关闭"><a href="#关闭" class="headerlink" title="关闭"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>关闭</h4><p>在客户端连接中，使用命令shutdown关闭服务端，退出客户端即可</p>
<pre><code>shutdown
exit
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021022801084370.png" alt="在这里插入图片描述"></p>
<h2 id="3-测试性能"><a href="#3-测试性能" class="headerlink" title="3.测试性能"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>3.测试性能</h2><p>bin目录下的redis-benchmark，官方自带<br><img src="https://img-blog.csdnimg.cn/20210228011305997.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210228012055113.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>如，测试100个并发，100000个并发请求</p>
<p>确保客户端连接服务，再开启一个新的连接窗口，进入到bin目录<br><img src="https://img-blog.csdnimg.cn/20210228013227928.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210228013241659.png" alt="在这里插入图片描述"><br>新窗口bin目录中执行测试命令</p>
<pre><code>redis-benchmark -h localhost -p 6379 -c 100 -n 100000
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228013528355.png" alt="在这里插入图片描述"></p>
<h4 id="分析结果"><a href="#分析结果" class="headerlink" title="分析结果"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>分析结果</h4><p><img src="https://img-blog.csdnimg.cn/20210228013802942.png" alt="在这里插入图片描述"><br>写入测试，100000个请求，0.84秒完成，100个并发，每次写入3字节，保持1个连接<br><img src="https://img-blog.csdnimg.cn/20210228014606488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">完成多少百分比的请求量所消耗的时间<br><img src="https://img-blog.csdnimg.cn/20210228014653463.png" alt="在这里插入图片描述"><br>计算结果，每秒处理119189.52个请求</p>
<h1 id="四、Redis-基础知识"><a href="#四、Redis-基础知识" class="headerlink" title="四、Redis 基础知识"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>四、Redis 基础知识</h1><p>Redis默认16个数据库，默认使用的是第一个数据库，select *指令可以切换，配置文件中可以查看到，<br><img src="https://img-blog.csdnimg.cn/20210228105429182.png" alt="在这里插入图片描述"></p>
<h4 id="基础指令"><a href="#基础指令" class="headerlink" title="基础指令"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>基础指令</h4><p>以下指令在客户端连接状态下使用</p>
<pre><code>#切换数据库
select num(0-15)
#查看数据库大小
dbsize
#查看数据库所有的key
keys *
#清空当前数据库
flushdb
#清除所有数据库
flushall
</code></pre>
<h4 id="Redis单线程"><a href="#Redis单线程" class="headerlink" title="Redis单线程"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Redis单线程</h4><p>Redis速度很快，基于内存操作，性能瓶颈不在CPU，而是内存和网络带宽，我们使用Redis用单线程即可</p>
<p>多线程的CPU上下文切换比较耗时，所有对于Redis来说，单线程效率最高</p>
<h2 id="1-五大数据类型"><a href="#1-五大数据类型" class="headerlink" title="1.五大数据类型"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.五大数据类型</h2><p><img src="https://img-blog.csdnimg.cn/20210228111913810.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>提示：五大基本数据类型的操作使用需要熟练掌握，因为Java操作Redis的API都是基于Redis原生操作来定义的</p>
<h4 id="Redis-Key"><a href="#Redis-Key" class="headerlink" title="Redis-Key"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Redis-Key</h4><p>key泛指键，value泛指值，以实际为准</p>
<p>查看所有key</p>
<pre><code>keys *
</code></pre>
<p>判断某一个key是否存在</p>
<pre><code>exist key
</code></pre>
<p>将数据移动到指定的数据库中</p>
<pre><code>move key num(数据库编号)
</code></pre>
<p>设置某一条数据的过期时间,t的单位是秒</p>
<pre><code>expire key t
</code></pre>
<p>查看某条数据的剩余生命时长，-2表示没了</p>
<pre><code>ttl key
</code></pre>
<p>查看key的类型</p>
<pre><code>type key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228113706853.png" alt="在这里插入图片描述"></p>
<h4 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String(字符串)"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>String(字符串)</h4><p>赋值、取值、追加、长度</p>
<pre><code>set key value
get key
#向key对应的值后面追加value，如果当前key不存在，则相当于set key value
append key value
#查看key对应的值的长度
strlen key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021022812271536.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>自增减、步长</p>
<pre><code>#给key的值+1，常用于计数，如网页浏览量
incr key
#将key的值-1
decr key
#增减时设置增减步长
incrby key num
decrby key num
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228123303531.png" alt="在这里插入图片描述"><br>截取</p>
<pre><code>#截取字符串，从num1-num2，0到-1表示查看全部字符串
getrange key num1 num2
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228123829808.png" alt="在这里插入图片描述"><br>替换</p>
<pre><code>#替换字符串，从offset处开始
setrange key offset value
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228125513484.png" alt="在这里插入图片描述"><br>判断，分布式锁中经常使用</p>
<pre><code>#如果key存在，则设置过期时间和key的值
setex key seconds value
#如果key不存在，则创建新的key和value，如果这个key存在，那么也不会设置成功，值也不会覆盖
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228130538126.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>批量处理，原子性</p>
<pre><code>#批量设置键值对k1-v1,k2-v2,k3-v3
mset k1 v1 k2 2 k3 v3
#批量获取值
mget k1 k2 k3
#批量设置，如果不存在，则设置k-v，只要其中有一个是存在的，则整体设置不成功，体现出原子性
msetnx k1 v1 k2 v2 k3 v3
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228131739908.png" alt="在这里插入图片描述"><br>利用Redis批量设置，可以这样保存json格式的对象</p>
<p><code>对象名:对象id:属性名</code> 作为Redis的key，<code>属性值</code> 作为Redis的value<br><img src="https://img-blog.csdnimg.cn/20210228133435181.png" alt="在这里插入图片描述"><br>先get再set，不存在则返回nil并设置新的值，如果存在则返回旧的值并设置新的值</p>
<pre><code>#先get再set，返回的是get的值，值会被覆盖
getset key value
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228134048991.png" alt="在这里插入图片描述"></p>
<ul>
<li>  总结：Redis String类型可以用作计数器、统计多单位数量、浏览量、对象缓存等</li>
</ul>
<h4 id="List（列表）"><a href="#List（列表）" class="headerlink" title="List（列表）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>List（列表）</h4><p>基本数据类型，列表</p>
<p>Redis中，可以将list当做栈、队列、阻塞队列来使用，所有的list命令都用l开头</p>
<p>很多命令都是左右对称可以使用的，我们主要以左侧举例，右侧镜像可以自行测试</p>
<p>从头部（左侧）操作，赋值、取值，先进后出</p>
<pre><code>#向key列表赋值,按照入栈顺序
listpush key element
#从key列表取值,按照出栈顺序,0到-1表示所有
lrange key start stop
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228155559422.png" alt="在这里插入图片描述"><br>从尾部（右侧）操作</p>
<pre><code>lrange list start stop
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228160212850.png" alt="在这里插入图片描述"><br>当做数组使用，使用下标</p>
<pre><code>#从数组key中取值，下标为index
lindex key index
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228165927868.png" alt="在这里插入图片描述"><br>获取队列长度，</p>
<p><img src="https://img-blog.csdnimg.cn/20210228170317329.png" alt="在这里插入图片描述"><br>同一个队列中可以有重复的值</p>
<p>移除队列中指定的值，如果这个值在队列中只有一个，移除个数就是1，如果有多个，可以指定移除多个这样的值</p>
<pre><code>#移除队列中的值，可以指定移除个数
lrem list count element
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228171011510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>截取指定区间的元素，通过下标，永久性修改了队列</p>
<pre><code>ltrim list start stop
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228171515114.png" alt="在这里插入图片描述"><br>组合命令，可以实现上述功能组合后的效果</p>
<p>移除列表最后一个元素，或者说从右侧弹出一个元素，放到新的队列中，返回值就是弹出的那个元素</p>
<pre><code>#移除最后（右侧）的元素，放在新的队列中，左侧入栈
rpoplpush source destination
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228172816696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>判断队列是否存在，如果存在则，如果不存在则</p>
<pre><code>#判断是否存在队列
exists key
#如果队列存在，则将指定索引出的值进行更新，如果队列不存在，则没有效果，如果队列存在索引不存在，也报错
lset list index element
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228173640861.png" alt="在这里插入图片描述"><br>在指定的元素（值，不是索引）处插入一个值，指定在前面插入，或在后面插入</p>
<pre><code>linsert key before|after pivot element
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228175002623.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>总结：</p>
<ul>
<li>  list实际上是一个链表，before node after，left，right 都可以插入值</li>
<li>  如果key不存在，则创建新链表</li>
<li>  如果key存在，则新增内容</li>
<li>  如果移除所有值，成为空链表，代表不存在，</li>
<li>  对于链表而言，在两端的值操作值效率最高，对中间的值操作效率略低</li>
<li>  消息排队，lpush rpop 表示左进右出，相当于消息队列，lpush lpop 表示左进左出，相当于栈</li>
</ul>
<h4 id="Set（集合）"><a href="#Set（集合）" class="headerlink" title="Set（集合）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Set（集合）</h4><p>因为无序，所以存储的值不可重复，命令以s开头</p>
<p>添加集合元素，查看集合元素，判断某个元素是否存在</p>
<pre><code>#向名为key的集合添加元素member
sadd key member
#显示集合key中所有元素
smembers key
#判断集合key中是否存在元素member
sismember key member
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228231620407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>获取集合中元素个数</p>
<pre><code>#获取集合key中元素的个数
scard key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228231842939.png" alt="在这里插入图片描述"><br>移除集合中的指定元素</p>
<pre><code>#移除集合key中的指定元素member
srem key member

</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228232107163.png" alt="在这里插入图片描述"><br>随机取出指定个数的元素</p>
<pre><code>#随机从集合key中抽选指定个数的元素，没有指定个数就是默认1
srandmember key [count]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210228232444495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>删除元素</p>
<pre><code>#随机移除指定个数的元素，没有指定个数就是默认1
spop key [count]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021030100094893.png" alt="在这里插入图片描述"><br>将集合中元素移动到另一个集合中</p>
<pre><code>#将集合key中的元素member移动到新的集合destination中
smove key destination member
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301001459698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>两个集合之间的运算，应用在比如，共同通讯好友，共同关注上</p>
<pre><code>#集合key1中减去集合key2与集合key1的交集，得到的剩余部分，如果key2没有指定得到的还是完整的key1
sdiff key1 [key2]
#集合key1与集合key2做交集，如果key2没有指定，则得到完整的key1
sinter key1 [key2]
#集合key1与集合key2做并集，如果key2没有指定，则得到完整的key1
sunion key1 [key2]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301003547678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="Hash（HashMap集合、散列表、链表数组）"><a href="#Hash（HashMap集合、散列表、链表数组）" class="headerlink" title="Hash（HashMap集合、散列表、链表数组）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Hash（HashMap集合、散列表、链表数组）</h4><p>与String类型类似，只不过每个元素变成了一个键值对</p>
<p>Hash类型的命令以h开头</p>
<p>赋值、取值、键不可重复，如果键相同则新值覆盖旧值</p>
<pre><code>#向集合key中存入键值对，键为field，值为value
hset key field value
#向集合key中存入多个键值对，field1-value1，field2-value2...
hmset key field1 value1 field2 value2
#根据键获取集合key中的多个值
hmget key field1 field2
#获取集合Key中的所有的键值对
hgetall key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301013802722.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>删除</p>
<pre><code>#根据键field删除集合key中的指定键值对
hdel key field
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301014452182.png" alt="在这里插入图片描述"><br>长度</p>
<pre><code>#查看集合key的长度，元素个数
hlen key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301014730540.png" alt="在这里插入图片描述"><br>判断</p>
<pre><code>#根据键field判断集合key中是否存在该键值对
hexists key field
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301015007760.png" alt="在这里插入图片描述"><br>只获取键，只获取值</p>
<pre><code>#只获取集合Key中的键
hkeys key
#只获取集合key中的值
hvals key
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301015140756.png" alt="在这里插入图片描述"><br>自增长</p>
<pre><code>#设置集合key中的键值对中的值增长，并指定步长increment
hincrby key field increment
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301015703336.png" alt="在这里插入图片描述"><br>判断元素如果存在，如果不存在</p>
<pre><code>#判断指定的键是否存在，如果不存在，则指定值，如果存在，则设置不成功
hsetnx key field value
</code></pre>
<p>存储对象，可变更数据，对象信息的保存，前面String类型也可以存对象，但是推荐使用Hash类型存储对象</p>
<p>如，将<code>对象名:对象id</code>作为集合，<code>属性名</code>作为键，<code>属性值</code>作为值，可以同时给集合添加多个属性名、属性值</p>
<p><code>对象名:id</code> 只是一种规范，自己也可设置其他规范</p>
<p><img src="https://img-blog.csdnimg.cn/20210301021004601.png" alt="在这里插入图片描述"></p>
<h4 id="Zset（有序集合）"><a href="#Zset（有序集合）" class="headerlink" title="Zset（有序集合）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Zset（有序集合）</h4><p>还是集合，在Set类型基础上，增加一个值score，值可以用来实现排序，命令以z开头</p>
<p>赋值、</p>
<pre><code>#集合key添加元素member，元素的值为score
zadd key score member
#添加多个元素
zadd key score1 member1 score2 member2
#获取范围内的值，0到-1为全部的值，这里的范围编号和score不同，注意区分
zrange key start stop
#降序
zrevrange key start stop
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301124718100.png" alt="在这里插入图片描述"><br>排序</p>
<pre><code>#根据score的大小，展示范围内的元素，-inf +inf 表示正无穷、负无穷，这个范围代表集合中的所有元素
#m默认升序，withscores表示结果中包含scores值
zrangebyscore key min max [witscores] [limit offset count]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021030123414820.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>移除，</p>
<pre><code>#移除集合key中的元素member
zrem key member
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210301234752678.png" alt="在这里插入图片描述"></p>
<p>统计</p>
<pre><code>#统计集合key总的元素个数
zcard key
#根据score的区间范围，统计元素个数，范围含头含尾
zcount key min max
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302000007626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>使用场景：需要set排序，如成绩表，薪资表，需要使用权重判断，排行榜等</p>
<h2 id="2-三种特殊数据类型"><a href="#2-三种特殊数据类型" class="headerlink" title="2.三种特殊数据类型"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.三种特殊数据类型</h2><h4 id="geospatial"><a href="#geospatial" class="headerlink" title="geospatial"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>geospatial</h4><p>定位、附近人、地理位置推算距离，</p>
<p><a target="_blank" rel="noopener" href="http://www.redis.cn/commands/geoadd.html">http://www.redis.cn/commands/geoadd.html</a></p>
<p>添加地理位置，南北极无法直接添加，通常会下载城市数据直接导入</p>
<p>地理数据与实际地图吻合不可乱写，否则会计算错误</p>
<ul>
<li>  有效的经度从-180度到180度。</li>
<li>  有效的纬度从-85.05112878度到85.05112878度。</li>
<li>  当坐标位置超出上述指定范围时，该命令将会返回一个错误。</li>
</ul>
<pre><code>#向集合key中添加元素member的经度longitude、纬度latitude，可以一次添加多个位置
geoadd key longitude latitude member
#获取地理位置
geopos key member
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302205357684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>定位之间距离</p>
<ul>
<li>  m 表示单位为米。</li>
<li>  km 表示单位为千米。</li>
<li>  mi 表示单位为英里。</li>
<li>  ft 表示单位为英尺</li>
</ul>
<pre><code>#返回两个位置之间的距离
geodist key member1 member2 [m|km|mi|ft]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302210009587.png" alt="在这里插入图片描述"><br>获取半径内的元素</p>
<pre><code>#以给定经纬度longitude latitude为中心，找出半径radius内的元素，
#可以选择是否返回元素到中心的距离、经纬度、限制查询的个数
georadius key longitude latitude radius [m|km|mi|ft] [withdist] [withcoord] [count count]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302210544374.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210302211205350.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>根据已有的元素，筛选范围内其他元素</p>
<pre><code>#给定一个元素，查找半径内的其他元素
#可以选择是否返回查找的元素到中心的距离、经纬度、限制查询的个数
georadiusbymember key member radius [m|km|mi|ft] [withdist] [withcoord] [count count]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302211930785.png" alt="在这里插入图片描述"><br>返回元素的Hash，该命令将返回11个字符的Geohash字符串，不常用</p>
<pre><code>geohash key member1 member2
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210302212339269.png" alt="在这里插入图片描述"><br>geo底层实现原理还是zset，所以可也以使用zset命令来操作地理位置，如查看全部元素、移除元素<br><img src="https://img-blog.csdnimg.cn/20210302212637269.png" alt="在这里插入图片描述"></p>
<h4 id="Hyperloglogs"><a href="#Hyperloglogs" class="headerlink" title="Hyperloglogs"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Hyperloglogs</h4><p>基数：指一个集合中不重复的元素的个数</p>
<p>Redis HyperLogLog 是用来做基数统计的算法</p>
<p>用途：同一个人访问多次，可以算作一个访问人。</p>
<p>传统的方式使用set集合，统计id，如果用户数据量很大就会比较麻烦，消耗资源，</p>
<p>而Redis HyperLogLog 底层数据结构就是去重统计基数，占用内存非常小，每个 HyperLogLog 键只需要花费 12 KB 内存，就可以计算接近 2^64 个不同元素的基数，但是有0.81%的错误率，统计UV时可以忽略不计</p>
<p>新增，统计</p>
<pre><code>#添加元素
pfadd key member [member]
#统计集合元素个数
pfcount key
#统计多个集合总的元素个数，也会自动去重
pfcount key [key]
</code></pre>
<p>合并，去重</p>
<pre><code>#合并多个集合，自动去重复元素,合并之后的集合替换掉destkey,sourcekey不变
pfmerge destkey sourcekey [sourcekey]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210303001343713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Bitmaps</h4><p>在开发中，可能会遇到这种情况：需要统计用户的某些信息，如活跃或不活跃，登录或者不登录；又如需要记录用户一年的打卡情况，打卡了是1， 没有打卡是0，如果使用普通的 key/value存储，则要记录365条记录，如果用户量很大，需要的空间也会很大，所以 Redis　提供了 Bitmap 位图这中数据结构，Bitmap 就是通过操作二进制位来进行记录，即为 0 和 1；如果要记录 365 天的打卡情况，使用 Bitmap 表示的形式大概如下：0101000111000111…，这样有什么好处呢？当然就是节约内存了，365 天相当于 365 bit，又 1 字节 = 8 bit , 所以相当于使用 46 个字节即可</p>
<p>通俗理解：</p>
<ul>
<li>  当我们使用标记存储两种状态时，如果用一个变量存一个标记太浪费资源，现在将所有标记统一放在一条二进制数据上，每一位都用0或1对应一个标记，大大节约空间</li>
</ul>
<p>bitmap位图这种数据结构，使用二进制操作数据，</p>
<p>新增、查看、统计</p>
<pre><code>#向key中存入数据，offet相当于下标，记录位置，从0开始，value只能是0和1，对应我们所需的状态
setbit key offet value
#查看指定位置的状态
getbit key offet
#统计二进制数据上1的个数，可以加范围,start 和 end 参数的设置和 GETRANGE 命令类似,都可以使用负数值：比如 -1 表示最后一个位，而 -2 表示倒数第二个位，以此类推
bitcount key [start end]
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021030301071769.png" alt="在这里插入图片描述"></p>
<h2 id="3-Redis-事务"><a href="#3-Redis-事务" class="headerlink" title="3.Redis 事务"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>3.Redis 事务</h2><p>事物的本质是一组命令一块执行，事务执行是，里面的命令按照顺序执行，一次性，顺序性，排他性</p>
<p>Redis事务没有隔离级别的概念，因为所有命令在事务中没有直接执行，只有发起命令的时候才会执行exec</p>
<p>Redis单条命令保证原子性，但Redis整个事务不保证原子性，原因见下面</p>
<ul>
<li>  开启事务 <code>multi</code></li>
<li>  命令入队</li>
<li>  执行事务 <code>exec</code></li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210304012443637.png" alt="在这里插入图片描述"></p>
<ul>
<li>  放弃事务 <code>discard</code></li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210304012736780.png" alt="在这里插入图片描述"></p>
<ul>
<li>  编译异常</li>
</ul>
<p>开启事务后，当出现代码异常，直至提交事务，这段期间的命令都不会执行，</p>
<p>这种情况在Java中比较少见，因为Java操作Redis基本不会出现代码异常</p>
<p><img src="https://img-blog.csdnimg.cn/202103040133126.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li>  运行异常</li>
</ul>
<p>开启事务后，执行命令，提交事务，如果运行期间出现问题，除了异常命令，其他命令正常执行</p>
<p>所以说，Redis单条命名保证原子性，但整个Redis事务无法保证原子性<br><img src="https://img-blog.csdnimg.cn/20210304014936500.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>结论：</p>
<ul>
<li><p>  Redis单条命令保证原子性，因为Redis是单线程</p>
</li>
<li><p>  Redis整个事务不保证原子性，因为开启事务时并没有执行命令，而是提交之后统一执行</p>
</li>
<li><p>  这与MySQL截然不同，注意区分</p>
</li>
</ul>
<h2 id="4-Redis实现乐观锁"><a href="#4-Redis实现乐观锁" class="headerlink" title="4.Redis实现乐观锁"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>4.Redis实现乐观锁</h2><p>悲观锁：一开始就认为会出现问题，所以什么时候都加锁</p>
<p>乐观锁：认为不会出现问题，只有在需要的时候才会判断是否有必要加锁</p>
<p>Redis使用监视命令 <code>watch</code> ，配合Redis事务一起使用</p>
<p>正常执行成功时</p>
<p><img src="https://img-blog.csdnimg.cn/20210304021520768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>模拟多线程问题</p>
<p>第一个线程，监视数据，开启事务，但没有提交<br><img src="https://img-blog.csdnimg.cn/20210304022124624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>打开新窗口，新客户端同样连接6379，模拟多线程操作，修改被监视的数据</p>
<p><img src="https://img-blog.csdnimg.cn/2021030402250357.png" alt="在这里插入图片描述"><br>然后第一个线程提交事务，发现被监视的元素被篡改，返回nil表示当前线程的整个事务提交失败</p>
<p>数据按照另一个线程修改为准</p>
<p><img src="https://img-blog.csdnimg.cn/20210304022854646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>Redis的这种监视事务的机制，相当于实现了Redis乐观锁</p>
<p>当监视出现事务执行失败后，先取消监视<code>unwatch key</code> ，再去重新开始监视，开启事务</p>
<h1 id="五、Java-操作-Redis"><a href="#五、Java-操作-Redis" class="headerlink" title="五、Java 操作 Redis"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>五、Java 操作 Redis</h1><h2 id="1-Jedis-官方原生API"><a href="#1-Jedis-官方原生API" class="headerlink" title="1.Jedis 官方原生API"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.Jedis 官方原生API</h2><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p>Redis官方推荐的Java开发工具，实际中可能不常用，但是与Redis原生API关联非常紧密，一定要熟练掌握</p>
<h4 id="项目、依赖"><a href="#项目、依赖" class="headerlink" title="项目、依赖"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>项目、依赖</h4><p>在maven项目中导入Jedis依赖，maven镜像搜索坐标，地址：<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a></p>
<p>导入<code>jedis</code> <code>fastjson</code> 依赖</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;redis.clients&lt;/groupId&gt;
    &lt;artifactId&gt;jedis&lt;/artifactId&gt;
    &lt;version&gt;3.3.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
    &lt;artifactId&gt;fastjson&lt;/artifactId&gt;
    &lt;version&gt;1.2.70&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h4 id="连接、测试"><a href="#连接、测试" class="headerlink" title="连接、测试"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>连接、测试</h4><p>开启redis服务端，默认端口号6379<br><img src="https://img-blog.csdnimg.cn/20210304233102804.png" alt="在这里插入图片描述"><br>创建Jedis对象，添加连接参数，测试连接</p>
<p>注意：如果是连接Linux中的Redis，先将redis.conf配置文件中的IP绑定注释掉，保护模式关闭，Jedis才能正产连接<br><img src="https://img-blog.csdnimg.cn/2021030500495939.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210305005029527.png" alt="在这里插入图片描述"></p>
<pre><code>public class demo1 &#123;
    public static void main(String[] args) &#123;
        //创建对象,连接
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;, 6379);
        //连接测试
        System.out.println(jedis.ping());
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210305005330943.png" alt="在这里插入图片描述"></p>
<h4 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>常用API</h4><p>Jedis的所有命令都是基于Redis原生命令，在这里命令变成了方法</p>
<h5 id="Key操作"><a href="#Key操作" class="headerlink" title="Key操作"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Key操作</h5><pre><code>public class demo2 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;, 6379);
        System.out.println(&quot;清空当前数据库: &quot;+jedis.flushDB());
        System.out.println(&quot;判断: &quot;+jedis.exists(&quot;k1&quot;));
        System.out.println(&quot;添加: &quot;+jedis.set(&quot;k1&quot;, &quot;v1&quot;));
        System.out.println(&quot;添加: &quot;+jedis.set(&quot;k2&quot;, &quot;v2&quot;));
        Set&lt;String&gt; keys = jedis.keys(&quot;*&quot;);
        System.out.println(&quot;列出所有key: &quot;+keys);
        System.out.println(&quot;删除: &quot;+jedis.del(&quot;k1&quot;));
        System.out.println(&quot;判断: &quot;+jedis.exists(&quot;k1&quot;));
        System.out.println(&quot;查看键对应的值的类型: &quot;+jedis.type(&quot;k2&quot;));
        System.out.println(&quot;随机返回一个key: &quot;+jedis.randomKey());
        System.out.println(&quot;重命名key: &quot;+jedis.rename(&quot;k2&quot;, &quot;k3&quot;));
        System.out.println(&quot;获取元素: &quot;+jedis.get(&quot;k3&quot;));
        System.out.println(&quot;根据索引查询: &quot;+jedis.select(0));
        System.out.println(&quot;清空当前数据库: &quot;+jedis.flushDB());
        System.out.println(&quot;数据库key数量: &quot;+jedis.dbSize());
        System.out.println(&quot;清空所有数据库的key: &quot;+jedis.flushAll());
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210305013335673.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h5 id="String类型"><a href="#String类型" class="headerlink" title="String类型"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>String类型</h5><pre><code>public class demo3 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;, 6379);
        System.out.println(&quot;添加元素&quot;);
        System.out.println(jedis.set(&quot;k1&quot;, &quot;v1&quot;));
        System.out.println(jedis.set(&quot;k2&quot;, &quot;v2&quot;));
        System.out.println(jedis.set(&quot;k3&quot;, &quot;v3&quot;));
        System.out.println(&quot;删除: &quot;+jedis.del(&quot;k2&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k2&quot;));
        System.out.println(&quot;修改值: &quot;+jedis.set(&quot;k1&quot;, &quot;v11&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k1&quot;));
        System.out.println(&quot;追加值: &quot;+jedis.append(&quot;k3&quot;, &quot;end&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k3&quot;));
        System.out.println(&quot;添加多个元素: &quot;+jedis.mset(&quot;k4&quot;,&quot;v4&quot;,&quot;k5&quot;,&quot;v5&quot;));
        System.out.println(&quot;获取多个值: &quot;+jedis.mget(&quot;k4&quot;,&quot;k5&quot;,&quot;k6&quot;));
        System.out.println(&quot;删除多个元素: &quot;+jedis.del(&quot;k4&quot;,&quot;k5&quot;));
        System.out.println(&quot;获取多个值: &quot;+jedis.mget(&quot;k3&quot;,&quot;k4&quot;,&quot;k5&quot;));
        System.out.println(&quot;清空: &quot;+jedis.flushDB());
        System.out.println(&quot;新增键值对,防止被覆盖&quot;);
        System.out.println(&quot;第一次赋值: &quot;+jedis.setnx(&quot;k1&quot;, &quot;v1&quot;));
        System.out.println(&quot;第一次赋值: &quot;+jedis.setnx(&quot;k2&quot;, &quot;v2&quot;));
        System.out.println(&quot;覆盖原值: &quot;+jedis.setnx(&quot;k2&quot;, &quot;v2new&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k1&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k2&quot;));
        System.out.println(&quot;添加元素设置生命周期: &quot;+jedis.setex(&quot;k3&quot;, 2, &quot;v3&quot;));
        System.out.println(&quot;取值: &quot;+jedis.get(&quot;k3&quot;));
        try &#123;
            TimeUnit.SECONDS.sleep(3);
        &#125; catch (InterruptedException e) &#123;
            e.printStackTrace();
        &#125;
        System.out.println(&quot;过期后取值: &quot;+jedis.get(&quot;k3&quot;));
        System.out.println(&quot;获取原值,并更新: &quot;+jedis.getSet(&quot;k2&quot;, &quot;v2abc&quot;));
        System.out.println(&quot;获取新的值: &quot;+jedis.get(&quot;k2&quot;));
        System.out.println(&quot;截取部分字符串: &quot;+jedis.getrange(&quot;k2&quot;, 2, 4));
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/2021030502204145.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h5 id="List集合"><a href="#List集合" class="headerlink" title="List集合"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>List集合</h5><pre><code>public class demo4 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;, 6379);
        System.out.println(&quot;清空数据: &quot;+jedis.flushDB());
        System.out.println(&quot;新增元素&quot;);
        System.out.println(jedis.lpush(&quot;list&quot;, &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;));
        System.out.println(jedis.lpush(&quot;list&quot;, &quot;d&quot;));
        System.out.println(jedis.lpush(&quot;list&quot;, &quot;e&quot;));
        System.out.println(jedis.lpush(&quot;list&quot;, &quot;f&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;查看区间数据: &quot;+jedis.lrange(&quot;list&quot;, 0, 3));
        System.out.println(&quot;删除列表中指定的值,第二参数为删除的个数(有重复时),后进先出原则,相当于出栈&quot;);
        System.out.println(&quot;删除指定值的元素: &quot;+jedis.lrem(&quot;list&quot;, 2, &quot;d&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;删除区间以外的元素: &quot;+jedis.ltrim(&quot;list&quot;, 0, 3));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;左侧弹出: &quot;+jedis.lpop(&quot;list&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;右侧新增: &quot;+jedis.rpush(&quot;list&quot;, &quot;g&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;右侧弹出: &quot;+jedis.rpop(&quot;list&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;修改指定下标元素: &quot;+jedis.lset(&quot;list&quot;, 1, &quot;new&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list&quot;, 0, -1));
        System.out.println(&quot;队列长度: &quot;+jedis.llen(&quot;list&quot;));
        System.out.println(&quot;获取指定下标元素: &quot;+jedis.lindex(&quot;list&quot;, 2));
        System.out.println(&quot;新增元素: &quot;+jedis.lpush(&quot;list1&quot;, &quot;4&quot;,&quot;2&quot;,&quot;0&quot;,&quot;6&quot;,&quot;5&quot;,&quot;8&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list1&quot;, 0, -1));
        System.out.println(&quot;排序: &quot;+jedis.sort(&quot;list1&quot;));
        System.out.println(&quot;查看所有: &quot;+jedis.lrange(&quot;list1&quot;, 0, -1));
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210305082531908.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h5 id="Set集合"><a href="#Set集合" class="headerlink" title="Set集合"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Set集合</h5><pre><code>public class demo5 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;,6379);
        jedis.flushDB();
        System.out.println(&quot;新增元素,不可重复&quot;);
        System.out.println(jedis.sadd(&quot;set1&quot;, &quot;s0&quot;,&quot;s1&quot;,&quot;s2&quot;,&quot;s3&quot;,&quot;s4&quot;,&quot;s5&quot;,&quot;s7&quot;,&quot;s8&quot;));
        System.out.println(jedis.sadd(&quot;set1&quot;, &quot;s6&quot;));
        System.out.println(jedis.sadd(&quot;set1&quot;, &quot;s6&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set1&quot;));
        System.out.println(&quot;删除一个元素: &quot;+jedis.srem(&quot;set1&quot;, &quot;s0&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set1&quot;));
        System.out.println(&quot;删除元素: &quot;+jedis.srem(&quot;set1&quot;, &quot;s6&quot;,&quot;s7&quot;));
        System.out.println(&quot;随机移除一个元素: &quot;+jedis.spop(&quot;set1&quot;));
        System.out.println(&quot;随机移除一个元素: &quot;+jedis.spop(&quot;set1&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set1&quot;));
        System.out.println(&quot;查看元素个数: &quot;+jedis.scard(&quot;set1&quot;));
        System.out.println(&quot;判断是否存在某个元素: &quot;+jedis.sismember(&quot;set1&quot;, &quot;s3&quot;));
        System.out.println(&quot;判断某个元素是否存在: &quot;+jedis.sismember(&quot;set1&quot;, &quot;s1&quot;));
        System.out.println(jedis.sismember(&quot;set1&quot;, &quot;s5&quot;));
        System.out.println(&quot;================&quot;);
        System.out.println(&quot;新增: &quot;+jedis.sadd(&quot;set2&quot;, &quot;s0&quot;,&quot;s1&quot;,&quot;s2&quot;,&quot;s4&quot;,&quot;s5&quot;,&quot;s7&quot;,&quot;s8&quot;));
        System.out.println(&quot;新增: &quot;+jedis.sadd(&quot;set3&quot;, &quot;s0&quot;,&quot;s1&quot;,&quot;s2&quot;,&quot;s4&quot;,&quot;s8&quot;));
        System.out.println(&quot;set2中删除,并存到另一集合上 : &quot;+jedis.smove(&quot;set2&quot;, &quot;set3&quot;, &quot;s1&quot;));
        System.out.println(&quot;set2中删除,并存到另一集合上 : &quot;+jedis.smove(&quot;set2&quot;, &quot;set3&quot;, &quot;s1&quot;));
        System.out.println(&quot;删除元素并放在新集合中 :&quot;+jedis.smove(&quot;set2&quot;, &quot;set3&quot;, &quot;s2&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set2&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set3&quot;));
        System.out.println(&quot;交集: &quot;+jedis.sinter(&quot;set2&quot;,&quot;set3&quot;));
        System.out.println(&quot;并集: &quot;+jedis.sunion(&quot;set2&quot;,&quot;set3&quot;));
        System.out.println(&quot;差集: &quot;+jedis.sdiff(&quot;set2&quot;,&quot;set3&quot;));
        System.out.println(&quot;交集保存到集合中: &quot;+jedis.sinterstore(&quot;set4&quot;, &quot;set2&quot;,&quot;set3&quot;));
        System.out.println(&quot;列出所有元素: &quot;+jedis.smembers(&quot;set4&quot;));
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210306025020740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Hash</h4><pre><code>public class demo6 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;,6379);
        System.out.println(&quot;清空当前数据库&quot;);
        jedis.flushDB();
        Map&lt;String,String&gt; map = new HashMap();
        map.put(&quot;k1&quot;, &quot;v1&quot;);
        map.put(&quot;k2&quot;, &quot;v2&quot;);
        map.put(&quot;k3&quot;, &quot;v3&quot;);
        map.put(&quot;k4&quot;, &quot;v4&quot;);
        System.out.println(&quot;添加map集合&quot;);
        jedis.hmset(&quot;hash&quot;, map);
        System.out.println(&quot;添加元素: &quot;+jedis.hset(&quot;hash&quot;, &quot;k5&quot;,&quot;v5&quot;));
        System.out.println(&quot;所有键值对: &quot;+jedis.hgetAll(&quot;hash&quot;));
        System.out.println(&quot;所有键: &quot;+jedis.hkeys(&quot;hash&quot;));
        System.out.println(&quot;所有值: &quot;+jedis.hvals(&quot;hash&quot;));
        System.out.println(&quot;给一个键保存整数,如果该键不存在则添加: &quot;+jedis.hincrBy(&quot;hash&quot;, &quot;k6&quot;, 6));
        System.out.println(&quot;所有键值对: &quot;+jedis.hgetAll(&quot;hash&quot;));
        System.out.println(&quot;添加或修改: &quot;+jedis.hincrBy(&quot;hash&quot;, &quot;k6&quot;, 60));
        System.out.println(&quot;所有键值对: &quot;+jedis.hgetAll(&quot;hash&quot;));
        System.out.println(&quot;删除一个或多个元素: &quot;+jedis.hdel(&quot;hash&quot;, &quot;k2&quot;));
        System.out.println(&quot;所有元素: &quot;+jedis.hgetAll(&quot;hash&quot;));
        System.out.println(&quot;元素个数: &quot;+jedis.hlen(&quot;hash&quot;));
        System.out.println(&quot;判断元素是否存在: &quot;+jedis.hexists(&quot;hash&quot;, &quot;k2&quot;));
        System.out.println(&quot;判断元素是否存在: &quot;+jedis.hexists(&quot;hash&quot;, &quot;k3&quot;));
        System.out.println(&quot;根据键获取值: &quot;+jedis.hmget(&quot;hash&quot;, &quot;k3&quot;));
        System.out.println(&quot;根据键获取值: &quot;+jedis.hmget(&quot;hash&quot;, &quot;k3&quot;,&quot;k4&quot;));
    &#125;
&#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210306112928417.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="Jedis-事务"><a href="#Jedis-事务" class="headerlink" title="Jedis 事务"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Jedis 事务</h4><p>使用 multi 方法</p>
<pre><code>public class demo7 &#123;
    public static void main(String[] args) &#123;
        Jedis jedis = new Jedis(&quot;192.168.126.130&quot;,6379);
        JSONObject jsonObject = new JSONObject();
        jsonObject.put(&quot;hello&quot;, &quot;world&quot;);
        jsonObject.put(&quot;hi&quot;, &quot;Java&quot;);
        jedis.flushDB();
        System.out.println(&quot;开启事务&quot;);
        Transaction multi = jedis.multi();
        String result = jsonObject.toJSONString();
        try &#123;
            multi.set(&quot;k1&quot;, result);
            multi.set(&quot;k2&quot;, result);
            // 模拟异常
            // int i = 1/0;
            multi.exec();//提交事务
        &#125; catch (Exception e) &#123;
            multi.discard();//回滚事务
            e.printStackTrace();
        &#125; finally &#123;
            System.out.println(jedis.get(&quot;k1&quot;));
            System.out.println(jedis.get(&quot;k2&quot;));
            jedis.close();//关闭连接
        &#125;

    &#125;
&#125;
</code></pre>
<p>成功<br><img src="https://img-blog.csdnimg.cn/20210306123716792.png" alt="在这里插入图片描述"></p>
<p>失败<br><img src="https://img-blog.csdnimg.cn/2021030612365489.png" alt="在这里插入图片描述"><br>如果使用watch方法，可以监控，在try catch中进行判断监控结果，根据情况抛异常</p>
<h2 id="2-SpringBoot-整合-Redis"><a href="#2-SpringBoot-整合-Redis" class="headerlink" title="2.SpringBoot 整合 Redis"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.SpringBoot 整合 Redis</h2><p>SpringData 用来操作各种数据库的整合</p>
<h4 id="项目准备"><a href="#项目准备" class="headerlink" title="项目准备"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>项目准备</h4><p>新建springboot项目模块，勾选Redis依赖，其他根据需要</p>
<p><img src="https://img-blog.csdnimg.cn/20210306160037843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>删除模块里的这些文件，暂时不需要<br><img src="https://img-blog.csdnimg.cn/20210306160335372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>pom文件依赖</p>
<p>java web, redis, fastjson</p>
<p>注意：</p>
<ul>
<li>  有些版本springboot连接redis使用jedis，有些使用lettuce</li>
<li>  jedis采用直连，多个线程下不安全，使用连接池可以解决</li>
<li>  采用netty，实例可以在多个线程中共享，没有现成安全情况，像NIO模式，性能高一些</li>
<li>  使用连接池尽量选用lecttuce的，功能更强大，支持的类更多</li>
</ul>
<p>主配置文件</p>
<p>Redis地址，端口号</p>
<h4 id="Redis测试"><a href="#Redis测试" class="headerlink" title="Redis测试"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Redis测试</h4><p>先通过redistemplate对象调出所需的Redis操作对象，再进一步调用数据库方法API<br><img src="https://img-blog.csdnimg.cn/20210306174429835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2021030617450852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>进入Redistemplate源码，可以看到所有的操作API</p>
<h4 id="序列化问题"><a href="#序列化问题" class="headerlink" title="序列化问题"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>序列化问题</h4><p>对象存入Redis之前需要序列化，否则可能出现中文乱码</p>
<p>使用jdk自带序列化方案</p>
<pre><code>@Component
@AllArgsConstructor
@NoArgsConstructor
@Data
public class User implements Serializable &#123;
    private Integer age;
    private String name;
&#125;
</code></pre>
<p>测试存入Redis</p>
<pre><code>@Test
    void test1() throws Exception&#123;
        User user = new User(18,&quot;螺蛳粉&quot;);
        String jsonUser = new ObjectMapper().writeValueAsString(user);//对象转json字符串
        redisTemplate.opsForValue().set(&quot;user&quot;, jsonUser);//存入set集合
        Object user1 = redisTemplate.opsForValue().get(&quot;user&quot;);
        System.out.println(user1);
    &#125;
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210306175409780.png" alt="在这里插入图片描述"><br>自己配置序列化方案，准备配置类，自己配置bean对象，公司常用这个模板</p>
<pre><code>@Configuration
public class RedisConfig &#123;
    //手动修改redisTemplate,常见的固定模板
    @Bean
    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) throws UnknownHostException &#123;
        // 连接
        RedisTemplate&lt;String,Object&gt; template = new RedisTemplate&lt;&gt;();
        template.setConnectionFactory(redisConnectionFactory);
        // 创建json的序列化配置
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);
        ObjectMapper om = new ObjectMapper();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(om);
        // 创建string的序配置
        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();
        // key采用string序列化配置
        template.setKeySerializer(stringRedisSerializer);
        // value采用jackson序列化配置
        template.setValueSerializer(jackson2JsonRedisSerializer);
        // hash key采用string序列化配置
        template.setHashKeySerializer(stringRedisSerializer);
        // hash value采用value序列化方案
        template.setHashValueSerializer(jackson2JsonRedisSerializer);

        template.afterPropertiesSet();

        return template;
    &#125;
&#125;
</code></pre>
<p>注入RedisTemplate时选择我们配置的Bean对象<br><img src="https://img-blog.csdnimg.cn/20210306182828197.png" alt="在这里插入图片描述"><br>运行测试，查看Redis数据库，<br><img src="https://img-blog.csdnimg.cn/20210306183437724.png" alt="在这里插入图片描述"><br>这样使用我们自己定义的Redis序列化配置，更好用，如果不配置默认使用jdk自带序列化方案，可能会出现中文乱码或者转义斜杠等问题</p>
<h4 id="自己写工具类"><a href="#自己写工具类" class="headerlink" title="自己写工具类"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>自己写工具类</h4><ul>
<li>  实际生产中通常不直接使用RedisTemplate原生API，而是自己准备RedisUtils工具类，需要使用时直接注入属性，调用方法</li>
</ul>
<p>如，</p>
<pre><code>@Component
public class RedisUtil &#123;

    @Autowired
    private RedisTemplate&lt;String, Object&gt; redisTemplate;

    // 设置失效时间
    public boolean expire(String key, long time) &#123;
        try &#123;
            if (time&gt;0) &#123;
                redisTemplate.expire(key, time, TimeUnit.SECONDS);
            &#125;
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 获取过期时间
    public long getExpire(String key) &#123;
        return redisTemplate.getExpire(key, TimeUnit.SECONDS);
    &#125;
    // 判断key是否存在
    public boolean hasKey(String key) &#123;
        try &#123;
            return redisTemplate.hasKey(key);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 删除缓存
    public void del(String... key) &#123;
        if (key != null &amp;&amp; key.length&gt;0) &#123;
            if (key.length == 1) &#123;
                redisTemplate.delete(key[0]);
            &#125; else &#123;
                redisTemplate.delete(String.valueOf(CollectionUtils.arrayToList(key)));
            &#125;
        &#125;
    &#125;
    // 添加值
    public boolean set(String key, Object value) &#123;
        try &#123;
            redisTemplate.opsForValue().set(key, value);
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 取值
    public Object get(String key, Object value) &#123;
        return key == null ? null : redisTemplate.opsForValue().get(key);
    &#125;
    // 存入普通缓存设置时间
    public boolean set(String key, Object value, long time) &#123;
        try &#123;
            if (time &gt; 0) &#123;
                redisTemplate.opsForValue().set(key, value, time, TimeUnit.SECONDS);
            &#125; else &#123;
                set(key, value);
            &#125;
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 设置递增
    public long incr(String key, long delta) &#123;
        if (delta &lt; 0) &#123;
            throw new RuntimeException();
        &#125;
        return redisTemplate.opsForValue().increment(key, delta);
    &#125;
    // 设置递减
    public long decr(String key, long delta) &#123;
        if (delta &lt; 0) &#123;
            throw new RuntimeException();
        &#125;
        return redisTemplate.opsForValue().increment(key, -delta);
    &#125;
    // Hash get
    public Object hget(String key, String item) &#123;
        return redisTemplate.opsForHash().get(key, item);
    &#125;
    // Hash get 获取对应的所有值
    public Map&lt;Object,Object&gt; hmget(String key) &#123;
        return redisTemplate.opsForHash().entries(key);
    &#125;
    // Hash set
    public boolean hmset(String key, Map&lt;String, Object&gt; map) &#123;
        try &#123;
            redisTemplate.opsForHash().putAll(key, map);
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // Hash set 并设置时间
    public boolean hmset(String key, Map&lt;String, Object&gt; map, long time) &#123;
        try &#123;
            redisTemplate.opsForHash().putAll(key, map);
            if (time &gt; 0) &#123;
                expire(key, time);
            &#125;
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 存入数据，如果不存在则新增
    public boolean hset(String key, String item, Object value) &#123;
        try &#123;
            redisTemplate.opsForHash().put(key, item, value);
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 存入数据，设置时间，如果不存在则新增
    public boolean hset(String key, String item, Object value, long time) &#123;
        try &#123;
            redisTemplate.opsForHash().put(key, item, value);
            if (time &gt; 0) &#123;
                expire(key, time);
            &#125;
            return true;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 删除
    public void hdel(String key, Object... item)&#123;
        redisTemplate.opsForHash().delete(key, item);
    &#125;
    // 判断是否有该值
    public boolean hHasKey(String key, String item) &#123;
        return redisTemplate.opsForHash().hasKey(key, item);
    &#125;
    // 存入值，如果不存在则新增，并设置时间
    public double hincr(String key, String item, double by) &#123;
        return redisTemplate.opsForHash().increment(key, item, by);
    &#125;
    // 设置递减
    public double hdecr(String key, String item, double by) &#123;
        return redisTemplate.opsForHash().increment(key, item, -by);
    &#125;
    // set 获取值
    public Set&lt;Object&gt; sGet(String key) &#123;
        try &#123;
            return redisTemplate.opsForSet().members(key);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return null;
        &#125;
    &#125;
    // 查询是否存在
    public boolean sHasKey(String key, Object value) &#123;
        try &#123;
            return redisTemplate.opsForSet().isMember(key, value);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return false;
        &#125;
    &#125;
    // 存入值
    public long sSet(String key, Object... values) &#123;
        try &#123;
            return redisTemplate.opsForSet().add(key, values);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return 0;
        &#125;
    &#125;
    // 存入职，并设置时间
    public long sSet(String key, long time, Object... values) &#123;
        try &#123;
            long count = redisTemplate.opsForSet().add(key, values);
            if (time &gt; 0) &#123;
                expire(key, time);
            &#125;
            return count;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return 0;
        &#125;
    &#125;
    // 获取值的数量
    public long sGetSetSize(String key) &#123;
        try &#123;
            return redisTemplate.opsForSet().size(key);
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return 0;
        &#125;
    &#125;
    // 移除值
    public long setRemove(String key, Object... values) &#123;
        try &#123;
            long count = redisTemplate.opsForSet().remove(key, values);
            return count;
        &#125; catch (Exception e) &#123;
            e.printStackTrace();
            return 0;
        &#125;
    &#125;
    // list相关API
&#125;
</code></pre>
<h1 id="六、Redis-高级"><a href="#六、Redis-高级" class="headerlink" title="六、Redis 高级"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>六、Redis 高级</h1><h2 id="1-redis-conf-配置文件"><a href="#1-redis-conf-配置文件" class="headerlink" title="1.redis.conf 配置文件"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>1.redis.conf 配置文件</h2><p>redis.conf 配置了Redis的详细参数，Redis启动需要使用配置文件</p>
<p><img src="https://img-blog.csdnimg.cn/20210307003118853.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307003243280.png" alt="在这里插入图片描述"><br>进入 redis.conf 编辑状态，分析配置参数，<code>vim redis.conf</code></p>
<p>规定单位，单位书写对大小写不敏感<br><img src="https://img-blog.csdnimg.cn/20210307004804175.png" alt="在这里插入图片描述"><br>可以包含其他配置文件，将多个配置文件组合起来<br><img src="https://img-blog.csdnimg.cn/20210307004953591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>NETWORK 网络配置，重点<br><img src="https://img-blog.csdnimg.cn/20210307005337748.png" alt="在这里插入图片描述"><br>绑定IP，只能使用指定的IP地址链接</p>
<pre><code>bind 127.0.0.1
</code></pre>
<p>保护模式 yes/no，保护模式下只能本机连接</p>
<pre><code>protected-mode no
</code></pre>
<p>连接端口号</p>
<pre><code>port 6379
</code></pre>
<p>GENERAL 通用配置，<br><img src="https://img-blog.csdnimg.cn/20210307005941839.png" alt="在这里插入图片描述"><br>是否后台运行 yes/no</p>
<pre><code>daemonize yes
</code></pre>
<p>管理守护进程的，一般不用动</p>
<pre><code># supervised auto
</code></pre>
<p>如果选择后台运行，则指定一个pid进程文件</p>
<pre><code>pidfile /var/run/redis_6379.pid
</code></pre>
<p>日志级别，注释里有详解极少各个级别的用途</p>
<pre><code>loglevel notice
</code></pre>
<p>生成日志的位置，空则使用默认</p>
<pre><code>logfile &quot;&quot;
</code></pre>
<p>默认数据库数量 16</p>
<pre><code>databases 16
</code></pre>
<p>是否显示启动logo</p>
<pre><code>always-show-logo no
</code></pre>
<p>SNAPSHOTTING 快照<br><img src="https://img-blog.csdnimg.cn/20210307010917727.png" alt="在这里插入图片描述"><br>持久化策略，如，这里表示，</p>
<pre><code>save 900 1  #900秒内，至少有一个key发生修改，则进行持久化操作
save 300 10  #300秒内，至少有10个key发生修改，则进行持久化
save 60 10000  #60秒内，至少有10000个key发生修改，则进行持久化
</code></pre>
<p>持久化出现错误，是否继续工作</p>
<pre><code>stop-writes-on-bgsave-error yes
</code></pre>
<p>是否压缩rdb文件，会消耗一定cpu资源</p>
<pre><code>rdbcompression yes
</code></pre>
<p>保存rdb文件时，是否进行校验</p>
<pre><code>rdbchecksum yes
</code></pre>
<p>持久化文件存放目录，默认在当前文件目录</p>
<pre><code>dir ./
</code></pre>
<p>REPLICATION 主从复制，后面详解<br><img src="https://img-blog.csdnimg.cn/20210307012052543.png" alt="在这里插入图片描述"><br>SECURITY 安全<br><img src="https://img-blog.csdnimg.cn/20210307013639671.png" alt="在这里插入图片描述"></p>
<p>设置密码，默认没有</p>
<pre><code># requirepass foobared
</code></pre>
<p>在Redis客户单，执行命令可以操作当前密码，</p>
<p>如果设置密码后发现操作无权限，只需要在客户端验证密码即可 <code>auth 密码</code><br><img src="https://img-blog.csdnimg.cn/20210307013916195.png" alt="在这里插入图片描述"><br>CLIENTS 客户端设置<br><img src="https://img-blog.csdnimg.cn/20210307014345958.png" alt="在这里插入图片描述"><br>最大客户端连接数，默认10000</p>
<pre><code># maxclients 10000
</code></pre>
<p>MEMORY MANAGEMENT 内存设置<br><img src="https://img-blog.csdnimg.cn/20210307014518363.png" alt="在这里插入图片描述"><br>Redis最大内存</p>
<pre><code># maxmemory &lt;bytes&gt;
</code></pre>
<p>内存达到上限的处理策略</p>
<ul>
<li>  volatile-lru：只对设置了过期时间的key进行LRU（默认值）</li>
<li>  allkeys-lru ： 删除lru算法的key</li>
<li>  volatile-random：随机删除即将过期key</li>
<li>  allkeys-random：随机删除</li>
<li>  volatile-ttl ： 删除即将过期的</li>
<li>  noeviction ： 永不过期，返回错误</li>
</ul>
<pre><code># maxmemory-policy noeviction
</code></pre>
<p>APPEND ONLY MODE aof的持久化配置，后面详解<br><img src="https://img-blog.csdnimg.cn/20210307015248537.png" alt="在这里插入图片描述"><br>默认不开启aof，而是使用了 rdb</p>
<pre><code>appendonly no
</code></pre>
<p>持久化文件名</p>
<pre><code>appendfilename &quot;appendonly.aof&quot;
</code></pre>
<p>同步的频率，always每次修改都同步，比较消耗性能，everysec每秒一次，也可能有数据丢失，no不同步</p>
<pre><code># appendfsync always
appendfsync everysec
# appendfsync no
</code></pre>
<h2 id="2-Redis-持久化"><a href="#2-Redis-持久化" class="headerlink" title="2.Redis 持久化"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>2.Redis 持久化</h2><h4 id="RDB（Redis-DataBase）"><a href="#RDB（Redis-DataBase）" class="headerlink" title="RDB（Redis DataBase）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>RDB（Redis DataBase）</h4><p><img src="https://img-blog.csdnimg.cn/20210307110418783.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>根据配置文件的持久化参数，定期将内存数据写入磁盘，即定期拍快照，恢复时将快照读到内存中</p>
<p>Redis持久化使用一个单独的子进程fork，主进程不进行任何IO操作，确保了Redis的高性能，因此RDB模式效率更高，对于数据完整性不是很敏感的情况下大多使用RDB持久化策略。</p>
<p>唯一的缺点就是在拍快照的间隙如果出现宕机，可能会有数据丢失</p>
<p>rdb保存文件，默认名dump.rdb，与redis.conf在同一个目录</p>
<p>生产环境下，我们会定期备份RDB文件<br><img src="https://img-blog.csdnimg.cn/20210307112712801.png" alt="在这里插入图片描述"></p>
<p>配置RDB持久化策略<br><img src="https://img-blog.csdnimg.cn/20210307111928682.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307112551210.png" alt="在这里插入图片描述"></p>
<p>触发机制</p>
<ul>
<li>  save规则满足条件下，可以触发</li>
<li>  执行flushdb，可以触发</li>
<li>  退出redis，可以触发</li>
</ul>
<p>恢复数据</p>
<ul>
<li>  只需将rdb文件放在redis启动目录下，redis启动时可以自动识别读取</li>
<li>  查看启动目录，在客户端执行<code>config get dir</code></li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210307113049730.png" alt="在这里插入图片描述"><br>优点</p>
<ul>
<li>  适合大规模数据恢复</li>
<li>  对数据完整性要求不高</li>
</ul>
<p>缺点</p>
<ul>
<li>  持久化操作有时间间隔，如果redis以外宕机，最后一次操作修改的数据会丢失</li>
<li>  fork进程运行时，会占用一定内存空间</li>
</ul>
<h4 id="AOF（Append-Only-File）"><a href="#AOF（Append-Only-File）" class="headerlink" title="AOF（Append Only File）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>AOF（Append Only File）</h4><p><img src="https://img-blog.csdnimg.cn/20210307113918696.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>直译，追加文件，将所有命令记录下来，恢复时将里面的命令全部执行一遍，所以Redis重启就会将该持久化记录里面的指令从到位执行一遍，比较麻烦</p>
<p>配置文件<br><img src="https://img-blog.csdnimg.cn/20210307114409406.png" alt="在这里插入图片描述"><br>默认不开启，手动开启，需要设置</p>
<pre><code>appendonly yes
</code></pre>
<p>默认声明文件名</p>
<pre><code>appendfilename &quot;appendonly.aof&quot;
</code></pre>
<p>追加记录的频率</p>
<pre><code># appendfsync always
appendfsync everysec
# appendfsync no
</code></pre>
<p>其他配置一般使用默认，有需要可以查询</p>
<p>修改配置文件，开启AOF，重启Redis服务端，即可生效，持久化文件默认保存在Redis启动目录下，</p>
<p>执行一段Redis数据命令，查看文件目录，打开持久化文件<br><img src="https://img-blog.csdnimg.cn/20210307115606870.png" alt="在这里插入图片描述"><img src="https://img-blog.csdnimg.cn/20210307115645383.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307115742985.png" alt="在这里插入图片描述"><br>如果我们修改了这个日志文件，会影响数据的恢复，可以使用 自动检测修复aof文件，</p>
<p>执行命令</p>
<pre><code>redis-check-aof --fix appendonly.aof
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210307120055395.png" alt="在这里插入图片描述"><img src="https://img-blog.csdnimg.cn/20210307120338798.png" alt="在这里插入图片描述"><br>重写规则，当aof文件超过配置参数的大小（这里是64mb），Redis就会开启一个新的进程，重写一个新的aof文件</p>
<p>aof配置中默认文件无限追加，会导致文件越来越大</p>
<pre><code>no-appendfsync-on-rewrite no
</code></pre>
<p>如果配置重写，可以指定文件多大触发重写新的aof</p>
<pre><code>auto-aof-rewrite-min-size 64mb
</code></pre>
<p>优点</p>
<ul>
<li>  每次修改都记录，确保文件完整性，注意需要将持久化策略改为always</li>
</ul>
<p>缺点</p>
<ul>
<li>  持久化文件远大于RDB文件，修复速度也更慢</li>
<li>  开启AOF持久化策略下，Redis运行效率也会比RDB模式慢</li>
</ul>
<p>使用策略</p>
<ul>
<li>  实际生产中会开启主从复制，rdb策略放在从机上，用来起到备份作用</li>
</ul>
<h4 id="Redis-持久化总结"><a href="#Redis-持久化总结" class="headerlink" title="Redis 持久化总结"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Redis 持久化总结</h4><p>1.RDB持久化方式能够在指定的时间间隔内对数据进行快照存储</p>
<p>2.AOF持久化方式记录每次对服务器写的操作，当服务器重启时会重新执行这些命令来恢复原始数据，AOF命令以Redis协议追加保存每次写的操作到文件末尾，Redis还能对AOF文件进行后台重写，避免AOF文件体积过大</p>
<p>3.如果只是使用Redis作为服务器运行的缓存，其实也可以不必使用持久化</p>
<p>4.同时开启两种持久化方式</p>
<ul>
<li>  Redis重启会优先载入AOF文件来恢复原始数据，因为保存的数据更完整</li>
<li>  RDB的数据不实时，但是也推荐开启。因RDB更适合用于备份数据库，AOF不断变化不好备份，RDB重启速度快，没有AOF潜在的bug</li>
</ul>
<p>5.性能建议</p>
<ul>
<li>  RDB文件通常作为后备，建议只在Slave上持久化RDB文件，而且只需要15分钟备份一次就够了，只保留save 900 1这条规则</li>
<li>  如果开启AOF，好处是在最糟糕的情况下，也只会丢失不超过2秒的数据，启动脚本也简单；但是产生了一个持续的IO，还有，在rewrite重写过程中，将新的数据写入新文件不可避免会造成阻塞，所以只要硬盘允许，尽量减小重写频率，默认是64mb，可以设置到5g以上，超过原大小100%触发重写也可以适当提升数值</li>
<li>  如果不使用AOF，只靠Master-Slave Replication 时间高可用性也可以，性能节省一大笔IO，减少rewrite带来的波动，代价是，如果主机从机同时宕机，会丢失十几分钟的数据，启动脚本也会比较主机从机中的RDB文件，选择比较新的</li>
</ul>
<h2 id="3-Redis-发布订阅"><a href="#3-Redis-发布订阅" class="headerlink" title="3.Redis 发布订阅"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>3.Redis 发布订阅</h2><p>Redis发布订阅是一种消息通信模式，发送者发送消息，订阅者接收消息</p>
<p>Redis客户端可以接收任意数量的频道</p>
<p>要素：消息发送者、频道、消息接收者<br><img src="https://img-blog.csdnimg.cn/20210307142152833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307142740291.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307142804968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>命令描述<br><img src="https://img-blog.csdnimg.cn/20210307142837128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>测试使用</p>
<p>订阅频道，c1<br><img src="https://img-blog.csdnimg.cn/20210307143057972.png" alt="在这里插入图片描述"><br>开启一个新的窗口，连接服务端，发送消息<br><img src="https://img-blog.csdnimg.cn/2021030714331911.png" alt="在这里插入图片描述"><br>接收端会实时接收消息，并显示<br><img src="https://img-blog.csdnimg.cn/20210307143423921.png" alt="在这里插入图片描述"><br>总结</p>
<ul>
<li>  发布者向频道发送消息</li>
<li>  接收者订阅频道，实施接收频道消息</li>
<li>  redis-server底层维护一个字典，字典的键就是每个频道，字典的值是一个链表，链表中保存了所有订阅这个频道的客户端，当字典的一个键上发布消息后，值对应的所有客户端都会接收消息，最明显的用法就是具有实时性，如，即时聊天，群聊、关注等，</li>
<li>  进一步复杂的场景一般使用消息中间件 MQ</li>
</ul>
<h2 id="4-Redis-主从复制"><a href="#4-Redis-主从复制" class="headerlink" title="4.Redis 主从复制"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>4.Redis 主从复制</h2><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p>默认情况下，每台Redis服务器都一个主节点</p>
<p>通常主节点用来读操作，从机用来写操作，</p>
<p>主从复制作用：</p>
<ul>
<li>  数据冗余，实现了数据双击热备，是持久化之外的一种冗余方式</li>
<li>  故障恢复，主节点出现问题，从节节点可以提供服务，快速恢复</li>
<li>  负载均衡，多个从节点可以实现负载均衡，分担访问压力，提高Redis服务器的并发量</li>
<li>  高可用，主从复制是哨兵模式、Redis集群实施的前提</li>
</ul>
<p>结构上，Redis服务器可能发生故障，一台服务器不够用，且访问压力大；</p>
<p>容量上，单台服务器内存容量有限，也不应当将所有内存用作Redis存储，通常，单台Redis最大使用内存不应超过20G</p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>配置</h4><p>只需要配置从机，主机默认就是，不需要单独配置</p>
<p>以默认方式启动Redis服务，连接客户端，查看主从复制信息</p>
<p><img src="https://img-blog.csdnimg.cn/20210307155329765.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>可得知当前服务身份为主机，从机连接数为0，</p>
<p>Redis集群的搭建至少需要三台服务器</p>
<p>Redis的启动需要配置文件，因此我们准备多个不同的配置文件，分别根据各个配置文件启动，就可以得到多个Redis服务器</p>
<p>准备四个连接窗口，一个观察，三个模拟三台Redis服务器<br><img src="https://img-blog.csdnimg.cn/20210307155918610.png" alt="在这里插入图片描述"><br>拷贝redis.conf配置文件，<br><img src="https://img-blog.csdnimg.cn/20210307160908496.png" alt="在这里插入图片描述"></p>
<p>分别进入各个配置文件，修改配置信息，这里以redis79.conf为例</p>
<p>端口号<br><img src="https://img-blog.csdnimg.cn/20210307161159489.png" alt="在这里插入图片描述"><br>后台运行</p>
<p><img src="https://img-blog.csdnimg.cn/20210307161249965.png" alt="在这里插入图片描述"><br>pid<br><img src="https://img-blog.csdnimg.cn/20210307161319910.png" alt="在这里插入图片描述"><br>日志<br><img src="https://img-blog.csdnimg.cn/20210307161420452.png" alt="在这里插入图片描述"><br>rdb<br><img src="https://img-blog.csdnimg.cn/20210307161526155.png" alt="在这里插入图片描述"><br>保存退出，80，81根据各自端口号修改</p>
<h4 id="启动-1"><a href="#启动-1" class="headerlink" title="启动"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>启动</h4><p>修改完配置文件，分别用6379，6380，6381配置文件启动Redis服务端<br><img src="https://img-blog.csdnimg.cn/20210307162417666.png" alt="在这里插入图片描述"><br>当前状态每台服务器都是主节点</p>
<p>三个窗口分别连接6379，6380，6381客户端，查看连接信息<br><img src="https://img-blog.csdnimg.cn/2021030716274531.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307162829685.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210307162907587.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>通常，从机不用改，只需配置从机，指定从机的主机即可</p>
<p>给从机指定主机，从机客户端中使用命令,80,81都执行</p>
<pre><code>slaveof 127.0.0.1 6379
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210307163228774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看主机信息，多了两个从机<br><img src="https://img-blog.csdnimg.cn/20210307163424457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>以上方式通过命令搭建主从，这是暂时的，实际生产中应该通过配置文件搭建主从，这是永久操作，开机即按照主从信息启动</p>
<p><img src="https://img-blog.csdnimg.cn/20210307163845885.png" alt="在这里插入图片描述"><br>注意事项</p>
<ul>
<li>  主机可以写，从机不能写只能读，写了也会报错</li>
<li>  主从复制状态下，主机中的所有信息和数据，都会自动被从机保存</li>
</ul>
<p>测试</p>
<ul>
<li>  主机宕机，主从关系没有变化，从机依旧无法写，主机恢复，主从关系不变，从机依旧无法写</li>
<li>  从机宕机，重启后变回主机，如果重新指定成刚才的从机，依旧可以获取主机所有数据，包括宕机期间主机的操作</li>
</ul>
<p>复制原理</p>
<ul>
<li>  slave启动成功连接到master后会发送一个sync同步命令</li>
<li>  master接到命令，启动后台存盘进程，同时收集所有接收到的修改数据的命令，后台进程执行完毕后，master将传送整个数据文件给slave，并完成一次完全同步</li>
<li>  全量复制：slave在接收到数据库文件数据后，将其存盘并加载到内存中</li>
<li>  增量复制：master继续将新的所有手机到的修改命令一次传给slave，完成同步</li>
<li>  只要是重新连接master，一次完全同步（全量复制）就会自动执行，从机恢复所有数据</li>
</ul>
<h4 id="主从链路"><a href="#主从链路" class="headerlink" title="主从链路"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>主从链路</h4><p>79做主机，80做79的从机，81做80的从机</p>
<p>此时的80依旧是从机，但是81依旧可以获取全部数据<br><img src="https://img-blog.csdnimg.cn/20210307173038456.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这个模型下，如果79宕机，可以指定其中一个从机成为主机，进入一个从机客户端，执行命令，这个从机就会成为主机</p>
<pre><code>slaveof no one
</code></pre>
<p>然后，其他从机再指定这个新的主机</p>
<p>最初的主机重新启动，也失去之前那些从机了</p>
<h2 id="5-哨兵模式（重点）"><a href="#5-哨兵模式（重点）" class="headerlink" title="5.哨兵模式（重点）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>5.哨兵模式（重点）</h2><h4 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p>之前的主从切换，当主机宕机后，需要手动将一台服务器切换为主机，费事费力，服务器也会有一段时间不可用，</p>
<p>Redis从2.8开始出现哨兵模式，Redis提供了哨兵命令，哨兵是一个独立的进程，会独立运行，哨兵通过发送命令，等待Redis服务器响应，从而监控多个Redis实例</p>
<p>后台监控主机是否故障，如果宕机，将根据投票自动将从机切换为主机</p>
<h4 id="模型"><a href="#模型" class="headerlink" title="模型"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>模型</h4><p>基本模型<br><img src="https://img-blog.csdnimg.cn/20210307174247512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>为了确保哨兵也高可用，可以使用多哨兵模式<br><img src="https://img-blog.csdnimg.cn/20210307174421898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>如果主机宕机，哨兵1先发现，系统不会马上进行切换，只是哨兵1主观认为，这个现象叫做主观下线。如果后续其他哨兵也发现主机不可用，且数量达到一定值时，哨兵之间就会进行投票，投票结果由一个哨兵发起，进行故障转移操作，切换成功后，通过发布订阅模式，通知各个哨兵把监控的从机切换为主机，者叫客观下线。</p>
<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>配置</h4><p>当前主从状态，79主机，80，81从机</p>
<p>在配置文件的目录中，新建哨兵配置文件<code>sentinel.conf</code></p>
<p>sentinel monitor不能变，sen1是名字自己取，127.0.0.1 6379 是监控的主机，1表示如果主机宕机，哨兵会进行投票</p>
<p>这是最基本的配置，完成后，保存退出</p>
<pre><code>sentinel monitor sen1 127.0.0.1 6379 1
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210307175632457.png" alt="在这里插入图片描述"></p>
<p>启动哨兵</p>
<p><img src="https://img-blog.csdnimg.cn/20210307175828421.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2021030717593749.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>哨兵启动，根据配置文件，当前监控的6379成为主机，还有两个从机6380，6381</p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>测试</h4><p>打开新窗口，模拟主机6379宕机，进入6379客户端，shutdown<br><img src="https://img-blog.csdnimg.cn/2021030718031035.png" alt="在这里插入图片描述"><br>过一段时间，哨兵会通过心跳检测机制发现主机宕机，开始投票，推选出新的主机，这个例子中6381成了新主机</p>
<p><img src="https://img-blog.csdnimg.cn/2021030718042723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看6381服务器信息，也验证了6381是新主机<br><img src="https://img-blog.csdnimg.cn/20210307180609188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这里投票的机制，我们暂且不讨论，但是一定会从生下的从机选出主机</p>
<p>如果之前的主机6379重新连接，发现自己只能作为6381的从机，观察哨兵的投票记录我们可以看到，其实6379下线时，就已经沦为从机的位置了</p>
<p>登录6379客户端，查看信息<br><img src="https://img-blog.csdnimg.cn/20210307181204977.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>优点：</p>
<ul>
<li>  哨兵集群，基于主从复制模式，拥有其全部优点</li>
<li>  可以主从切换，实现故障转移</li>
<li>  哨兵模式就是主从模式的升级版，实现自动切换，更加健壮</li>
</ul>
<p>缺点</p>
<ul>
<li>  Redis不好实现在线扩容，集群容量一旦到达上限，在线扩容十分困难</li>
<li>  实现哨兵模式配置的过程其实比较麻烦，我们的举例只是最简单的</li>
<li>  真正的全部配置，有很多，如果有哨兵集群更加复杂，</li>
</ul>
<p>后续补充哨兵的详细配置</p>
<h2 id="6-Redis-缓存穿透、击穿、雪崩（面试重点）"><a href="#6-Redis-缓存穿透、击穿、雪崩（面试重点）" class="headerlink" title="6.Redis 缓存穿透、击穿、雪崩（面试重点）"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>6.Redis 缓存穿透、击穿、雪崩（面试重点）</h2><h3 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>缓存穿透</h3><h4 id="概念-3"><a href="#概念-3" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p><img src="https://img-blog.csdnimg.cn/20210307183123161.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>用户查询数据，发现Redis内存数据库中没有，也就是缓存没有命中，请求就会想持久层数据库查询，也没有，查询失败；</p>
<p>当用户量很大，或者恶意攻击，大量的请求进入到持久层数据库，会给数据库造成很大的压力，形成了缓存穿透</p>
<p>解决方案</p>
<h4 id="布隆过滤器"><a href="#布隆过滤器" class="headerlink" title="布隆过滤器"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>布隆过滤器</h4><p>布隆过滤器是一种数据结构，对所有可能查询的参数以hash形式存储，在控制层先校验，不符合则丢弃，避免对底层数据库直接查询<br><img src="https://img-blog.csdnimg.cn/2021030718314680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>具体原理可以自行查询</p>
<h4 id="缓存空对象"><a href="#缓存空对象" class="headerlink" title="缓存空对象"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>缓存空对象</h4><p>当存储层不命中后，即使返回一个空对象，也可以将其缓存起来，同时设置一个过期时间，在一定时间内也可以将请求拦截在缓存中<br><img src="https://img-blog.csdnimg.cn/20210307183440577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>缺点</p>
<ul>
<li>  存储空对象，以为这缓存中需要存储更多的键值对，浪费资源</li>
<li>  即使空对象缓存有生命周期，到了过期时间，仍然会出现缓存层和存储层数据不一致，对业务也有影响</li>
</ul>
<h3 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>缓存击穿</h3><h4 id="概念-4"><a href="#概念-4" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p>某些数据key非常热点，不停抗住大量并发，由于某种原因（宕机或过期），当这个key在失效的瞬间，持续大量的并发会将缓存击穿，直接请求数据库，导致数据库瞬间压力过大</p>
<p>缓存穿透与缓存击穿区别：穿透是查不到，击穿是本来能查到，突然失效了，发生穿透</p>
<p>解决方案</p>
<h4 id="设置热点数据永不过期"><a href="#设置热点数据永不过期" class="headerlink" title="设置热点数据永不过期"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>设置热点数据永不过期</h4><p>也有缺点，最终还是需要定期处理</p>
<h4 id="加互斥锁"><a href="#加互斥锁" class="headerlink" title="加互斥锁"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>加互斥锁</h4><p>分布式锁：使用分布式锁，确保每个key同时只有一个线程去查询后端服务，其他线程没有获取分布式锁的权限，只能等待，这种方式将高并发的压力转移到了分布式锁上面，对分布式锁的考验很大</p>
<h3 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>缓存雪崩</h3><h4 id="概念-5"><a href="#概念-5" class="headerlink" title="概念"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>概念</h4><p>在某一个时间段内，大量缓存集中失效（比如宕机、过期），导致访问查询都落到数据库上，对于数据库而言，产生了周期性的压力波峰，存储层调用量暴增，造成存储层挂掉</p>
<p><img src="https://img-blog.csdnimg.cn/20210307185110957.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NzI1Nzc0OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>解决方案</p>
<h4 id="Redis高可用"><a href="#Redis高可用" class="headerlink" title="Redis高可用"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>Redis高可用</h4><p>搭建Redis集群</p>
<p>大厂比如阿里，在双十一会停掉部分业务，保障主业务</p>
<h4 id="限流降级"><a href="#限流降级" class="headerlink" title="限流降级"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>限流降级</h4><p>在缓存失效后，通过加锁或者队列来控制读数据库写缓存的线程数量，如，一个key只允许一个线程查询和写缓存，其他线程等待</p>
<h4 id="数据预热"><a href="#数据预热" class="headerlink" title="数据预热"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187"></a>数据预热</h4><p>正式部署之前，先把可能的数据访问一遍，可以使一大部分访问的数据加载到缓存中，提前加载不同的数据；</p>
<p>设置不同的过期时间，让缓存失效的时间均匀分散</p>
<p>本文转自 <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164580136416780261920323&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-114044856.pc_search_result_positive&utm_term=redis+2021&spm=1018.2226.3001.4187">https://blog.csdn.net/weixin_47257749/article/details/114044856?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164580136416780261920323%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=164580136416780261920323&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<del>all</del>baidu_landing_v2~default-1-114044856.pc_search_result_positive&amp;utm_term=redis+2021&amp;spm=1018.2226.3001.4187</a>，如有侵权，请联系删除。</p>

      
       <hr><span style="font-style: italic;color: gray;"> 部分资料来源于网络，版权属其原著者所有，只供学习交流之用，非商务用途。如有侵犯您的权益，请联系【公众号：码农印象】删除，可在下面评论，亦可邮件至ysluckly.520@qq.com。互动交流时请遵守宽容、换位思考的原则。 </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'e2124f560cfd0eb39dbd',
            clientSecret: '4be2c247d3945f99e8db63224555838f4a729d57',
            repo: 'gittalk',
            owner: 'ysluckly',
            admin: ['ysluckly'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2021-2022@码农印象
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 552px;
    }
    .nav.fullscreen {
        margin-left: -552px;
    }
    .nav-left {
        width: 130px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    #post {
        background: url(https://s4.ax1x.com/2022/02/20/HLfdgJ.jpg);
    }
    
    
    #post .index {
        background: url(https://s4.ax1x.com/2022/02/20/HLgPeK.md.jpg);
    }
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.5;
        background: url("https://s4.ax1x.com/2022/02/20/HLdoMF.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>






<div class="mobile-menus-out" >

</div>
<div class="mobile-menus">
    
    
    <a class="dynamic-menu site_url"   href="/2022/02/02/gamesh/">休闲小游戏</a>
    
    
    
</div>


</html>
